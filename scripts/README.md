# –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è Flexbe IDE

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ IDE.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```bash
npm install
npm run download:plugins
npm run full-start
```

### –û–±—ã—á–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
npm run quick-start
```

---

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### `npm run full-start` ‚ú® –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

**–ü–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –∑–∞–Ω—è—Ç –ª–∏ –ø–æ—Ä—Ç 4000
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å–æ–±—Ä–∞–Ω—ã –ª–∏ custom-ui (`lib/backend` + `lib/frontend`)
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å–æ–±—Ä–∞–Ω –ª–∏ browser-app (`lib/backend/main.js` + `lib/frontend`)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `find` –¥–ª—è —Ç–æ—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏)
- –ó–∞–ø—É—Å–∫–∞–µ—Ç IDE –Ω–∞ http://localhost:4000

```bash
npm run full-start
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü–æ—Å–ª–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `custom-ui/src/`
- –ï—Å–ª–∏ –Ω–µ —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ –≤—Å—ë –∞–∫—Ç—É–∞–ª—å–Ω–æ
- –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

---

### `npm run quick-start` ‚ö°

**–ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–æ–∫:**
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–µ—Ä–≤–µ—Ä (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –°—Ä–∞–∑—É –∑–∞–ø—É—Å–∫–∞–µ—Ç IDE
- –ù–ï –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–±–æ—Ä–∫–∏

```bash
npm run quick-start
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü—Ä–æ–µ–∫—Ç —É–∂–µ —Å–æ–±—Ä–∞–Ω
- –ù—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
- –£–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ –≤—Å—ë –∞–∫—Ç—É–∞–ª—å–Ω–æ

---

### `npm run rebuild` üî®

**–ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞:**
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω)
- –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç custom-ui
- –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç browser-app
- –ù–ï –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

```bash
npm run rebuild
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞—Ö custom-ui
- –î–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏
- –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

### `npm run start` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è)

**–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Turbo:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Turbo –¥–ª—è –∑–∞–ø—É—Å–∫–∞
- –ù–ï –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–±–æ—Ä–∫–∏
- –ù–ï –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã

```bash
npm run start
```

---

### `npm run build` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è)

**–°–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ Turbo:**
- –°–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ workspace (custom-ui + browser-app)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–µ—à Turbo –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è

```bash
npm run build
```

---

## üîß –ü—Ä—è–º—ã–µ —Å–∫—Ä–∏–ø—Ç—ã (–±–µ–∑ npm)

–ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é:

```bash
# –ü–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫
./scripts/full-start.sh

# –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫
./scripts/quick-start.sh

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞
./scripts/rebuild-all.sh
```

---

## üõ†Ô∏è Workflow –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –†–µ–∂–∏–º 1: Watch Mode (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–û—Ç–∫—Ä—ã—Ç—å 2 —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 - Watch custom-ui:**
```bash
cd custom-ui
npm run watch
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 - Start IDE:**
```bash
npm run quick-start
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ custom-ui –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—é—Ç—Å—è.**
–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ (`Cmd+R`).

---

### –†–µ–∂–∏–º 2: –†—É—á–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `custom-ui/src/`:

```bash
npm run rebuild
npm run quick-start
```

---

## üìù –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### –û—à–∏–±–∫–∞: "Port 4000 already in use"

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 4000
lsof -ti :4000 | xargs kill

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ full-start (–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
npm run full-start
```

### –û—à–∏–±–∫–∞: "Cannot GET /" –∏–ª–∏ 404

```bash
# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –≤—Å—ë
npm run rebuild

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
npm run quick-start
```

### –û—à–∏–±–∫–∞: "Module not found @flexbe/custom-ui"

```bash
# –¢–µ–ø–µ—Ä—å full-start –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç —ç—Ç—É –æ—à–∏–±–∫—É!
npm run full-start

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
npm run build --workspace=custom-ui
npm run build --workspace=browser-app
```

### –û—à–∏–±–∫–∞: node-gyp –∏–ª–∏ Python

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Python 3.10
npm config get python

# –ï—Å–ª–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –¥–æ–±–∞–≤–∏—Ç—å –≤ .npmrc
echo "python=/opt/homebrew/bin/python3.10" > .npmrc
```

---

## üîç –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ—Ä—Ç–∞ 4000
lsof -i :4000

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–∞ –ø–æ—Ä—Ç—É 4000
lsof -ti :4000 | xargs kill

# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã Theia
ps aux | grep "theia start"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å–æ–±—Ä–∞–Ω –ª–∏ custom-ui (–Ω—É–∂–Ω—ã –æ–±–∞!)
ls -la custom-ui/lib/backend
ls -la custom-ui/lib/frontend

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å–æ–±—Ä–∞–Ω –ª–∏ browser-app
ls -la browser-app/lib/backend/main.js
ls -la browser-app/lib/frontend

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
npm run clean
npm install
npm run build
```

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤

```
scripts/
‚îú‚îÄ‚îÄ full-start.sh        # –ü–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
‚îú‚îÄ‚îÄ quick-start.sh       # –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫
‚îú‚îÄ‚îÄ rebuild-all.sh       # –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ custom-ui + browser-app
‚îú‚îÄ‚îÄ patch-ai-plugins.js  # –ü–∞—Ç—á–∏ –¥–ª—è AI –ø–ª–∞–≥–∏–Ω–æ–≤
‚îî‚îÄ‚îÄ README.md           # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## ‚öôÔ∏è –ü–æ—Ä—è–¥–æ–∫ —Å–±–æ—Ä–∫–∏

**–í–∞–∂–Ω–æ:** custom-ui –¥–æ–ª–∂–µ–Ω —Å–æ–±–∏—Ä–∞—Ç—å—Å—è –î–û browser-app!

```
1. custom-ui/src/  ‚Üí  custom-ui/lib/  (Vite build)
2. custom-ui/lib/  ‚Üí  browser-app  (–∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è)
3. browser-app  ‚Üí  browser-app/lib/  (Webpack build)
```

–ü–æ—ç—Ç–æ–º—É –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `custom-ui/src/`:

```bash
cd custom-ui && npm run build      # –°–Ω–∞—á–∞–ª–∞ custom-ui
cd ../browser-app && npm run build # –ü–æ—Ç–æ–º browser-app
```

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ:

```bash
npm run rebuild
```
