{"version":3,"file":"shell-init-contribution.js","sources":["../../../src/frontend/layout/shell-init-contribution.ts"],"sourcesContent":["import {\n    DefaultFrontendApplicationContribution\n} from '@theia/core/lib/browser';\nimport { FrontendApplicationStateService } from '@theia/core/lib/browser/frontend-application-state';\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { FileNavigatorContribution } from '@theia/navigator/lib/browser/navigator-contribution';\nimport { OutputContribution } from '@theia/output/lib/browser/output-contribution';\nimport { SearchInWorkspaceFrontendContribution } from '@theia/search-in-workspace/lib/browser/search-in-workspace-frontend-contribution';\n\n@injectable()\nexport class ShellInitContribution extends DefaultFrontendApplicationContribution {\n    @inject(FileNavigatorContribution)\n    protected readonly navigatorContribution: FileNavigatorContribution;\n\n    @inject(SearchInWorkspaceFrontendContribution)\n    protected readonly searchContribution: SearchInWorkspaceFrontendContribution;\n\n    @inject(OutputContribution)\n    protected readonly outputContribution: OutputContribution;\n\n    @inject(FrontendApplicationStateService)\n    protected readonly appStateService: FrontendApplicationStateService;\n\n    async onDidInitializeLayout(): Promise<void> {\n        await this.openDefaultLayout();\n    }\n\n    async onStart(): Promise<void> {\n        this.appStateService.onStateChanged((state) => {\n            if (state === 'ready') {\n                document.body.classList.add('theia-app-ready');\n            }\n        });\n    }\n\n    /**\n     * Open default layout on theia load\n     */\n    protected async openDefaultLayout(): Promise<void> {\n        // Force activate files + search + output (bottom)\n        await this.navigatorContribution.openView({\n            area: 'left',\n            reveal: true,\n            rank: 100,\n        });\n\n        await this.searchContribution.openView({\n            area: 'left',\n            reveal: false,\n            rank: 200,\n        });\n\n        // Reveal output widget\n        void this.outputContribution.openView({\n            area: 'bottom',\n            reveal: true,\n        });\n    }\n}\n"],"names":["ShellInitContribution","DefaultFrontendApplicationContribution","state","__decorateClass","inject","FileNavigatorContribution","SearchInWorkspaceFrontendContribution","OutputContribution","FrontendApplicationStateService","injectable"],"mappings":"+nBAUaA,QAAAA,sBAAN,cAAoCC,EAAAA,sCAAuC,CAE3D,sBAGA,mBAGA,mBAGA,gBAEnB,MAAM,uBAAuC,CACzC,MAAM,KAAK,kBAAA,CAAkB,CAGjC,MAAM,SAAyB,CAC3B,KAAK,gBAAgB,eAAgBC,GAAU,CACvCA,IAAU,SACV,SAAS,KAAK,UAAU,IAAI,iBAAiB,CACjD,CACH,CAAA,CAML,MAAgB,mBAAmC,CAE/C,MAAM,KAAK,sBAAsB,SAAS,CACtC,KAAM,OACN,OAAQ,GACR,KAAM,GAAA,CACT,EAED,MAAM,KAAK,mBAAmB,SAAS,CACnC,KAAM,OACN,OAAQ,GACR,KAAM,GAAA,CACT,EAGI,KAAK,mBAAmB,SAAS,CAClC,KAAM,SACN,OAAQ,EAAA,CACX,CAAA,CAET,EA9CuBC,EAAA,CADlBC,EAAAA,OAAOC,EAAAA,yBAAyB,CAAA,EADxBL,8BAEU,UAAA,wBAAA,CAAA,EAGAG,EAAA,CADlBC,EAAAA,OAAOE,EAAAA,qCAAqC,CAAA,EAJpCN,8BAKU,UAAA,qBAAA,CAAA,EAGAG,EAAA,CADlBC,EAAAA,OAAOG,EAAAA,kBAAkB,CAAA,EAPjBP,8BAQU,UAAA,qBAAA,CAAA,EAGAG,EAAA,CADlBC,EAAAA,OAAOI,EAAAA,+BAA+B,CAAA,EAV9BR,8BAWU,UAAA,kBAAA,CAAA,EAXVA,QAAAA,sBAANG,EAAA,CADNM,EAAAA,WAAA,CAAW,EACCT,6BAAA"}