{"version":3,"file":"vendors-node_modules_theia_test_lib_browser_view_test-output-view-contribution_js-node_module-afe5ef.js","mappings":"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","sources":["webpack:///../node_modules/@theia/test/src/browser/view/test-output-view-contribution.ts?","webpack:///../node_modules/@theia/test/src/browser/view/test-output-widget.ts?","webpack:///../node_modules/@theia/test/src/browser/view/test-result-view-contribution.ts?","webpack:///../node_modules/@theia/test/src/browser/view/test-result-widget.ts?"],"sourcesContent":["// *****************************************************************************\n// Copyright (C) 2023 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { AbstractViewContribution } from '@theia/core/lib/browser';\nimport { TestOutputWidget } from './test-output-widget';\nimport { injectable } from '@theia/core/shared/inversify';\nimport { nls } from '@theia/core';\n\n@injectable()\nexport class TestOutputViewContribution extends AbstractViewContribution<TestOutputWidget> {\n    constructor() {\n        super({\n            widgetId: TestOutputWidget.ID,\n            widgetName: nls.localizeByDefault('Test Output'),\n            defaultWidgetOptions: {\n                area: 'bottom'\n            }\n        });\n\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2023 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nimport { Terminal } from 'xterm';\nimport { FitAddon } from 'xterm-addon-fit';\n\nimport { BaseWidget, Message, Widget, codicon, isFirefox } from '@theia/core/lib/browser';\nimport { inject, injectable, postConstruct } from '@theia/core/shared/inversify';\nimport { Disposable, DisposableCollection } from '@theia/core';\nimport { TerminalPreferences } from '@theia/terminal/lib/browser/terminal-preferences';\nimport { TerminalThemeService } from '@theia/terminal/lib/browser/terminal-theme-service';\nimport { TestOutputSource, TestOutputUIModel } from './test-output-ui-model';\nimport debounce = require('p-debounce');\n\n@injectable()\nexport class TestOutputWidget extends BaseWidget {\n    @inject(TerminalPreferences) protected readonly preferences: TerminalPreferences;\n    @inject(TerminalThemeService) protected readonly themeService: TerminalThemeService;\n    @inject(TestOutputUIModel) protected readonly uiModel: TestOutputUIModel;\n\n    static ID = 'test-output-view';\n\n    protected term: Terminal;\n    protected disposeOnSetInput = new DisposableCollection();\n    protected fitAddon: FitAddon;\n\n    constructor() {\n        super();\n\n        this.id = TestOutputWidget.ID;\n        this.title.label = 'Test Output';\n        this.title.caption = 'Test Output';\n        this.title.iconClass = codicon('symbol-keyword');\n        this.title.closable = true;\n    }\n\n    @postConstruct()\n    init(): void {\n        this.term = new Terminal({\n            disableStdin: true,\n            cursorStyle: 'bar',\n            fontFamily: this.preferences['terminal.integrated.fontFamily'],\n            fontSize: this.preferences['terminal.integrated.fontSize'],\n            fontWeight: this.preferences['terminal.integrated.fontWeight'],\n            fontWeightBold: this.preferences['terminal.integrated.fontWeightBold'],\n            drawBoldTextInBrightColors: this.preferences['terminal.integrated.drawBoldTextInBrightColors'],\n            letterSpacing: this.preferences['terminal.integrated.letterSpacing'],\n            lineHeight: this.preferences['terminal.integrated.lineHeight'],\n            scrollback: this.preferences['terminal.integrated.scrollback'],\n            fastScrollSensitivity: this.preferences['terminal.integrated.fastScrollSensitivity'],\n            theme: this.themeService.theme\n        });\n\n        this.fitAddon = new FitAddon();\n        this.term.loadAddon(this.fitAddon);\n        this.setInput(this.uiModel.selectedOutputSource);\n        this.uiModel.onDidChangeSelectedOutputSource(source => this.setInput(source));\n\n        this.toDispose.push(Disposable.create(() =>\n            this.term.dispose()\n        ));\n    }\n\n    setInput(selectedOutputSource: TestOutputSource | undefined): void {\n        this.disposeOnSetInput.dispose();\n        this.disposeOnSetInput = new DisposableCollection();\n        this.term.clear();\n        if (selectedOutputSource) {\n            selectedOutputSource.output.forEach(item => this.term.writeln(item.output));\n            this.disposeOnSetInput.push(selectedOutputSource.onDidAddTestOutput(items => {\n                items.forEach(item => this.term.writeln(item.output));\n            }));\n            this.term.scrollToBottom();\n        }\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        super.onAfterAttach(msg);\n        this.term.open(this.node);\n\n        if (isFirefox) {\n            // monkey patching intersection observer handling for secondary window support\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const renderService: any = (this.term as any)._core._renderService;\n            const originalFunc: (entry: IntersectionObserverEntry) => void = renderService._onIntersectionChange.bind(renderService);\n            const replacement = function (entry: IntersectionObserverEntry): void {\n                if (entry.target.ownerDocument !== document) {\n                    // in Firefox, the intersection observer always reports the widget as non-intersecting if the dom element\n                    // is in a different document from when the IntersectionObserver started observing. Since we know\n                    // that the widget is always \"visible\" when in a secondary window, so we mark the entry as \"intersecting\"\n                    const patchedEvent: IntersectionObserverEntry = {\n                        ...entry,\n                        isIntersecting: true,\n                    };\n                    originalFunc(patchedEvent);\n                } else {\n                    originalFunc(entry);\n                }\n            };\n\n            renderService._onIntersectionChange = replacement;\n        }\n\n        if (isFirefox) {\n            // The software scrollbars don't work with xterm.js, so we disable the scrollbar if we are on firefox.\n            if (this.term.element) {\n                (this.term.element.children.item(0) as HTMLElement).style.overflow = 'hidden';\n            }\n        }\n    }\n\n    protected override onResize(msg: Widget.ResizeMessage): void {\n        super.onResize(msg);\n        this.resizeTerminal();\n    }\n\n    protected resizeTerminal = debounce(() => this.doResizeTerminal(), 50);\n\n    protected doResizeTerminal(): void {\n        if (this.isDisposed) {\n            return;\n        }\n        const geo = this.fitAddon.proposeDimensions();\n        if (geo) {\n            const cols = geo.cols;\n            const rows = geo.rows - 1; // subtract one row for margin\n            this.term.resize(cols, rows);\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2023 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { AbstractViewContribution } from '@theia/core/lib/browser';\nimport { injectable } from '@theia/core/shared/inversify';\nimport { TestResultWidget } from './test-result-widget';\nimport { nls } from '@theia/core';\n\n@injectable()\nexport class TestResultViewContribution extends AbstractViewContribution<TestResultWidget> {\n    constructor() {\n        super({\n            widgetId: TestResultWidget.ID,\n            widgetName: nls.localizeByDefault('Test Results'),\n            defaultWidgetOptions: {\n                area: 'bottom'\n            }\n        });\n\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2023 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { BaseWidget, LabelProvider, Message, OpenerService, codicon } from '@theia/core/lib/browser';\nimport { inject, injectable, postConstruct } from '@theia/core/shared/inversify';\nimport { TestOutputUIModel } from './test-output-ui-model';\nimport { DisposableCollection, nls } from '@theia/core';\nimport { TestFailure, TestMessage, TestMessageStackFrame } from '../test-service';\nimport { MarkdownRenderer } from '@theia/core/lib/browser/markdown-rendering/markdown-renderer';\nimport { MarkdownString } from '@theia/core/lib/common/markdown-rendering';\nimport { URI } from '@theia/core/lib/common/uri';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\nimport { NavigationLocationService } from '@theia/editor/lib/browser/navigation/navigation-location-service';\nimport { NavigationLocation, Position } from '@theia/editor/lib/browser/navigation/navigation-location';\n@injectable()\nexport class TestResultWidget extends BaseWidget {\n\n    static readonly ID = 'test-result-widget';\n\n    @inject(TestOutputUIModel) uiModel: TestOutputUIModel;\n    @inject(MarkdownRenderer) markdownRenderer: MarkdownRenderer;\n    @inject(OpenerService) openerService: OpenerService;\n    @inject(FileService) fileService: FileService;\n    @inject(NavigationLocationService) navigationService: NavigationLocationService;\n    @inject(LabelProvider) protected readonly labelProvider: LabelProvider;\n\n    protected toDisposeOnRender = new DisposableCollection();\n    protected input: TestMessage[] = [];\n    protected content: HTMLDivElement;\n\n    constructor() {\n        super();\n        this.addClass('theia-test-result-view');\n        this.id = TestResultWidget.ID;\n        this.title.label = nls.localizeByDefault('Test Results');\n        this.title.caption = nls.localizeByDefault('Test Results');\n        this.title.iconClass = codicon('checklist');\n        this.title.closable = true;\n        this.scrollOptions = {\n            minScrollbarLength: 35,\n        };\n    }\n\n    @postConstruct()\n    init(): void {\n        this.uiModel.onDidChangeSelectedTestState(e => {\n            if (TestFailure.is(e)) {\n                this.setInput(e.messages);\n            }\n        });\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        super.onAfterAttach(msg);\n        this.content = this.node.ownerDocument.createElement('div');\n        this.node.append(this.content);\n    }\n\n    setInput(messages: TestMessage[]): void {\n        this.input = messages;\n        this.update();\n    }\n\n    protected override onUpdateRequest(msg: Message): void {\n        this.render();\n        super.onUpdateRequest(msg);\n    }\n\n    render(): void {\n        this.toDisposeOnRender.dispose();\n        this.toDisposeOnRender = new DisposableCollection();\n        this.content.innerHTML = '';\n        this.input.forEach(message => {\n            if (MarkdownString.is(message.message)) {\n                const line = this.markdownRenderer.render(message.message);\n                this.content.append(line.element);\n                this.toDisposeOnRender.push(line);\n            } else {\n                this.content.append(this.node.ownerDocument.createTextNode(message.message));\n            }\n            if (message.stackTrace) {\n                const stackTraceElement = this.node.ownerDocument.createElement('div');\n                message.stackTrace.map(frame => this.renderFrame(frame, stackTraceElement));\n                this.content.append(stackTraceElement);\n            }\n        });\n    }\n\n    renderFrame(stackFrame: TestMessageStackFrame, stackTraceElement: HTMLElement): void {\n        const frameElement = stackTraceElement.ownerDocument.createElement('div');\n        frameElement.classList.add('debug-frame');\n        frameElement.append(`    ${nls.localize('theia/test/stackFrameAt', 'at')} ${stackFrame.label}`);\n\n        // Add URI information as clickable links\n        if (stackFrame.uri) {\n            frameElement.append(' (');\n            const uri = new URI(stackFrame.uri);\n\n            const link = this.node.ownerDocument.createElement('a');\n            let content = `${this.labelProvider.getName(uri)}`;\n            if (stackFrame.position) {\n                // Display Position as a 1-based position, similar to Monaco ones.\n                const monacoPosition = {\n                    lineNumber: stackFrame.position.line + 1,\n                    column: stackFrame.position.character + 1\n                };\n                content += `:${monacoPosition.lineNumber}:${monacoPosition.column}`;\n            }\n            link.textContent = content;\n            link.href = `${uri}`;\n            link.onclick = () => this.openUriInWorkspace(uri, stackFrame.position);\n            frameElement.append(link);\n            frameElement.append(')');\n        }\n        stackTraceElement.append(frameElement);\n    }\n\n    async openUriInWorkspace(uri: URI, position?: Position): Promise<void> {\n        this.fileService.resolve(uri).then(stat => {\n            if (stat.isFile) {\n                this.navigationService.reveal(NavigationLocation.create(uri, position ?? { line: 0, character: 0 }));\n            }\n        });\n    }\n\n    override dispose(): void {\n        this.toDisposeOnRender.dispose();\n    }\n}\n"],"names":[],"sourceRoot":""}