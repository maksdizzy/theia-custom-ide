{"version":3,"file":"vendors-node_modules_theia_debug_lib_browser_debug-session-manager_js.js","mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;;AAE3D;;AAEA;AACA,0CAA0C;;AAE1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B,oBAAoB,eAAe;AACnC;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd,4EAA4E;AAC5E;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,CAAC;;AAED","sources":["webpack:///../node_modules/@theia/console/src/browser/ansi-console-item.tsx?","webpack:///../node_modules/@theia/core/shared/react-dom/client/index.js?","webpack:///../node_modules/@theia/core/shared/vscode-uri/index.js?","webpack:///../node_modules/@theia/debug/src/browser/breakpoint/breakpoint-manager.ts?","webpack:///../node_modules/@theia/debug/src/browser/breakpoint/breakpoint-marker.ts?","webpack:///../node_modules/@theia/debug/src/browser/console/debug-console-contribution.tsx?","webpack:///../node_modules/@theia/debug/src/browser/console/debug-console-items.tsx?","webpack:///../node_modules/@theia/debug/src/browser/console/debug-console-session.ts?","webpack:///../node_modules/@theia/debug/src/browser/debug-call-stack-item-type-key.ts?","webpack:///../node_modules/@theia/debug/src/browser/debug-configuration-manager.ts?","webpack:///../node_modules/@theia/debug/src/browser/debug-configuration-model.ts?","webpack:///../node_modules/@theia/debug/src/browser/debug-contribution.ts?","webpack:///../node_modules/@theia/debug/src/browser/debug-frontend-application-contribution.ts?","webpack:///../node_modules/@theia/debug/src/browser/debug-preferences.ts?","webpack:///../node_modules/@theia/debug/src/browser/debug-schema-updater.ts?","webpack:///../node_modules/@theia/debug/src/browser/debug-session-configuration-label-provider.ts?","webpack:///../node_modules/@theia/debug/src/browser/debug-session-connection.ts?","webpack:///../node_modules/@theia/debug/src/browser/debug-session-contribution.ts?","webpack:///../node_modules/@theia/debug/src/browser/debug-session-manager.ts?","webpack:///../node_modules/@theia/debug/src/browser/debug-session-options.ts?","webpack:///../node_modules/@theia/debug/src/browser/debug-session.tsx?","webpack:///../node_modules/@theia/debug/src/browser/debug-watch-manager.ts?","webpack:///../node_modules/@theia/debug/src/browser/editor/debug-breakpoint-widget.tsx?","webpack:///../node_modules/@theia/debug/src/browser/editor/debug-editor-model.ts?","webpack:///../node_modules/@theia/debug/src/browser/editor/debug-editor-service.ts?","webpack:///../node_modules/@theia/debug/src/browser/editor/debug-editor.ts?","webpack:///../node_modules/@theia/debug/src/browser/editor/debug-exception-widget.tsx?","webpack:///../node_modules/@theia/debug/src/browser/editor/debug-expression-provider.ts?","webpack:///../node_modules/@theia/debug/src/browser/editor/debug-hover-source.tsx?","webpack:///../node_modules/@theia/debug/src/browser/editor/debug-hover-widget.ts?","webpack:///../node_modules/@theia/debug/src/browser/editor/debug-inline-value-decorator.ts?","webpack:///../node_modules/@theia/debug/src/browser/model/debug-breakpoint.tsx?","webpack:///../node_modules/@theia/debug/src/browser/model/debug-function-breakpoint.tsx?","webpack:///../node_modules/@theia/debug/src/browser/model/debug-instruction-breakpoint.tsx?","webpack:///../node_modules/@theia/debug/src/browser/model/debug-source-breakpoint.tsx?","webpack:///../node_modules/@theia/debug/src/browser/model/debug-source.ts?","webpack:///../node_modules/@theia/debug/src/browser/model/debug-stack-frame.tsx?","webpack:///../node_modules/@theia/debug/src/browser/model/debug-thread.tsx?","webpack:///../node_modules/@theia/debug/src/browser/view/debug-action.tsx?","webpack:///../node_modules/@theia/debug/src/browser/view/debug-breakpoints-source.tsx?","webpack:///../node_modules/@theia/debug/src/browser/view/debug-breakpoints-widget.ts?","webpack:///../node_modules/@theia/debug/src/browser/view/debug-configuration-select.tsx?","webpack:///../node_modules/@theia/debug/src/browser/view/debug-configuration-widget.tsx?","webpack:///../node_modules/@theia/debug/src/browser/view/debug-exception-breakpoint.tsx?","webpack:///../node_modules/@theia/debug/src/browser/view/debug-session-widget.ts?","webpack:///../node_modules/@theia/debug/src/browser/view/debug-stack-frames-source.tsx?","webpack:///../node_modules/@theia/debug/src/browser/view/debug-stack-frames-widget.ts?","webpack:///../node_modules/@theia/debug/src/browser/view/debug-threads-source.tsx?","webpack:///../node_modules/@theia/debug/src/browser/view/debug-threads-widget.ts?","webpack:///../node_modules/@theia/debug/src/browser/view/debug-toolbar-widget.tsx?","webpack:///../node_modules/@theia/debug/src/browser/view/debug-variables-source.ts?","webpack:///../node_modules/@theia/debug/src/browser/view/debug-variables-widget.ts?","webpack:///../node_modules/@theia/debug/src/browser/view/debug-view-model.ts?","webpack:///../node_modules/@theia/debug/src/browser/view/debug-watch-expression.tsx?","webpack:///../node_modules/@theia/debug/src/browser/view/debug-watch-source.ts?","webpack:///../node_modules/@theia/debug/src/browser/view/debug-watch-widget.ts?","webpack:///../node_modules/@theia/debug/src/browser/view/debug-widget.ts?","webpack:///../node_modules/@theia/debug/src/common/debug-common.ts?","webpack:///../node_modules/@theia/debug/src/common/debug-compound.ts?","webpack:///../node_modules/@theia/debug/src/common/debug-configuration.ts?","webpack:///../node_modules/@theia/debug/src/common/debug-service.ts?","webpack:///../node_modules/@theia/debug/src/common/debug-uri-utils.ts?","webpack:///../node_modules/@theia/monaco/src/browser/monaco-editor-zone-widget.ts?","webpack:///../node_modules/anser/lib/index.js?"],"sourcesContent":["// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from '@theia/core/shared/react';\nimport * as DOMPurify from '@theia/core/shared/dompurify';\nimport { ConsoleItem } from './console-session';\nimport { Severity } from '@theia/core/lib/common/severity';\nimport Anser = require('anser');\n\nexport class AnsiConsoleItem implements ConsoleItem {\n\n    protected readonly htmlContent: string;\n\n    constructor(\n        public readonly content: string,\n        public readonly severity?: Severity\n    ) {\n        this.htmlContent = new Anser().ansiToHtml(this.content, {\n            use_classes: true,\n            remove_empty: true\n        });\n    }\n\n    get visible(): boolean {\n        return !!this.htmlContent;\n    }\n\n    render(): React.ReactNode {\n        return <div\n            className='theia-console-ansi-console-item'\n            dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(this.htmlContent) }} // eslint-disable-line react/no-danger\n        />;\n    }\n\n}\n","module.exports = require('react-dom/client');\n","module.exports = require('vscode-uri');\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as deepEqual from 'fast-deep-equal';\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { Emitter } from '@theia/core/lib/common';\nimport { StorageService } from '@theia/core/lib/browser';\nimport { Marker } from '@theia/markers/lib/common/marker';\nimport { MarkerManager } from '@theia/markers/lib/browser/marker-manager';\nimport URI from '@theia/core/lib/common/uri';\nimport { SourceBreakpoint, BREAKPOINT_KIND, ExceptionBreakpoint, FunctionBreakpoint, BaseBreakpoint, InstructionBreakpoint } from './breakpoint-marker';\n\nexport interface BreakpointsChangeEvent<T extends BaseBreakpoint> {\n    uri: URI\n    added: T[]\n    removed: T[]\n    changed: T[]\n}\nexport type SourceBreakpointsChangeEvent = BreakpointsChangeEvent<SourceBreakpoint>;\nexport type FunctionBreakpointsChangeEvent = BreakpointsChangeEvent<FunctionBreakpoint>;\nexport type InstructionBreakpointsChangeEvent = BreakpointsChangeEvent<InstructionBreakpoint>;\n\n@injectable()\nexport class BreakpointManager extends MarkerManager<SourceBreakpoint> {\n\n    static EXCEPTION_URI = new URI('debug:exception://');\n\n    static FUNCTION_URI = new URI('debug:function://');\n\n    static INSTRUCTION_URI = new URI('debug:instruction://');\n\n    protected readonly owner = 'breakpoint';\n\n    @inject(StorageService)\n    protected readonly storage: StorageService;\n\n    getKind(): string {\n        return BREAKPOINT_KIND;\n    }\n\n    protected readonly onDidChangeBreakpointsEmitter = new Emitter<SourceBreakpointsChangeEvent>();\n    readonly onDidChangeBreakpoints = this.onDidChangeBreakpointsEmitter.event;\n\n    protected readonly onDidChangeFunctionBreakpointsEmitter = new Emitter<FunctionBreakpointsChangeEvent>();\n    readonly onDidChangeFunctionBreakpoints = this.onDidChangeFunctionBreakpointsEmitter.event;\n\n    protected readonly onDidChangeInstructionBreakpointsEmitter = new Emitter<InstructionBreakpointsChangeEvent>();\n    readonly onDidChangeInstructionBreakpoints = this.onDidChangeInstructionBreakpointsEmitter.event;\n\n    override setMarkers(uri: URI, owner: string, newMarkers: SourceBreakpoint[]): Marker<SourceBreakpoint>[] {\n        const result = this.findMarkers({ uri, owner });\n        const added: SourceBreakpoint[] = [];\n        const removed: SourceBreakpoint[] = [];\n        const changed: SourceBreakpoint[] = [];\n        const oldMarkers = new Map(result.map(({ data }) => [data.id, data]));\n        const ids = new Set<string>();\n        let didChangeMarkers = false;\n        for (const newMarker of newMarkers) {\n            ids.add(newMarker.id);\n            const oldMarker = oldMarkers.get(newMarker.id);\n            if (!oldMarker) {\n                added.push(newMarker);\n            } else {\n                // We emit all existing markers as 'changed', but we only fire an event if something really did change.\n                // We also fire an event if oldMarker === newMarker, as we cannot actually detect a change in this case\n                // (https://github.com/eclipse-theia/theia/issues/12546).\n                didChangeMarkers ||= !!added.length || oldMarker === newMarker || !deepEqual(oldMarker, newMarker);\n                changed.push(newMarker);\n            }\n        }\n        for (const [id, data] of oldMarkers.entries()) {\n            if (!ids.has(id)) {\n                removed.push(data);\n            }\n        }\n        if (added.length || removed.length || didChangeMarkers) {\n            super.setMarkers(uri, owner, newMarkers);\n            this.onDidChangeBreakpointsEmitter.fire({ uri, added, removed, changed });\n        }\n        return result;\n    }\n\n    getLineBreakpoints(uri: URI, line: number): SourceBreakpoint[] {\n        return this.findMarkers({\n            uri,\n            dataFilter: breakpoint => breakpoint.raw.line === line\n        }).map(({ data }) => data);\n    }\n\n    getInlineBreakpoint(uri: URI, line: number, column: number): SourceBreakpoint | undefined {\n        const marker = this.findMarkers({\n            uri,\n            dataFilter: breakpoint => breakpoint.raw.line === line && breakpoint.raw.column === column\n        })[0];\n        return marker && marker.data;\n    }\n\n    getBreakpoints(uri?: URI): SourceBreakpoint[] {\n        return this.findMarkers({ uri }).map(marker => marker.data);\n    }\n\n    setBreakpoints(uri: URI, breakpoints: SourceBreakpoint[]): void {\n        this.setMarkers(uri, this.owner, breakpoints.sort((a, b) => (a.raw.line - b.raw.line) || ((a.raw.column || 0) - (b.raw.column || 0))));\n    }\n\n    addBreakpoint(breakpoint: SourceBreakpoint): boolean {\n        const uri = new URI(breakpoint.uri);\n        const breakpoints = this.getBreakpoints(uri);\n        const newBreakpoints = breakpoints.filter(({ raw }) => !(raw.line === breakpoint.raw.line && raw.column === breakpoint.raw.column));\n        if (breakpoints.length === newBreakpoints.length) {\n            newBreakpoints.push(breakpoint);\n            this.setBreakpoints(uri, newBreakpoints);\n            return true;\n        }\n        return false;\n    }\n\n    enableAllBreakpoints(enabled: boolean): void {\n        for (const uriString of this.getUris()) {\n            let didChange = false;\n            const uri = new URI(uriString);\n            const markers = this.findMarkers({ uri });\n            for (const marker of markers) {\n                if (marker.data.enabled !== enabled) {\n                    marker.data.enabled = enabled;\n                    didChange = true;\n                }\n            }\n            if (didChange) {\n                this.fireOnDidChangeMarkers(uri);\n            }\n        }\n        let didChangeFunction = false;\n        for (const breakpoint of (this.getFunctionBreakpoints() as BaseBreakpoint[]).concat(this.getInstructionBreakpoints())) {\n            if (breakpoint.enabled !== enabled) {\n                breakpoint.enabled = enabled;\n                didChangeFunction = true;\n\n            }\n        }\n        if (didChangeFunction) {\n            this.fireOnDidChangeMarkers(BreakpointManager.FUNCTION_URI);\n        }\n    }\n\n    protected _breakpointsEnabled = true;\n    get breakpointsEnabled(): boolean {\n        return this._breakpointsEnabled;\n    }\n    set breakpointsEnabled(breakpointsEnabled: boolean) {\n        if (this._breakpointsEnabled !== breakpointsEnabled) {\n            this._breakpointsEnabled = breakpointsEnabled;\n            for (const uri of this.getUris()) {\n                this.fireOnDidChangeMarkers(new URI(uri));\n            }\n            this.fireOnDidChangeMarkers(BreakpointManager.FUNCTION_URI);\n        }\n    }\n\n    protected readonly exceptionBreakpoints = new Map<string, ExceptionBreakpoint>();\n\n    getExceptionBreakpoint(filter: string): ExceptionBreakpoint | undefined {\n        return this.exceptionBreakpoints.get(filter);\n    }\n\n    getExceptionBreakpoints(): IterableIterator<ExceptionBreakpoint> {\n        return this.exceptionBreakpoints.values();\n    }\n\n    setExceptionBreakpoints(exceptionBreakpoints: ExceptionBreakpoint[]): void {\n        const toRemove = new Set(this.exceptionBreakpoints.keys());\n        for (const exceptionBreakpoint of exceptionBreakpoints) {\n            const filter = exceptionBreakpoint.raw.filter;\n            toRemove.delete(filter);\n            this.exceptionBreakpoints.set(filter, exceptionBreakpoint);\n        }\n        for (const filter of toRemove) {\n            this.exceptionBreakpoints.delete(filter);\n        }\n        if (toRemove.size || exceptionBreakpoints.length) {\n            this.fireOnDidChangeMarkers(BreakpointManager.EXCEPTION_URI);\n        }\n    }\n\n    toggleExceptionBreakpoint(filter: string): void {\n        const breakpoint = this.getExceptionBreakpoint(filter);\n        if (breakpoint) {\n            breakpoint.enabled = !breakpoint.enabled;\n            this.fireOnDidChangeMarkers(BreakpointManager.EXCEPTION_URI);\n        }\n    }\n\n    updateExceptionBreakpoint(filter: string, options: Partial<Pick<ExceptionBreakpoint, 'condition' | 'enabled'>>): void {\n        const breakpoint = this.getExceptionBreakpoint(filter);\n        if (breakpoint) {\n            Object.assign(breakpoint, options);\n            this.fireOnDidChangeMarkers(BreakpointManager.EXCEPTION_URI);\n        }\n    }\n\n    protected functionBreakpoints: FunctionBreakpoint[] = [];\n\n    getFunctionBreakpoints(): FunctionBreakpoint[] {\n        return this.functionBreakpoints;\n    }\n\n    setFunctionBreakpoints(functionBreakpoints: FunctionBreakpoint[]): void {\n        const oldBreakpoints = new Map(this.functionBreakpoints.map(b => [b.id, b] as [string, FunctionBreakpoint]));\n\n        this.functionBreakpoints = functionBreakpoints;\n        this.fireOnDidChangeMarkers(BreakpointManager.FUNCTION_URI);\n\n        const added: FunctionBreakpoint[] = [];\n        const removed: FunctionBreakpoint[] = [];\n        const changed: FunctionBreakpoint[] = [];\n        const ids = new Set<string>();\n        for (const newBreakpoint of functionBreakpoints) {\n            ids.add(newBreakpoint.id);\n            if (oldBreakpoints.has(newBreakpoint.id)) {\n                changed.push(newBreakpoint);\n            } else {\n                added.push(newBreakpoint);\n            }\n        }\n        for (const [id, breakpoint] of oldBreakpoints.entries()) {\n            if (!ids.has(id)) {\n                removed.push(breakpoint);\n            }\n        }\n        this.onDidChangeFunctionBreakpointsEmitter.fire({ uri: BreakpointManager.FUNCTION_URI, added, removed, changed });\n    }\n\n    protected instructionBreakpoints: InstructionBreakpoint[] = [];\n\n    getInstructionBreakpoints(): ReadonlyArray<InstructionBreakpoint> {\n        return Object.freeze(this.instructionBreakpoints.slice());\n    }\n\n    hasBreakpoints(): boolean {\n        return Boolean(this.getUris().next().value || this.functionBreakpoints.length || this.instructionBreakpoints.length);\n    }\n\n    protected setInstructionBreakpoints(newBreakpoints: InstructionBreakpoint[]): void {\n        const oldBreakpoints = new Map(this.instructionBreakpoints.map(breakpoint => [breakpoint.id, breakpoint]));\n        const currentBreakpoints = new Map(newBreakpoints.map(breakpoint => [breakpoint.id, breakpoint]));\n        const added = [];\n        const changed = [];\n        for (const [id, breakpoint] of currentBreakpoints.entries()) {\n            const old = oldBreakpoints.get(id);\n            if (old) {\n                changed.push(old);\n            } else {\n                added.push(breakpoint);\n            }\n            oldBreakpoints.delete(id);\n        }\n        const removed = Array.from(oldBreakpoints.values());\n        this.instructionBreakpoints = Array.from(currentBreakpoints.values());\n        this.fireOnDidChangeMarkers(BreakpointManager.INSTRUCTION_URI);\n        this.onDidChangeInstructionBreakpointsEmitter.fire({ uri: BreakpointManager.INSTRUCTION_URI, added, removed, changed });\n    }\n\n    addInstructionBreakpoint(address: string, offset: number, condition?: string, hitCondition?: string): void {\n        this.setInstructionBreakpoints(this.instructionBreakpoints.concat(InstructionBreakpoint.create({\n            instructionReference: address,\n            offset,\n            condition,\n            hitCondition,\n        })));\n    }\n\n    updateInstructionBreakpoint(id: string, options: Partial<Pick<InstructionBreakpoint, 'condition' | 'hitCondition' | 'enabled'>>): void {\n        const breakpoint = this.instructionBreakpoints.find(candidate => id === candidate.id);\n        if (breakpoint) {\n            Object.assign(breakpoint, options);\n            this.fireOnDidChangeMarkers(BreakpointManager.INSTRUCTION_URI);\n            this.onDidChangeInstructionBreakpointsEmitter.fire({ uri: BreakpointManager.INSTRUCTION_URI, changed: [breakpoint], added: [], removed: [] });\n        }\n    }\n\n    removeInstructionBreakpoint(address?: string): void {\n        if (!address) {\n            this.clearInstructionBreakpoints();\n        }\n        const breakpointIndex = this.instructionBreakpoints.findIndex(breakpoint => breakpoint.instructionReference === address);\n        if (breakpointIndex !== -1) {\n            const removed = this.instructionBreakpoints.splice(breakpointIndex, 1);\n            this.fireOnDidChangeMarkers(BreakpointManager.INSTRUCTION_URI);\n            this.onDidChangeInstructionBreakpointsEmitter.fire({ uri: BreakpointManager.INSTRUCTION_URI, added: [], changed: [], removed });\n        }\n    }\n\n    clearInstructionBreakpoints(): void {\n        this.setInstructionBreakpoints([]);\n    }\n\n    removeBreakpoints(): void {\n        this.cleanAllMarkers();\n        this.setFunctionBreakpoints([]);\n        this.setInstructionBreakpoints([]);\n    }\n\n    async load(): Promise<void> {\n        const data = await this.storage.getData<BreakpointManager.Data>('breakpoints', {\n            breakpointsEnabled: true,\n            breakpoints: {}\n        });\n        this._breakpointsEnabled = data.breakpointsEnabled;\n        // eslint-disable-next-line guard-for-in\n        for (const uri in data.breakpoints) {\n            this.setBreakpoints(new URI(uri), data.breakpoints[uri]);\n        }\n        if (data.functionBreakpoints) {\n            this.setFunctionBreakpoints(data.functionBreakpoints);\n        }\n        if (data.exceptionBreakpoints) {\n            this.setExceptionBreakpoints(data.exceptionBreakpoints);\n        }\n        if (data.instructionBreakpoints) {\n            this.setInstructionBreakpoints(data.instructionBreakpoints);\n        }\n    }\n\n    save(): void {\n        const data: BreakpointManager.Data = {\n            breakpointsEnabled: this._breakpointsEnabled,\n            breakpoints: {}\n        };\n        const uris = this.getUris();\n        for (const uri of uris) {\n            data.breakpoints[uri] = this.findMarkers({ uri: new URI(uri) }).map(marker => marker.data);\n        }\n        if (this.functionBreakpoints.length) {\n            data.functionBreakpoints = this.functionBreakpoints;\n        }\n        if (this.exceptionBreakpoints.size) {\n            data.exceptionBreakpoints = [...this.exceptionBreakpoints.values()];\n        }\n        if (this.instructionBreakpoints.length) {\n            data.instructionBreakpoints = this.instructionBreakpoints;\n        }\n        this.storage.setData('breakpoints', data);\n    }\n\n}\nexport namespace BreakpointManager {\n    export interface Data {\n        breakpointsEnabled: boolean;\n        breakpoints: {\n            [uri: string]: SourceBreakpoint[];\n        }\n        exceptionBreakpoints?: ExceptionBreakpoint[];\n        functionBreakpoints?: FunctionBreakpoint[];\n        instructionBreakpoints?: InstructionBreakpoint[];\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { UUID } from '@theia/core/shared/@lumino/coreutils';\nimport { Marker } from '@theia/markers/lib/common/marker';\nimport { DebugProtocol } from '@vscode/debugprotocol/lib/debugProtocol';\nimport { isObject, isString, URI } from '@theia/core/lib/common';\n\nexport const BREAKPOINT_KIND = 'breakpoint';\n\nexport interface BaseBreakpoint {\n    id: string;\n    enabled: boolean;\n}\n\nexport interface SourceBreakpoint extends BaseBreakpoint {\n    uri: string;\n    raw: DebugProtocol.SourceBreakpoint;\n}\nexport namespace SourceBreakpoint {\n    export function create(uri: URI, data: DebugProtocol.SourceBreakpoint, origin?: SourceBreakpoint): SourceBreakpoint {\n        return {\n            id: origin ? origin.id : UUID.uuid4(),\n            uri: uri.toString(),\n            enabled: origin ? origin.enabled : true,\n            raw: {\n                ...(origin && origin.raw),\n                ...data\n            }\n        };\n    }\n}\n\nexport interface BreakpointMarker extends Marker<SourceBreakpoint> {\n    kind: 'breakpoint'\n}\nexport namespace BreakpointMarker {\n    export function is(node: Marker<object>): node is BreakpointMarker {\n        return 'kind' in node && node.kind === BREAKPOINT_KIND;\n    }\n}\n\nexport interface ExceptionBreakpoint {\n    enabled: boolean;\n    condition?: string;\n    raw: DebugProtocol.ExceptionBreakpointsFilter;\n}\nexport namespace ExceptionBreakpoint {\n    export function create(data: DebugProtocol.ExceptionBreakpointsFilter, origin?: ExceptionBreakpoint): ExceptionBreakpoint {\n        return {\n            enabled: origin ? origin.enabled : false,\n            condition: origin ? origin.condition : undefined,\n            raw: {\n                ...(origin && origin.raw),\n                ...data\n            }\n        };\n    }\n}\n\nexport interface FunctionBreakpoint extends BaseBreakpoint {\n    raw: DebugProtocol.FunctionBreakpoint;\n}\nexport namespace FunctionBreakpoint {\n    export function create(data: DebugProtocol.FunctionBreakpoint, origin?: FunctionBreakpoint): FunctionBreakpoint {\n        return {\n            id: origin ? origin.id : UUID.uuid4(),\n            enabled: origin ? origin.enabled : true,\n            raw: {\n                ...(origin && origin.raw),\n                ...data\n            }\n        };\n    }\n}\n\nexport interface InstructionBreakpoint extends BaseBreakpoint, DebugProtocol.InstructionBreakpoint { }\n\nexport namespace InstructionBreakpoint {\n    export function create(raw: DebugProtocol.InstructionBreakpoint, existing?: InstructionBreakpoint): InstructionBreakpoint {\n        return {\n            ...raw,\n            id: existing?.id ?? UUID.uuid4(),\n            enabled: existing?.enabled ?? true,\n        };\n    }\n\n    export function is(arg: BaseBreakpoint): arg is InstructionBreakpoint {\n        return isObject<InstructionBreakpoint>(arg) && isString(arg.instructionReference);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { ConsoleSessionManager } from '@theia/console/lib/browser/console-session-manager';\nimport { ConsoleOptions, ConsoleWidget } from '@theia/console/lib/browser/console-widget';\nimport { AbstractViewContribution, bindViewContribution, codicon, Widget, WidgetFactory } from '@theia/core/lib/browser';\nimport { ContextKey, ContextKeyService } from '@theia/core/lib/browser/context-key-service';\nimport { nls } from '@theia/core/lib/common/nls';\nimport { TabBarToolbarContribution, TabBarToolbarRegistry } from '@theia/core/lib/browser/shell/tab-bar-toolbar';\nimport { Command, CommandRegistry } from '@theia/core/lib/common/command';\nimport { Severity } from '@theia/core/lib/common/severity';\nimport { inject, injectable, interfaces, postConstruct } from '@theia/core/shared/inversify';\nimport * as React from '@theia/core/shared/react';\nimport { SelectComponent, SelectOption } from '@theia/core/lib/browser/widgets/select-component';\nimport { DebugSession } from '../debug-session';\nimport { DebugSessionManager, DidChangeActiveDebugSession } from '../debug-session-manager';\nimport { DebugConsoleSession, DebugConsoleSessionFactory } from './debug-console-session';\nimport { InMemoryResources } from '@theia/core';\n\nexport type InDebugReplContextKey = ContextKey<boolean>;\nexport const InDebugReplContextKey = Symbol('inDebugReplContextKey');\n\nexport namespace DebugConsoleCommands {\n\n    export const DEBUG_CATEGORY = 'Debug';\n\n    export const CLEAR = Command.toDefaultLocalizedCommand({\n        id: 'debug.console.clear',\n        category: DEBUG_CATEGORY,\n        label: 'Clear Console',\n        iconClass: codicon('clear-all')\n    });\n}\n\n@injectable()\nexport class DebugConsoleContribution extends AbstractViewContribution<ConsoleWidget> implements TabBarToolbarContribution {\n\n    @inject(ConsoleSessionManager)\n    protected consoleSessionManager: ConsoleSessionManager;\n\n    @inject(DebugConsoleSessionFactory)\n    protected debugConsoleSessionFactory: DebugConsoleSessionFactory;\n\n    @inject(DebugSessionManager)\n    protected debugSessionManager: DebugSessionManager;\n\n    @inject(InMemoryResources)\n    protected readonly resources: InMemoryResources;\n\n    constructor() {\n        super({\n            widgetId: DebugConsoleContribution.options.id,\n            widgetName: DebugConsoleContribution.options.title!.label!,\n            defaultWidgetOptions: {\n                area: 'bottom'\n            },\n            toggleCommandId: 'debug:console:toggle',\n            toggleKeybinding: 'ctrlcmd+shift+y'\n        });\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.resources.add(DebugConsoleSession.uri, '');\n        this.debugSessionManager.onDidCreateDebugSession(session => {\n            const consoleParent = session.findConsoleParent();\n            if (consoleParent) {\n                const parentConsoleSession = this.consoleSessionManager.get(consoleParent.id);\n                if (parentConsoleSession instanceof DebugConsoleSession) {\n                    session.on('output', event => parentConsoleSession.logOutput(parentConsoleSession.debugSession, event));\n                }\n            } else {\n                const consoleSession = this.debugConsoleSessionFactory(session);\n                this.consoleSessionManager.add(consoleSession);\n                session.on('output', event => consoleSession.logOutput(session, event));\n            }\n        });\n        this.debugSessionManager.onDidChangeActiveDebugSession(event => this.handleActiveDebugSessionChanged(event));\n        this.debugSessionManager.onDidDestroyDebugSession(session => {\n            this.consoleSessionManager.delete(session.id);\n        });\n    }\n\n    protected handleActiveDebugSessionChanged(event: DidChangeActiveDebugSession): void {\n        if (!event.current) {\n            this.consoleSessionManager.selectedSession = undefined;\n        } else {\n            const topSession = event.current.findConsoleParent() || event.current;\n            const consoleSession = topSession ? this.consoleSessionManager.get(topSession.id) : undefined;\n            this.consoleSessionManager.selectedSession = consoleSession;\n            const consoleSelector = document.getElementById('debugConsoleSelector');\n            if (consoleSession && consoleSelector instanceof HTMLSelectElement) {\n                consoleSelector.value = consoleSession.id;\n            }\n        }\n    }\n\n    override registerCommands(commands: CommandRegistry): void {\n        super.registerCommands(commands);\n        commands.registerCommand(DebugConsoleCommands.CLEAR, {\n            isEnabled: widget => this.withWidget(widget, () => true),\n            isVisible: widget => this.withWidget(widget, () => true),\n            execute: widget => this.withWidget(widget, () => {\n                this.clearConsole();\n            }),\n        });\n    }\n\n    async registerToolbarItems(toolbarRegistry: TabBarToolbarRegistry): Promise<void> {\n        toolbarRegistry.registerItem({\n            id: 'debug-console-severity',\n            render: widget => this.renderSeveritySelector(widget),\n            isVisible: widget => this.withWidget(widget, () => true),\n            onDidChange: this.consoleSessionManager.onDidChangeSeverity\n        });\n\n        toolbarRegistry.registerItem({\n            id: 'debug-console-session-selector',\n            render: widget => this.renderDebugConsoleSelector(widget),\n            isVisible: widget => this.withWidget(widget, () => this.consoleSessionManager.all.length > 1)\n        });\n\n        toolbarRegistry.registerItem({\n            id: DebugConsoleCommands.CLEAR.id,\n            command: DebugConsoleCommands.CLEAR.id,\n            tooltip: DebugConsoleCommands.CLEAR.label,\n            priority: 0,\n        });\n    }\n\n    static options: ConsoleOptions = {\n        id: 'debug-console',\n        title: {\n            label: nls.localizeByDefault('Debug Console'),\n            iconClass: codicon('debug-console')\n        },\n        input: {\n            uri: DebugConsoleSession.uri,\n            options: {\n                autoSizing: true,\n                minHeight: 1,\n                maxHeight: 10\n            }\n        }\n    };\n\n    static async create(parent: interfaces.Container): Promise<ConsoleWidget> {\n        const inputFocusContextKey = parent.get<InDebugReplContextKey>(InDebugReplContextKey);\n        const child = ConsoleWidget.createContainer(parent, {\n            ...DebugConsoleContribution.options,\n            inputFocusContextKey\n        });\n        const widget = child.get(ConsoleWidget);\n        await widget.ready;\n        return widget;\n    }\n\n    static bindContribution(bind: interfaces.Bind): void {\n        bind(InDebugReplContextKey).toDynamicValue(({ container }) =>\n            container.get<ContextKeyService>(ContextKeyService).createKey('inDebugRepl', false)\n        ).inSingletonScope();\n        bind(DebugConsoleSession).toSelf().inRequestScope();\n        bind(DebugConsoleSessionFactory).toFactory(context => (session: DebugSession) => {\n            const consoleSession = context.container.get(DebugConsoleSession);\n            consoleSession.debugSession = session;\n            return consoleSession;\n        });\n        bind(ConsoleSessionManager).toSelf().inSingletonScope();\n        bindViewContribution(bind, DebugConsoleContribution);\n        bind(TabBarToolbarContribution).toService(DebugConsoleContribution);\n        bind(WidgetFactory).toDynamicValue(({ container }) => ({\n            id: DebugConsoleContribution.options.id,\n            createWidget: () => DebugConsoleContribution.create(container)\n        }));\n    }\n\n    protected renderSeveritySelector(widget: Widget | undefined): React.ReactNode {\n        const severityElements: SelectOption[] = Severity.toArray().map(e => ({\n            value: e,\n            label: Severity.toLocaleString(e)\n        }));\n\n        return <SelectComponent\n            key=\"debugConsoleSeverity\"\n            options={severityElements}\n            defaultValue={this.consoleSessionManager.severity || Severity.Ignore}\n            onChange={this.changeSeverity} />;\n    }\n\n    protected renderDebugConsoleSelector(widget: Widget | undefined): React.ReactNode {\n        const availableConsoles: SelectOption[] = [];\n        this.consoleSessionManager.all.forEach(e => {\n            if (e instanceof DebugConsoleSession) {\n                availableConsoles.push({\n                    value: e.id,\n                    label: e.debugSession.label\n                });\n            }\n        });\n\n        return <SelectComponent\n            key=\"debugConsoleSelector\"\n            options={availableConsoles}\n            defaultValue={0}\n            onChange={this.changeDebugConsole} />;\n    }\n\n    protected changeDebugConsole = (option: SelectOption) => {\n        const id = option.value!;\n        const session = this.consoleSessionManager.get(id);\n        this.consoleSessionManager.selectedSession = session;\n    };\n\n    protected changeSeverity = (option: SelectOption) => {\n        this.consoleSessionManager.severity = Severity.fromValue(option.value);\n    };\n\n    protected withWidget<T>(widget: Widget | undefined = this.tryGetWidget(), fn: (widget: ConsoleWidget) => T): T | false {\n        if (widget instanceof ConsoleWidget && widget.id === DebugConsoleContribution.options.id) {\n            return fn(widget);\n        }\n        return false;\n    }\n\n    /**\n     * Clear the console widget.\n     */\n    protected async clearConsole(): Promise<void> {\n        const widget = await this.widget;\n        widget.clear();\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from '@theia/core/shared/react';\nimport { DebugProtocol } from '@vscode/debugprotocol/lib/debugProtocol';\nimport { SingleTextInputDialog } from '@theia/core/lib/browser';\nimport { ConsoleItem, CompositeConsoleItem } from '@theia/console/lib/browser/console-session';\nimport { DebugSession } from '../debug-session';\nimport { Severity } from '@theia/core/lib/common/severity';\nimport * as monaco from '@theia/monaco-editor-core';\nimport { nls } from '@theia/core';\n\nexport type DebugSessionProvider = () => DebugSession | undefined;\n\nexport class ExpressionContainer implements CompositeConsoleItem {\n\n    private static readonly BASE_CHUNK_SIZE = 100;\n\n    protected readonly sessionProvider: DebugSessionProvider;\n    protected get session(): DebugSession | undefined {\n        return this.sessionProvider();\n    }\n\n    protected variablesReference: number;\n    protected namedVariables: number | undefined;\n    protected indexedVariables: number | undefined;\n    protected readonly startOfVariables: number;\n\n    constructor(options: ExpressionContainer.Options) {\n        this.sessionProvider = options.session;\n        this.variablesReference = options.variablesReference || 0;\n        this.namedVariables = options.namedVariables;\n        this.indexedVariables = options.indexedVariables;\n        this.startOfVariables = options.startOfVariables || 0;\n    }\n\n    render(): React.ReactNode {\n        return undefined;\n    }\n\n    get hasElements(): boolean {\n        return !!this.variablesReference;\n    }\n\n    protected elements: Promise<ExpressionContainer[]> | undefined;\n    async getElements(): Promise<IterableIterator<ExpressionContainer>> {\n        if (!this.hasElements || !this.session) {\n            return [][Symbol.iterator]();\n        }\n        if (!this.elements) {\n            this.elements = this.doResolve();\n        }\n        return (await this.elements)[Symbol.iterator]();\n    }\n    protected async doResolve(): Promise<ExpressionContainer[]> {\n        const result: ExpressionContainer[] = [];\n        if (this.namedVariables) {\n            await this.fetch(result, 'named');\n        }\n        if (this.indexedVariables) {\n            let chunkSize = ExpressionContainer.BASE_CHUNK_SIZE;\n            while (this.indexedVariables > chunkSize * ExpressionContainer.BASE_CHUNK_SIZE) {\n                chunkSize *= ExpressionContainer.BASE_CHUNK_SIZE;\n            }\n            if (this.indexedVariables > chunkSize) {\n                const numberOfChunks = Math.ceil(this.indexedVariables / chunkSize);\n                for (let i = 0; i < numberOfChunks; i++) {\n                    const start = this.startOfVariables + i * chunkSize;\n                    const count = Math.min(chunkSize, this.indexedVariables - i * chunkSize);\n                    const { variablesReference } = this;\n                    result.push(new DebugVirtualVariable({\n                        session: this.sessionProvider,\n                        variablesReference,\n                        namedVariables: 0,\n                        indexedVariables: count,\n                        startOfVariables: start,\n                        name: `[${start}..${start + count - 1}]`\n                    }));\n                }\n                return result;\n            }\n        }\n        await this.fetch(result, 'indexed', this.startOfVariables, this.indexedVariables);\n        return result;\n    }\n\n    protected fetch(result: ConsoleItem[], filter: 'named'): Promise<void>;\n    protected fetch(result: ConsoleItem[], filter: 'indexed', start: number, count?: number): Promise<void>;\n    protected async fetch(result: ConsoleItem[], filter: 'indexed' | 'named', start?: number, count?: number): Promise<void> {\n        try {\n            const { variablesReference } = this;\n            const response = await this.session!.sendRequest('variables', { variablesReference, filter, start, count });\n            const { variables } = response.body;\n            const names = new Set<string>();\n            for (const variable of variables) {\n                if (!names.has(variable.name)) {\n                    result.push(new DebugVariable(this.sessionProvider, variable, this));\n                    names.add(variable.name);\n                }\n            }\n        } catch (e) {\n            result.push({\n                severity: Severity.Error,\n                visible: !!e.message,\n                render: () => e.message\n            });\n        }\n    }\n\n}\nexport namespace ExpressionContainer {\n    export interface Options {\n        session: DebugSessionProvider,\n        variablesReference?: number\n        namedVariables?: number\n        indexedVariables?: number\n        startOfVariables?: number\n    }\n}\n\nexport class DebugVariable extends ExpressionContainer {\n\n    static booleanRegex = /^true|false$/i;\n    static stringRegex = /^(['\"]).*\\1$/;\n\n    constructor(\n        session: DebugSessionProvider,\n        protected readonly variable: DebugProtocol.Variable,\n        readonly parent: ExpressionContainer\n    ) {\n        super({\n            session,\n            variablesReference: variable.variablesReference,\n            namedVariables: variable.namedVariables,\n            indexedVariables: variable.indexedVariables\n        });\n    }\n\n    get name(): string {\n        return this.variable.name;\n    }\n    protected _type: string | undefined;\n    get type(): string | undefined {\n        return this._type || this.variable.type;\n    }\n    protected _value: string | undefined;\n    get value(): string {\n        return this._value || this.variable.value;\n    }\n\n    get readOnly(): boolean {\n        return this.variable.presentationHint?.attributes?.includes('readOnly') ?? false;\n    }\n\n    override render(): React.ReactNode {\n        const { type, value, name } = this;\n        return <div className={this.variableClassName}>\n            <span title={type || name} className='name' ref={this.setNameRef}>{name}{!!value && ': '}</span>\n            <span title={value} ref={this.setValueRef}>{value}</span>\n        </div>;\n    }\n\n    protected get variableClassName(): string {\n        const { type, value } = this;\n        const classNames = ['theia-debug-console-variable'];\n        if (type === 'number' || type === 'boolean' || type === 'string') {\n            classNames.push(type);\n        } else if (!isNaN(+value)) {\n            classNames.push('number');\n        } else if (DebugVariable.booleanRegex.test(value)) {\n            classNames.push('boolean');\n        } else if (DebugVariable.stringRegex.test(value)) {\n            classNames.push('string');\n        }\n        return classNames.join(' ');\n    }\n\n    get supportSetVariable(): boolean {\n        return !!this.session && !!this.session.capabilities.supportsSetVariable;\n    }\n    async setValue(value: string): Promise<void> {\n        if (!this.session) {\n            return;\n        }\n        const { name, parent } = this;\n        const variablesReference = parent['variablesReference'];\n        try {\n            const response = await this.session.sendRequest('setVariable', { variablesReference, name, value });\n            this._value = response.body.value;\n            this._type = response.body.type;\n            this.variablesReference = response.body.variablesReference || 0;\n            this.namedVariables = response.body.namedVariables;\n            this.indexedVariables = response.body.indexedVariables;\n            this.elements = undefined;\n            this.session['fireDidChange']();\n        } catch (error) {\n            console.error('setValue failed:', error);\n        }\n    }\n\n    get supportCopyValue(): boolean {\n        return !!this.valueRef && document.queryCommandSupported('copy');\n    }\n    copyValue(): void {\n        const selection = document.getSelection();\n        if (this.valueRef && selection) {\n            selection.selectAllChildren(this.valueRef);\n            document.execCommand('copy');\n        }\n    }\n    protected valueRef: HTMLSpanElement | undefined;\n    protected setValueRef = (valueRef: HTMLSpanElement | null) => this.valueRef = valueRef || undefined;\n\n    get supportCopyAsExpression(): boolean {\n        return !!this.nameRef && document.queryCommandSupported('copy');\n    }\n    copyAsExpression(): void {\n        const selection = document.getSelection();\n        if (this.nameRef && selection) {\n            selection.selectAllChildren(this.nameRef);\n            document.execCommand('copy');\n        }\n    }\n    protected nameRef: HTMLSpanElement | undefined;\n    protected setNameRef = (nameRef: HTMLSpanElement | null) => this.nameRef = nameRef || undefined;\n\n    async open(): Promise<void> {\n        if (!this.supportSetVariable || this.readOnly) {\n            return;\n        }\n        const input = new SingleTextInputDialog({\n            title: nls.localize('theia/debug/debugVariableInput', 'Set {0} Value', this.name),\n            initialValue: this.value,\n            placeholder: nls.localizeByDefault('Value')\n        });\n        const newValue = await input.open();\n        if (newValue) {\n            await this.setValue(newValue);\n        }\n    }\n\n}\n\nexport class DebugVirtualVariable extends ExpressionContainer {\n\n    constructor(\n        protected readonly options: VirtualVariableItem.Options\n    ) {\n        super(options);\n    }\n\n    override render(): React.ReactNode {\n        return this.options.name;\n    }\n}\nexport namespace VirtualVariableItem {\n    export interface Options extends ExpressionContainer.Options {\n        name: string\n    }\n}\n\nexport class ExpressionItem extends ExpressionContainer {\n\n    severity?: Severity;\n    static notAvailable = 'not available';\n\n    protected _value = ExpressionItem.notAvailable;\n    get value(): string {\n        return this._value;\n    }\n    protected _type: string | undefined;\n    get type(): string | undefined {\n        return this._type;\n    }\n\n    protected _available = false;\n    get available(): boolean {\n        return this._available;\n    }\n\n    constructor(\n        protected _expression: string,\n        session: DebugSessionProvider\n    ) {\n        super({ session });\n    }\n\n    get expression(): string {\n        return this._expression;\n    }\n\n    override render(): React.ReactNode {\n        const valueClassNames: string[] = [];\n        if (!this._available) {\n            valueClassNames.push(ConsoleItem.errorClassName);\n            valueClassNames.push('theia-debug-console-unavailable');\n        }\n        return <div className={'theia-debug-console-expression'}>\n            <div>{this._expression}</div>\n            <div className={valueClassNames.join(' ')}>{this._value}</div>\n        </div>;\n    }\n\n    async evaluate(context: string = 'repl'): Promise<void> {\n        const session = this.session;\n        if (!session?.currentFrame) {\n            this.setResult(undefined, ExpressionItem.notAvailable);\n            return;\n        }\n\n        try {\n            const body = await session.evaluate(this._expression, context);\n            this.setResult(body);\n        } catch (err) {\n            this.setResult(undefined, err.message);\n        }\n    }\n\n    protected setResult(body?: DebugProtocol.EvaluateResponse['body'], error: string = ExpressionItem.notAvailable): void {\n        if (body) {\n            this._value = body.result;\n            this._type = body.type;\n            this._available = true;\n            this.variablesReference = body.variablesReference;\n            this.namedVariables = body.namedVariables;\n            this.indexedVariables = body.indexedVariables;\n            this.severity = Severity.Log;\n        } else {\n            this._value = error;\n            this._type = undefined;\n            this._available = false;\n            this.variablesReference = 0;\n            this.namedVariables = undefined;\n            this.indexedVariables = undefined;\n            this.severity = Severity.Error;\n        }\n        this.elements = undefined;\n    }\n\n}\n\nexport class DebugScope extends ExpressionContainer {\n\n    constructor(\n        protected readonly raw: DebugProtocol.Scope,\n        session: DebugSessionProvider\n    ) {\n        super({\n            session,\n            variablesReference: raw.variablesReference,\n            namedVariables: raw.namedVariables,\n            indexedVariables: raw.indexedVariables\n        });\n    }\n\n    override render(): React.ReactNode {\n        return this.name;\n    }\n\n    get expensive(): boolean {\n        return this.raw.expensive;\n    }\n\n    get range(): monaco.Range | undefined {\n        const { line, column, endLine, endColumn } = this.raw;\n        if (line !== undefined && column !== undefined && endLine !== undefined && endColumn !== undefined) {\n            return new monaco.Range(line, column, endLine, endColumn);\n        }\n        return undefined;\n    }\n\n    get name(): string {\n        return this.raw.name;\n    }\n\n    expandByDefault(): boolean {\n        return this.raw.presentationHint === 'locals';\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport throttle = require('@theia/core/shared/lodash.throttle');\nimport { DebugProtocol } from '@vscode/debugprotocol/lib/debugProtocol';\nimport { ConsoleSession, ConsoleItem } from '@theia/console/lib/browser/console-session';\nimport { AnsiConsoleItem } from '@theia/console/lib/browser/ansi-console-item';\nimport { DebugSession } from '../debug-session';\nimport URI from '@theia/core/lib/common/uri';\nimport { ExpressionContainer, ExpressionItem } from './debug-console-items';\nimport { Severity } from '@theia/core/lib/common/severity';\nimport { inject, injectable, postConstruct } from '@theia/core/shared/inversify';\nimport { DebugSessionManager } from '../debug-session-manager';\nimport * as monaco from '@theia/monaco-editor-core';\nimport { LanguageSelector } from '@theia/monaco-editor-core/esm/vs/editor/common/languageSelector';\nimport { Disposable } from '@theia/core';\n\nexport const DebugConsoleSessionFactory = Symbol('DebugConsoleSessionFactory');\n\nexport type DebugConsoleSessionFactory = (debugSession: DebugSession) => DebugConsoleSession;\n\n@injectable()\nexport class DebugConsoleSession extends ConsoleSession {\n\n    static uri = new URI().withScheme('debugconsole');\n\n    @inject(DebugSessionManager) protected readonly sessionManager: DebugSessionManager;\n\n    protected items: ConsoleItem[] = [];\n\n    protected _debugSession: DebugSession;\n\n    // content buffer for [append](#append) method\n    protected uncompletedItemContent: string | undefined;\n\n    protected readonly completionKinds = new Map<DebugProtocol.CompletionItemType | undefined, monaco.languages.CompletionItemKind>();\n\n    get debugSession(): DebugSession {\n        return this._debugSession;\n    }\n\n    set debugSession(value: DebugSession) {\n        this._debugSession = value;\n        this.id = value.id;\n    }\n\n    @postConstruct()\n    init(): void {\n        this.completionKinds.set('method', monaco.languages.CompletionItemKind.Method);\n        this.completionKinds.set('function', monaco.languages.CompletionItemKind.Function);\n        this.completionKinds.set('constructor', monaco.languages.CompletionItemKind.Constructor);\n        this.completionKinds.set('field', monaco.languages.CompletionItemKind.Field);\n        this.completionKinds.set('variable', monaco.languages.CompletionItemKind.Variable);\n        this.completionKinds.set('class', monaco.languages.CompletionItemKind.Class);\n        this.completionKinds.set('interface', monaco.languages.CompletionItemKind.Interface);\n        this.completionKinds.set('module', monaco.languages.CompletionItemKind.Module);\n        this.completionKinds.set('property', monaco.languages.CompletionItemKind.Property);\n        this.completionKinds.set('unit', monaco.languages.CompletionItemKind.Unit);\n        this.completionKinds.set('value', monaco.languages.CompletionItemKind.Value);\n        this.completionKinds.set('enum', monaco.languages.CompletionItemKind.Enum);\n        this.completionKinds.set('keyword', monaco.languages.CompletionItemKind.Keyword);\n        this.completionKinds.set('snippet', monaco.languages.CompletionItemKind.Snippet);\n        this.completionKinds.set('text', monaco.languages.CompletionItemKind.Text);\n        this.completionKinds.set('color', monaco.languages.CompletionItemKind.Color);\n        this.completionKinds.set('file', monaco.languages.CompletionItemKind.File);\n        this.completionKinds.set('reference', monaco.languages.CompletionItemKind.Reference);\n        this.completionKinds.set('customcolor', monaco.languages.CompletionItemKind.Color);\n        this.toDispose.push((monaco.languages.registerCompletionItemProvider as (languageId: LanguageSelector, provider: monaco.languages.CompletionItemProvider) => Disposable)({\n            scheme: DebugConsoleSession.uri.scheme,\n            hasAccessToAllModels: true\n        }, {\n            triggerCharacters: ['.'],\n            provideCompletionItems: (model, position) => this.completions(model, position),\n        }));\n    }\n\n    getElements(): IterableIterator<ConsoleItem> {\n        return this.items.filter(e => !this.severity || e.severity === this.severity)[Symbol.iterator]();\n    }\n\n    protected async completions(model: monaco.editor.ITextModel, position: monaco.Position): Promise<monaco.languages.CompletionList | undefined> {\n        const completionSession = this.findCompletionSession();\n        if (completionSession) {\n            const column = position.column;\n            const lineNumber = position.lineNumber;\n            const word = model.getWordAtPosition({ column, lineNumber });\n            const overwriteBefore = word ? word.word.length : 0;\n            const text = model.getValue();\n            const items = await completionSession.completions(text, column, lineNumber);\n            const suggestions = items.map(item => this.asCompletionItem(text, position, overwriteBefore, item));\n            return { suggestions };\n        }\n        return undefined;\n    }\n\n    protected findCurrentSession(): DebugSession | undefined {\n        const currentSession = this.sessionManager.currentSession;\n        if (!currentSession) {\n            return undefined;\n        }\n        if (currentSession.id === this.debugSession.id) {\n            // perfect match\n            return this.debugSession;\n        }\n        const parentSession = currentSession.findConsoleParent();\n        if (parentSession?.id === this.debugSession.id) {\n            // child of our session\n            return currentSession;\n        }\n        return undefined;\n    }\n\n    protected findCompletionSession(): DebugSession | undefined {\n        let completionSession: DebugSession | undefined = this.findCurrentSession();\n        while (completionSession !== undefined) {\n            if (completionSession.capabilities.supportsCompletionsRequest) {\n                return completionSession;\n            }\n            completionSession = completionSession.parentSession;\n        }\n        return completionSession;\n    }\n\n    protected asCompletionItem(text: string, position: monaco.Position, overwriteBefore: number, item: DebugProtocol.CompletionItem): monaco.languages.CompletionItem {\n        return {\n            label: item.label,\n            insertText: item.text || item.label,\n            kind: this.completionKinds.get(item.type) || monaco.languages.CompletionItemKind.Property,\n            filterText: (item.start && item.length) ? text.substring(item.start, item.start + item.length).concat(item.label) : undefined,\n            range: monaco.Range.fromPositions(position.delta(0, -(item.length || overwriteBefore)), position),\n            sortText: item.sortText\n        };\n    }\n\n    async execute(value: string): Promise<void> {\n        const expression = new ExpressionItem(value, () => this.findCurrentSession());\n        this.items.push(expression);\n        await expression.evaluate();\n        this.fireDidChange();\n    }\n\n    clear(): void {\n        this.items = [];\n        this.fireDidChange();\n    }\n\n    append(value: string): void {\n        if (!value) {\n            return;\n        }\n\n        const lastItem = this.items.slice(-1)[0];\n        if (lastItem instanceof AnsiConsoleItem && lastItem.content === this.uncompletedItemContent) {\n            this.items.pop();\n            this.uncompletedItemContent += value;\n        } else {\n            this.uncompletedItemContent = value;\n        }\n\n        this.items.push(new AnsiConsoleItem(this.uncompletedItemContent, Severity.Info));\n        this.fireDidChange();\n    }\n\n    appendLine(value: string): void {\n        this.items.push(new AnsiConsoleItem(value, Severity.Info));\n        this.fireDidChange();\n    }\n\n    async logOutput(session: DebugSession, event: DebugProtocol.OutputEvent): Promise<void> {\n        const body = event.body;\n        const { category, variablesReference } = body;\n        if (category === 'telemetry') {\n            console.debug(`telemetry/${event.body.output}`, event.body.data);\n            return;\n        }\n        const severity = category === 'stderr' ? Severity.Error : event.body.category === 'console' ? Severity.Warning : Severity.Info;\n        if (variablesReference) {\n            const items = await new ExpressionContainer({ session: () => session, variablesReference }).getElements();\n            for (const item of items) {\n                this.items.push(Object.assign(item, { severity }));\n            }\n        } else if (typeof body.output === 'string') {\n            for (const line of body.output.split('\\n')) {\n                this.items.push(new AnsiConsoleItem(line, severity));\n            }\n        }\n        this.fireDidChange();\n    }\n\n    protected override fireDidChange = throttle(() => super.fireDidChange(), 50);\n\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { ContextKey } from '@theia/core/lib/browser/context-key-service';\n\nexport const DebugCallStackItemTypeKey = Symbol('DebugCallStackItemTypeKey');\nexport type DebugCallStackItemTypeKey = ContextKey<'session' | 'thread' | 'stackFrame'>;\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/*---------------------------------------------------------------------------------------------\n*  Copyright (c) Microsoft Corporation. All rights reserved.\n*  Licensed under the MIT License. See License.txt in the project root for license information.\n*--------------------------------------------------------------------------------------------*/\n\nimport debounce = require('p-debounce');\nimport { visit, parse } from 'jsonc-parser';\nimport { inject, injectable, postConstruct } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { Emitter, Event, WaitUntilEvent } from '@theia/core/lib/common/event';\nimport { EditorManager, EditorWidget } from '@theia/editor/lib/browser';\nimport { MonacoEditor } from '@theia/monaco/lib/browser/monaco-editor';\nimport { LabelProvider, PreferenceScope, PreferenceService, QuickPickValue, StorageService } from '@theia/core/lib/browser';\nimport { QuickPickService } from '@theia/core/lib/common/quick-pick-service';\nimport { WorkspaceService } from '@theia/workspace/lib/browser/workspace-service';\nimport { DebugConfigurationModel } from './debug-configuration-model';\nimport { DebugSessionOptions, DynamicDebugConfigurationSessionOptions } from './debug-session-options';\nimport { DebugService } from '../common/debug-service';\nimport { ContextKey, ContextKeyService } from '@theia/core/lib/browser/context-key-service';\nimport { DebugConfiguration } from '../common/debug-common';\nimport { WorkspaceVariableContribution } from '@theia/workspace/lib/browser/workspace-variable-contribution';\nimport { PreferenceConfigurations } from '@theia/core/lib/browser/preferences/preference-configurations';\nimport { MonacoTextModelService } from '@theia/monaco/lib/browser/monaco-text-model-service';\nimport * as monaco from '@theia/monaco-editor-core';\nimport { ICommandService } from '@theia/monaco-editor-core/esm/vs/platform/commands/common/commands';\nimport { StandaloneServices } from '@theia/monaco-editor-core/esm/vs/editor/standalone/browser/standaloneServices';\nimport { nls } from '@theia/core';\nimport { DebugCompound } from '../common/debug-compound';\n\nexport interface WillProvideDebugConfiguration extends WaitUntilEvent {\n}\n\n@injectable()\nexport class DebugConfigurationManager {\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n    @inject(EditorManager)\n    protected readonly editorManager: EditorManager;\n    @inject(DebugService)\n    protected readonly debug: DebugService;\n    @inject(QuickPickService)\n    protected readonly quickPickService: QuickPickService;\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    @inject(MonacoTextModelService)\n    protected readonly textModelService: MonacoTextModelService;\n\n    @inject(PreferenceService)\n    protected readonly preferences: PreferenceService;\n\n    @inject(PreferenceConfigurations)\n    protected readonly preferenceConfigurations: PreferenceConfigurations;\n\n    @inject(WorkspaceVariableContribution)\n    protected readonly workspaceVariables: WorkspaceVariableContribution;\n\n    protected readonly onDidChangeEmitter = new Emitter<void>();\n    readonly onDidChange: Event<void> = this.onDidChangeEmitter.event;\n\n    protected readonly onWillProvideDebugConfigurationEmitter = new Emitter<WillProvideDebugConfiguration>();\n    readonly onWillProvideDebugConfiguration: Event<WillProvideDebugConfiguration> = this.onWillProvideDebugConfigurationEmitter.event;\n\n    protected readonly onWillProvideDynamicDebugConfigurationEmitter = new Emitter<WillProvideDebugConfiguration>();\n    get onWillProvideDynamicDebugConfiguration(): Event<WillProvideDebugConfiguration> {\n        return this.onWillProvideDynamicDebugConfigurationEmitter.event;\n    }\n\n    get onDidChangeConfigurationProviders(): Event<void> {\n        return this.debug.onDidChangeDebugConfigurationProviders;\n    }\n\n    protected debugConfigurationTypeKey: ContextKey<string>;\n\n    protected initialized: Promise<void>;\n\n    protected recentDynamicOptionsTracker: DynamicDebugConfigurationSessionOptions[] = [];\n\n    @postConstruct()\n    protected init(): void {\n        this.doInit();\n    }\n\n    protected async doInit(): Promise<void> {\n        this.debugConfigurationTypeKey = this.contextKeyService.createKey<string>('debugConfigurationType', undefined);\n        this.initialized = this.preferences.ready.then(() => {\n            this.workspaceService.onWorkspaceChanged(this.updateModels);\n            this.preferences.onPreferenceChanged(e => {\n                if (e.preferenceName === 'launch') {\n                    this.updateModels();\n                }\n            });\n            return this.updateModels();\n        });\n    }\n\n    protected readonly models = new Map<string, DebugConfigurationModel>();\n    protected updateModels = debounce(async () => {\n        const roots = await this.workspaceService.roots;\n        const toDelete = new Set(this.models.keys());\n        for (const rootStat of roots) {\n            const key = rootStat.resource.toString();\n            toDelete.delete(key);\n            if (!this.models.has(key)) {\n                const model = new DebugConfigurationModel(key, this.preferences);\n                model.onDidChange(() => this.updateCurrent());\n                model.onDispose(() => this.models.delete(key));\n                this.models.set(key, model);\n            }\n        }\n        for (const uri of toDelete) {\n            const model = this.models.get(uri);\n            if (model) {\n                model.dispose();\n            }\n        }\n        this.updateCurrent();\n    }, 500);\n\n    /**\n     * All _non-dynamic_ debug configurations.\n     */\n    get all(): IterableIterator<DebugSessionOptions> {\n        return this.getAll();\n    }\n    protected *getAll(): IterableIterator<DebugSessionOptions> {\n        for (const model of this.models.values()) {\n            for (const configuration of model.configurations) {\n                yield this.configurationToOptions(configuration, model.workspaceFolderUri);\n            }\n            for (const compound of model.compounds) {\n                yield this.compoundToOptions(compound, model.workspaceFolderUri);\n            }\n        }\n    }\n\n    get supported(): Promise<IterableIterator<DebugSessionOptions>> {\n        return this.getSupported();\n    }\n    protected async getSupported(): Promise<IterableIterator<DebugSessionOptions>> {\n        await this.initialized;\n        const debugTypes = await this.debug.debugTypes();\n        return this.doGetSupported(new Set(debugTypes));\n    }\n    protected *doGetSupported(debugTypes: Set<string>): IterableIterator<DebugSessionOptions> {\n        for (const options of this.getAll()) {\n            if (options.configuration && debugTypes.has(options.configuration.type)) {\n                yield options;\n            }\n        }\n    }\n\n    protected _currentOptions: DebugSessionOptions | undefined;\n    get current(): DebugSessionOptions | undefined {\n        return this._currentOptions;\n    }\n\n    async getSelectedConfiguration(): Promise<DebugSessionOptions | undefined> {\n        if (!DebugSessionOptions.isDynamic(this._currentOptions)) {\n            return this._currentOptions;\n        }\n\n        // Refresh a dynamic configuration from the provider.\n        // This allow providers to update properties before the execution e.g. program\n        const { providerType, workspaceFolderUri, configuration: { name } } = this._currentOptions;\n        const configuration = await this.fetchDynamicDebugConfiguration(name, providerType, workspaceFolderUri);\n\n        if (!configuration) {\n            const message = nls.localize(\n                'theia/debug/missingConfiguration',\n                \"Dynamic configuration '{0}:{1}' is missing or not applicable\", providerType, name);\n            throw new Error(message);\n        }\n\n        return { name, configuration, providerType, workspaceFolderUri };\n    }\n\n    set current(option: DebugSessionOptions | undefined) {\n        this.updateCurrent(option);\n        this.updateRecentlyUsedDynamicConfigurationOptions(option);\n    }\n\n    protected updateRecentlyUsedDynamicConfigurationOptions(option: DebugSessionOptions | undefined): void {\n        if (DebugSessionOptions.isDynamic(option)) {\n            // Removing an item already present in the list\n            const index = this.recentDynamicOptionsTracker.findIndex(item => this.dynamicOptionsMatch(item, option));\n            if (index > -1) {\n                this.recentDynamicOptionsTracker.splice(index, 1);\n            }\n            // Adding new item, most recent at the top of the list\n            const recentMax = 3;\n            if (this.recentDynamicOptionsTracker.unshift(option) > recentMax) {\n                // Keep the latest 3 dynamic configuration options to not clutter the dropdown.\n                this.recentDynamicOptionsTracker.splice(recentMax);\n            }\n        }\n    }\n\n    protected dynamicOptionsMatch(one: DynamicDebugConfigurationSessionOptions, other: DynamicDebugConfigurationSessionOptions): boolean {\n        return one.providerType !== undefined\n            && one.configuration.name === other.configuration.name\n            && one.providerType === other.providerType\n            && one.workspaceFolderUri === other.workspaceFolderUri;\n    }\n\n    get recentDynamicOptions(): readonly DynamicDebugConfigurationSessionOptions[] {\n        return this.recentDynamicOptionsTracker;\n    }\n\n    protected updateCurrent(options: DebugSessionOptions | undefined = this._currentOptions): void {\n        if (DebugSessionOptions.isCompound(options)) {\n            this._currentOptions = options && this.find(options.compound, options.workspaceFolderUri);\n        } else {\n            this._currentOptions = options && this.find(options.configuration, options.workspaceFolderUri, options.providerType);\n        }\n\n        if (!this._currentOptions) {\n            const model = this.getModel();\n            if (model) {\n                const configuration = model.configurations[0];\n                if (configuration) {\n                    this._currentOptions = this.configurationToOptions(configuration, model.workspaceFolderUri);\n                }\n            }\n        }\n        this.debugConfigurationTypeKey.set(this.current && this.current.configuration?.type);\n        this.onDidChangeEmitter.fire(undefined);\n    }\n\n    /**\n     * @deprecated since v1.27.0\n     */\n    find(name: string, workspaceFolderUri: string): DebugSessionOptions | undefined;\n    /**\n     * Find / Resolve DebugSessionOptions from a given target debug configuration\n     */\n    find(compound: DebugCompound, workspaceFolderUri?: string): DebugSessionOptions | undefined;\n    find(configuration: DebugConfiguration, workspaceFolderUri?: string, providerType?: string): DebugSessionOptions | undefined;\n    find(name: string, workspaceFolderUri?: string, providerType?: string): DebugSessionOptions | undefined;\n    find(nameOrConfigurationOrCompound: string | DebugConfiguration | DebugCompound, workspaceFolderUri?: string, providerType?: string): DebugSessionOptions | undefined {\n        if (DebugConfiguration.is(nameOrConfigurationOrCompound) && providerType) {\n            // providerType is only applicable to dynamic debug configurations and may only be created if we have a configuration given\n            return this.configurationToOptions(nameOrConfigurationOrCompound, workspaceFolderUri, providerType);\n        }\n        const name = typeof nameOrConfigurationOrCompound === 'string' ? nameOrConfigurationOrCompound : nameOrConfigurationOrCompound.name;\n        const configuration = this.findConfiguration(name, workspaceFolderUri);\n        if (configuration) {\n            return this.configurationToOptions(configuration, workspaceFolderUri);\n        }\n        const compound = this.findCompound(name, workspaceFolderUri);\n        if (compound) {\n            return this.compoundToOptions(compound, workspaceFolderUri);\n        }\n    }\n\n    findConfigurations(name: string, workspaceFolderUri?: string): DebugConfiguration[] {\n        const matches = [];\n        for (const model of this.models.values()) {\n            if (model.workspaceFolderUri === workspaceFolderUri) {\n                for (const configuration of model.configurations) {\n                    if (configuration.name === name) {\n                        matches.push(configuration);\n                    }\n                }\n            }\n        }\n        return matches;\n    }\n\n    findConfiguration(name: string, workspaceFolderUri?: string): DebugConfiguration | undefined {\n        for (const model of this.models.values()) {\n            if (model.workspaceFolderUri === workspaceFolderUri) {\n                for (const configuration of model.configurations) {\n                    if (configuration.name === name) {\n                        return configuration;\n                    }\n                }\n            }\n        }\n    }\n\n    findCompound(name: string, workspaceFolderUri?: string): DebugCompound | undefined {\n        for (const model of this.models.values()) {\n            if (model.workspaceFolderUri === workspaceFolderUri) {\n                for (const compound of model.compounds) {\n                    if (compound.name === name) {\n                        return compound;\n                    }\n                }\n            }\n        }\n    }\n\n    async openConfiguration(): Promise<void> {\n        const currentUri = new URI(this.current?.workspaceFolderUri);\n        const model = this.getModel(currentUri);\n        if (model) {\n            await this.doOpen(model);\n        }\n    }\n\n    protected configurationToOptions(configuration: DebugConfiguration, workspaceFolderUri?: string, providerType?: string): DebugSessionOptions {\n        return { name: configuration.name, configuration, providerType, workspaceFolderUri };\n    }\n\n    protected compoundToOptions(compound: DebugCompound, workspaceFolderUri?: string): DebugSessionOptions {\n        return { name: compound.name, compound, workspaceFolderUri };\n    }\n\n    async addConfiguration(): Promise<void> {\n        let rootUri: URI | undefined = undefined;\n        if (this.workspaceService.saved && this.workspaceService.tryGetRoots().length > 1) {\n            rootUri = await this.selectRootUri();\n            // Do not continue if the user explicitly does not choose a location.\n            if (!rootUri) {\n                return;\n            }\n        }\n\n        const model = this.getModel(rootUri);\n        if (!model) {\n            return;\n        }\n        const editor = MonacoEditor.get(await this.doOpen(model))?.getControl();\n        const editorModel = editor && editor.getModel();\n        if (!editorModel) {\n            return;\n        }\n        const commandService = StandaloneServices.get(ICommandService);\n        let position: monaco.Position | undefined;\n        let depthInArray = 0;\n        let lastProperty = '';\n        visit(editor.getValue(), {\n            onObjectProperty: property => {\n                lastProperty = property;\n            },\n            onArrayBegin: offset => {\n                if (lastProperty === 'configurations' && depthInArray === 0) {\n                    position = editorModel!.getPositionAt(offset + 1);\n                }\n                depthInArray++;\n            },\n            onArrayEnd: () => {\n                depthInArray--;\n            }\n        });\n        if (!position) {\n            return;\n        }\n        // Check if there are more characters on a line after a \"configurations\": [, if yes enter a newline\n        if (editorModel.getLineLastNonWhitespaceColumn(position.lineNumber) > position.column) {\n            editor.setPosition(position);\n            editor.trigger('debug', 'lineBreakInsert', undefined);\n        }\n        // Check if there is already an empty line to insert suggest, if yes just place the cursor\n        if (editorModel!.getLineLastNonWhitespaceColumn(position.lineNumber + 1) === 0) {\n            editor.setPosition({ lineNumber: position.lineNumber + 1, column: 1 << 30 });\n            await commandService.executeCommand('editor.action.deleteLines');\n        }\n        editor.setPosition(position);\n        await commandService.executeCommand('editor.action.insertLineAfter');\n        await commandService.executeCommand('editor.action.triggerSuggest');\n    }\n\n    protected async selectRootUri(): Promise<URI | undefined> {\n        const workspaceRoots = this.workspaceService.tryGetRoots();\n        const items: QuickPickValue<URI>[] = [];\n        for (const workspaceRoot of workspaceRoots) {\n            items.push({\n                label: this.labelProvider.getName(workspaceRoot.resource),\n                description: this.labelProvider.getLongName(workspaceRoot.resource),\n                value: workspaceRoot.resource\n            });\n        }\n        const root = await this.quickPickService.show(items, {\n            placeholder: nls.localize('theia/debug/addConfigurationPlaceholder', 'Select workspace root to add configuration to'),\n        });\n        return root?.value;\n    }\n\n    protected getModel(uri?: URI): DebugConfigurationModel | undefined {\n        const workspaceFolderUri = this.workspaceVariables.getWorkspaceRootUri(uri);\n        if (workspaceFolderUri) {\n            const key = workspaceFolderUri.toString();\n            for (const model of this.models.values()) {\n                if (model.workspaceFolderUri === key) {\n                    return model;\n                }\n            }\n        }\n        for (const model of this.models.values()) {\n            if (model.uri) {\n                return model;\n            }\n        }\n        return this.models.values().next().value;\n    }\n\n    protected async doOpen(model: DebugConfigurationModel): Promise<EditorWidget> {\n        const uri = await this.doCreate(model);\n\n        return this.editorManager.open(uri, {\n            mode: 'activate'\n        });\n    }\n\n    protected async doCreate(model: DebugConfigurationModel): Promise<URI> {\n        const uri = model.uri ?? this.preferences.getConfigUri(PreferenceScope.Folder, model.workspaceFolderUri, 'launch');\n        if (!uri) { // Since we are requesting information about a known workspace folder, this should never happen.\n            throw new Error('PreferenceService.getConfigUri has returned undefined when a URI was expected.');\n        }\n        const settingsUri = this.preferences.getConfigUri(PreferenceScope.Folder, model.workspaceFolderUri);\n        // Users may have placed their debug configurations in a `settings.json`, in which case we shouldn't modify the file.\n        if (settingsUri && !uri.isEqual(settingsUri)) {\n            await this.ensureContent(uri, model);\n        }\n        return uri;\n    }\n\n    /**\n     * Checks whether a `launch.json` file contains the minimum necessary content.\n     * If content not found, provides content and populates the file using Monaco.\n     */\n    protected async ensureContent(uri: URI, model: DebugConfigurationModel): Promise<void> {\n        const textModel = await this.textModelService.createModelReference(uri);\n        const currentContent = textModel.object.valid ? textModel.object.getText() : '';\n        try { // Look for the minimal well-formed launch.json content: {configurations: []}\n            const parsedContent = parse(currentContent);\n            if (Array.isArray(parsedContent.configurations)) {\n                return;\n            }\n        } catch {\n            // Just keep going\n        }\n        const debugType = await this.selectDebugType();\n        const configurations = debugType ? await this.provideDebugConfigurations(debugType, model.workspaceFolderUri) : [];\n        const content = this.getInitialConfigurationContent(configurations);\n        textModel.object.textEditorModel.setValue(content); // Will clobber anything the user has entered!\n        await textModel.object.save();\n    }\n\n    protected async provideDebugConfigurations(debugType: string, workspaceFolderUri: string | undefined): Promise<DebugConfiguration[]> {\n        await this.fireWillProvideDebugConfiguration();\n        return this.debug.provideDebugConfigurations(debugType, workspaceFolderUri);\n    }\n    protected async fireWillProvideDebugConfiguration(): Promise<void> {\n        await WaitUntilEvent.fire(this.onWillProvideDebugConfigurationEmitter, {});\n    }\n\n    async provideDynamicDebugConfigurations(): Promise<Record<string, DynamicDebugConfigurationSessionOptions[]>> {\n        await this.fireWillProvideDynamicDebugConfiguration();\n        const roots = this.workspaceService.tryGetRoots();\n        const promises = roots.map(async root => {\n            const configsMap = await this.debug.provideDynamicDebugConfigurations!(root.resource.toString());\n            const optionsMap = Object.fromEntries(Object.entries(configsMap).map(([type, configs]) => {\n                const options = configs.map(config => ({\n                    name: config.name,\n                    providerType: type,\n                    configuration: config,\n                    workspaceFolderUri: root.resource.toString()\n                }));\n                return [type, options];\n            }));\n            return optionsMap;\n        });\n\n        const typesToOptionsRecords = await Promise.all(promises);\n        const consolidatedTypesToOptions: Record<string, DynamicDebugConfigurationSessionOptions[]> = {};\n\n        for (const typesToOptionsInstance of typesToOptionsRecords) {\n            for (const [providerType, configurationsOptions] of Object.entries(typesToOptionsInstance)) {\n                if (!consolidatedTypesToOptions[providerType]) {\n                    consolidatedTypesToOptions[providerType] = [];\n                }\n                consolidatedTypesToOptions[providerType].push(...configurationsOptions);\n            }\n        }\n        return consolidatedTypesToOptions;\n    }\n\n    async fetchDynamicDebugConfiguration(name: string, type: string, folder?: string): Promise<DebugConfiguration | undefined> {\n        await this.fireWillProvideDynamicDebugConfiguration();\n        return this.debug.fetchDynamicDebugConfiguration(name, type, folder);\n    }\n\n    protected async fireWillProvideDynamicDebugConfiguration(): Promise<void> {\n        await this.initialized;\n        await WaitUntilEvent.fire(this.onWillProvideDynamicDebugConfigurationEmitter, {});\n    }\n\n    protected getInitialConfigurationContent(initialConfigurations: DebugConfiguration[]): string {\n        return `{\n  // Use IntelliSense to learn about possible attributes.\n  // Hover to view descriptions of existing attributes.\n  \"version\": \"0.2.0\",\n  \"configurations\": ${JSON.stringify(initialConfigurations, undefined, '  ').split('\\n').map(line => '  ' + line).join('\\n').trim()}\n}\n`;\n    }\n\n    protected async selectDebugType(): Promise<string | undefined> {\n        const widget = this.editorManager.currentEditor;\n        if (!widget) {\n            return undefined;\n        }\n        const { languageId } = widget.editor.document;\n        const debuggers = await this.debug.getDebuggersForLanguage(languageId);\n        if (debuggers.length === 0) {\n            return undefined;\n        }\n        const items: Array<QuickPickValue<string>> = debuggers.map(({ label, type }) => ({ label, value: type }));\n        const selectedItem = await this.quickPickService.show(items, { placeholder: 'Select Environment' });\n        return selectedItem?.value;\n    }\n\n    @inject(StorageService)\n    protected readonly storage: StorageService;\n\n    async load(): Promise<void> {\n        await this.initialized;\n        const data = await this.storage.getData<DebugConfigurationManager.Data>('debug.configurations', {});\n        this.resolveRecentDynamicOptionsFromData(data.recentDynamicOptions);\n\n        // Between versions v1.26 and v1.27, the expected format of the data changed so that old stored data\n        // may not contain the configuration key.\n        if (DebugSessionOptions.isConfiguration(data.current)) {\n            // ensure options name is reflected from old configurations data\n            data.current.name = data.current.name ?? data.current.configuration?.name;\n            this.current = this.find(data.current.configuration, data.current.workspaceFolderUri, data.current.providerType);\n        } else if (DebugSessionOptions.isCompound(data.current)) {\n            this.current = this.find(data.current.name, data.current.workspaceFolderUri);\n        }\n    }\n\n    protected resolveRecentDynamicOptionsFromData(options?: DynamicDebugConfigurationSessionOptions[]): void {\n        if (!options || this.recentDynamicOptionsTracker.length !== 0) {\n            return;\n        }\n\n        // ensure options name is reflected from old configurations data\n        const dynamicOptions = options.map(option => {\n            option.name = option.name ?? option.configuration.name;\n            return option;\n        }).filter(DebugSessionOptions.isDynamic);\n        this.recentDynamicOptionsTracker = dynamicOptions;\n    }\n\n    save(): void {\n        const data: DebugConfigurationManager.Data = {};\n        const { current, recentDynamicOptionsTracker } = this;\n        if (current) {\n            data.current = current;\n        }\n\n        if (this.recentDynamicOptionsTracker.length > 0) {\n            data.recentDynamicOptions = recentDynamicOptionsTracker;\n        }\n\n        if (Object.keys(data).length > 0) {\n            this.storage.setData('debug.configurations', data);\n        }\n    }\n}\n\nexport namespace DebugConfigurationManager {\n    export interface Data {\n        current?: DebugSessionOptions,\n        recentDynamicOptions?: DynamicDebugConfigurationSessionOptions[]\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport URI from '@theia/core/lib/common/uri';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { DebugConfiguration } from '../common/debug-common';\nimport { PreferenceService } from '@theia/core/lib/browser/preferences/preference-service';\nimport { DebugCompound } from '../common/debug-compound';\nimport { isObject } from '@theia/core/lib/common';\n\nexport class DebugConfigurationModel implements Disposable {\n\n    protected json: DebugConfigurationModel.JsonContent;\n\n    protected readonly onDidChangeEmitter = new Emitter<void>();\n    readonly onDidChange: Event<void> = this.onDidChangeEmitter.event;\n\n    protected readonly toDispose = new DisposableCollection(\n        this.onDidChangeEmitter\n    );\n\n    constructor(\n        readonly workspaceFolderUri: string,\n        protected readonly preferences: PreferenceService\n    ) {\n        this.reconcile();\n        this.toDispose.push(this.preferences.onPreferenceChanged(e => {\n            if (e.preferenceName === 'launch' && e.affects(workspaceFolderUri)) {\n                this.reconcile();\n            }\n        }));\n    }\n\n    get uri(): URI | undefined {\n        return this.json.uri;\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n    get onDispose(): Event<void> {\n        return this.toDispose.onDispose;\n    }\n\n    get configurations(): DebugConfiguration[] {\n        return this.json.configurations;\n    }\n\n    get compounds(): DebugCompound[] {\n        return this.json.compounds;\n    }\n\n    async reconcile(): Promise<void> {\n        this.json = this.parseConfigurations();\n        this.onDidChangeEmitter.fire(undefined);\n    }\n    protected parseConfigurations(): DebugConfigurationModel.JsonContent {\n        const configurations: DebugConfiguration[] = [];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const { configUri, value } = this.preferences.resolve<any>('launch', undefined, this.workspaceFolderUri);\n        if (isObject(value) && Array.isArray(value.configurations)) {\n            for (const configuration of value.configurations) {\n                if (DebugConfiguration.is(configuration)) {\n                    configurations.push(configuration);\n                }\n            }\n        }\n        const compounds: DebugCompound[] = [];\n        if (isObject(value) && Array.isArray(value.compounds)) {\n            for (const compound of value.compounds) {\n                if (DebugCompound.is(compound)) {\n                    compounds.push(compound);\n                }\n            }\n        }\n        return { uri: configUri, configurations, compounds };\n    }\n\n}\nexport namespace DebugConfigurationModel {\n    export interface JsonContent {\n        uri?: URI\n        configurations: DebugConfiguration[]\n        compounds: DebugCompound[]\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { DebugProtocol } from '@vscode/debugprotocol';\nimport { DebugSessionConnection } from './debug-session-connection';\n\nexport const DebugContribution = Symbol('DebugContribution');\n\nexport interface DebugContribution {\n    register(configType: string, connection: DebugSessionConnection): void;\n}\n\n// copied from https://github.com/microsoft/vscode-node-debug2/blob/bcd333ef87642b817ac96d28fde7ab96fee3f6a9/src/nodeDebugInterfaces.d.ts\nexport interface LaunchVSCodeRequest extends DebugProtocol.Request {\n    arguments: LaunchVSCodeArguments;\n}\n\nexport interface LaunchVSCodeArguments {\n    args: LaunchVSCodeArgument[];\n    env?: { [key: string]: string | null; };\n}\n\nexport interface LaunchVSCodeArgument {\n    prefix?: string;\n    path?: string;\n}\n\nexport interface LaunchVSCodeResult {\n    rendererDebugPort?: number;\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport {\n    AbstractViewContribution, KeybindingRegistry, Widget, CompositeTreeNode, LabelProvider, codicon, OnWillStopAction, FrontendApplicationContribution, ConfirmDialog, Dialog\n} from '@theia/core/lib/browser';\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport * as monaco from '@theia/monaco-editor-core';\nimport { MenuModelRegistry, CommandRegistry, MAIN_MENU_BAR, Command, Emitter, Mutable } from '@theia/core/lib/common';\nimport { EDITOR_CONTEXT_MENU, EDITOR_LINENUMBER_CONTEXT_MENU, EditorManager } from '@theia/editor/lib/browser';\nimport { DebugSessionManager } from './debug-session-manager';\nimport { DebugWidget } from './view/debug-widget';\nimport { FunctionBreakpoint } from './breakpoint/breakpoint-marker';\nimport { BreakpointManager } from './breakpoint/breakpoint-manager';\nimport { DebugConfigurationManager } from './debug-configuration-manager';\nimport { DebugState, DebugSession } from './debug-session';\nimport { DebugBreakpointsWidget } from './view/debug-breakpoints-widget';\nimport { DebugSourceBreakpoint } from './model/debug-source-breakpoint';\nimport { DebugThreadsWidget } from './view/debug-threads-widget';\nimport { DebugThread } from './model/debug-thread';\nimport { DebugStackFramesWidget } from './view/debug-stack-frames-widget';\nimport { DebugStackFrame } from './model/debug-stack-frame';\nimport { DebugVariablesWidget } from './view/debug-variables-widget';\nimport { DebugVariable } from './console/debug-console-items';\nimport { DebugSessionWidget } from './view/debug-session-widget';\nimport { DebugEditorModel } from './editor/debug-editor-model';\nimport { DebugEditorService } from './editor/debug-editor-service';\nimport { DebugConsoleContribution } from './console/debug-console-contribution';\nimport { DebugService } from '../common/debug-service';\nimport { DebugSchemaUpdater } from './debug-schema-updater';\nimport { DebugPreferences } from './debug-preferences';\nimport { RenderedToolbarAction, TabBarToolbarContribution, TabBarToolbarRegistry } from '@theia/core/lib/browser/shell/tab-bar-toolbar';\nimport { DebugWatchWidget } from './view/debug-watch-widget';\nimport { DebugWatchExpression } from './view/debug-watch-expression';\nimport { DebugWatchManager } from './debug-watch-manager';\nimport { DebugSessionOptions } from './debug-session-options';\nimport { ColorContribution } from '@theia/core/lib/browser/color-application-contribution';\nimport { ColorRegistry } from '@theia/core/lib/browser/color-registry';\nimport { DebugFunctionBreakpoint } from './model/debug-function-breakpoint';\nimport { DebugBreakpoint } from './model/debug-breakpoint';\nimport { nls } from '@theia/core/lib/common/nls';\nimport { DebugInstructionBreakpoint } from './model/debug-instruction-breakpoint';\nimport { DebugConfiguration } from '../common/debug-configuration';\nimport { DebugExceptionBreakpoint } from './view/debug-exception-breakpoint';\nimport { DebugToolBar } from './view/debug-toolbar-widget';\n\nexport namespace DebugMenus {\n    export const DEBUG = [...MAIN_MENU_BAR, '6_debug'];\n    export const DEBUG_CONTROLS = [...DEBUG, 'a_controls'];\n    export const DEBUG_CONFIGURATION = [...DEBUG, 'b_configuration'];\n    export const DEBUG_THREADS = [...DEBUG, 'c_threads'];\n    export const DEBUG_SESSIONS = [...DEBUG, 'd_sessions'];\n    export const DEBUG_BREAKPOINT = [...DEBUG, 'e_breakpoint'];\n    export const DEBUG_NEW_BREAKPOINT = [...DEBUG_BREAKPOINT, 'a_new_breakpoint'];\n    export const DEBUG_BREAKPOINTS = [...DEBUG, 'f_breakpoints'];\n}\n\nfunction nlsEditBreakpoint(breakpoint: string): string {\n    return nls.localizeByDefault('Edit {0}...', nls.localizeByDefault(breakpoint));\n}\n\nfunction nlsRemoveBreakpoint(breakpoint: string): string {\n    return nls.localizeByDefault('Remove {0}', nls.localizeByDefault(breakpoint));\n}\n\nfunction nlsEnableBreakpoint(breakpoint: string): string {\n    return nls.localizeByDefault('Enable {0}', nls.localizeByDefault(breakpoint));\n}\n\nfunction nlsDisableBreakpoint(breakpoint: string): string {\n    return nls.localizeByDefault('Disable {0}', nls.localizeByDefault(breakpoint));\n}\n\nexport namespace DebugCommands {\n\n    export const DEBUG_CATEGORY = 'Debug';\n    export const DEBUG_CATEGORY_KEY = nls.getDefaultKey(DEBUG_CATEGORY);\n\n    export const START = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.debug.start',\n        category: DEBUG_CATEGORY,\n        label: 'Start Debugging',\n        iconClass: codicon('debug-alt')\n    });\n    export const START_NO_DEBUG = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.debug.run',\n        category: DEBUG_CATEGORY,\n        label: 'Start Without Debugging'\n    });\n    export const STOP = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.debug.stop',\n        category: DEBUG_CATEGORY,\n        label: 'Stop',\n        iconClass: codicon('debug-stop')\n    });\n    export const RESTART = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.debug.restart',\n        category: DEBUG_CATEGORY,\n        label: 'Restart',\n    });\n\n    export const OPEN_CONFIGURATIONS = Command.toDefaultLocalizedCommand({\n        id: 'debug.configurations.open',\n        category: DEBUG_CATEGORY,\n        label: 'Open Configurations'\n    });\n    export const ADD_CONFIGURATION = Command.toDefaultLocalizedCommand({\n        id: 'debug.configurations.add',\n        category: DEBUG_CATEGORY,\n        label: 'Add Configuration...'\n    });\n\n    export const STEP_OVER = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.debug.stepOver',\n        category: DEBUG_CATEGORY,\n        label: 'Step Over',\n        iconClass: codicon('debug-step-over')\n    });\n    export const STEP_INTO = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.debug.stepInto',\n        category: DEBUG_CATEGORY,\n        label: 'Step Into',\n        iconClass: codicon('debug-step-into')\n    });\n    export const STEP_OUT = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.debug.stepOut',\n        category: DEBUG_CATEGORY,\n        label: 'Step Out',\n        iconClass: codicon('debug-step-out')\n    });\n    export const CONTINUE = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.debug.continue',\n        category: DEBUG_CATEGORY,\n        label: 'Continue',\n        iconClass: codicon('debug-continue')\n    });\n    export const PAUSE = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.debug.pause',\n        category: DEBUG_CATEGORY,\n        label: 'Pause',\n        iconClass: codicon('debug-pause')\n    });\n    export const CONTINUE_ALL = Command.toLocalizedCommand({\n        id: 'debug.thread.continue.all',\n        category: DEBUG_CATEGORY,\n        label: 'Continue All',\n        iconClass: codicon('debug-continue')\n    }, 'theia/debug/continueAll', DEBUG_CATEGORY_KEY);\n    export const PAUSE_ALL = Command.toLocalizedCommand({\n        id: 'debug.thread.pause.all',\n        category: DEBUG_CATEGORY,\n        label: 'Pause All',\n        iconClass: codicon('debug-pause')\n    }, 'theia/debug/pauseAll', DEBUG_CATEGORY_KEY);\n\n    export const TOGGLE_BREAKPOINT = Command.toDefaultLocalizedCommand({\n        id: 'editor.debug.action.toggleBreakpoint',\n        category: DEBUG_CATEGORY,\n        label: 'Toggle Breakpoint',\n    });\n    export const INLINE_BREAKPOINT = Command.toDefaultLocalizedCommand({\n        id: 'editor.debug.action.inlineBreakpoint',\n        category: DEBUG_CATEGORY,\n        label: 'Inline Breakpoint',\n    });\n    export const ADD_CONDITIONAL_BREAKPOINT = Command.toDefaultLocalizedCommand({\n        id: 'debug.breakpoint.add.conditional',\n        category: DEBUG_CATEGORY,\n        label: 'Add Conditional Breakpoint...',\n    });\n    export const ADD_LOGPOINT = Command.toDefaultLocalizedCommand({\n        id: 'debug.breakpoint.add.logpoint',\n        category: DEBUG_CATEGORY,\n        label: 'Add Logpoint...',\n    });\n    export const ADD_FUNCTION_BREAKPOINT = Command.toDefaultLocalizedCommand({\n        id: 'debug.breakpoint.add.function',\n        category: DEBUG_CATEGORY,\n        label: 'Add Function Breakpoint',\n    });\n    export const ENABLE_ALL_BREAKPOINTS = Command.toDefaultLocalizedCommand({\n        id: 'debug.breakpoint.enableAll',\n        category: DEBUG_CATEGORY,\n        label: 'Enable All Breakpoints',\n    });\n    export const DISABLE_ALL_BREAKPOINTS = Command.toDefaultLocalizedCommand({\n        id: 'debug.breakpoint.disableAll',\n        category: DEBUG_CATEGORY,\n        label: 'Disable All Breakpoints',\n    });\n    export const EDIT_BREAKPOINT = Command.toLocalizedCommand({\n        id: 'debug.breakpoint.edit',\n        category: DEBUG_CATEGORY,\n        originalLabel: 'Edit Breakpoint...',\n        label: nlsEditBreakpoint('Breakpoint')\n    }, '', DEBUG_CATEGORY_KEY);\n    export const EDIT_LOGPOINT = Command.toLocalizedCommand({\n        id: 'debug.logpoint.edit',\n        category: DEBUG_CATEGORY,\n        originalLabel: 'Edit Logpoint...',\n        label: nlsEditBreakpoint('Logpoint')\n    }, '', DEBUG_CATEGORY_KEY);\n    export const EDIT_BREAKPOINT_CONDITION = Command.toLocalizedCommand({\n        id: 'debug.breakpoint.editCondition',\n        category: DEBUG_CATEGORY,\n        label: 'Edit Condition...'\n    }, '', DEBUG_CATEGORY_KEY);\n    export const REMOVE_BREAKPOINT = Command.toLocalizedCommand({\n        id: 'debug.breakpoint.remove',\n        category: DEBUG_CATEGORY,\n        originalLabel: 'Remove Breakpoint',\n        label: nlsRemoveBreakpoint('Breakpoint')\n    }, '', DEBUG_CATEGORY_KEY);\n    export const REMOVE_LOGPOINT = Command.toLocalizedCommand({\n        id: 'debug.logpoint.remove',\n        category: DEBUG_CATEGORY,\n        originalLabel: 'Remove Logpoint',\n        label: nlsRemoveBreakpoint('Logpoint')\n    }, '', DEBUG_CATEGORY_KEY);\n    export const REMOVE_ALL_BREAKPOINTS = Command.toDefaultLocalizedCommand({\n        id: 'debug.breakpoint.removeAll',\n        category: DEBUG_CATEGORY,\n        label: 'Remove All Breakpoints',\n    });\n    export const TOGGLE_BREAKPOINTS_ENABLED = Command.toLocalizedCommand({\n        id: 'debug.breakpoint.toggleEnabled'\n    });\n    export const SHOW_HOVER = Command.toDefaultLocalizedCommand({\n        id: 'editor.debug.action.showDebugHover',\n        label: 'Debug: Show Hover'\n    });\n    export const JUMP_TO_CURSOR = Command.toDefaultLocalizedCommand({\n        id: 'editor.debug.action.jumpToCursor',\n        category: DEBUG_CATEGORY,\n        label: 'Jump to Cursor'\n    });\n\n    export const RESTART_FRAME = Command.toDefaultLocalizedCommand({\n        id: 'debug.frame.restart',\n        category: DEBUG_CATEGORY,\n        label: 'Restart Frame',\n    });\n    export const COPY_CALL_STACK = Command.toDefaultLocalizedCommand({\n        id: 'debug.callStack.copy',\n        category: DEBUG_CATEGORY,\n        label: 'Copy Call Stack',\n    });\n\n    export const SET_VARIABLE_VALUE = Command.toDefaultLocalizedCommand({\n        id: 'debug.variable.setValue',\n        category: DEBUG_CATEGORY,\n        label: 'Set Value',\n    });\n    export const COPY_VARIABLE_VALUE = Command.toDefaultLocalizedCommand({\n        id: 'debug.variable.copyValue',\n        category: DEBUG_CATEGORY,\n        label: 'Copy Value',\n    });\n    export const COPY_VARIABLE_AS_EXPRESSION = Command.toDefaultLocalizedCommand({\n        id: 'debug.variable.copyAsExpression',\n        category: DEBUG_CATEGORY,\n        label: 'Copy as Expression',\n    });\n    export const WATCH_VARIABLE = Command.toDefaultLocalizedCommand({\n        id: 'debug.variable.watch',\n        category: DEBUG_CATEGORY,\n        label: 'Add to Watch',\n    });\n\n    export const ADD_WATCH_EXPRESSION = Command.toDefaultLocalizedCommand({\n        id: 'debug.watch.addExpression',\n        category: DEBUG_CATEGORY,\n        label: 'Add Expression'\n    });\n    export const EDIT_WATCH_EXPRESSION = Command.toDefaultLocalizedCommand({\n        id: 'debug.watch.editExpression',\n        category: DEBUG_CATEGORY,\n        label: 'Edit Expression'\n    });\n    export const COPY_WATCH_EXPRESSION_VALUE = Command.toLocalizedCommand({\n        id: 'debug.watch.copyExpressionValue',\n        category: DEBUG_CATEGORY,\n        label: 'Copy Expression Value'\n    }, 'theia/debug/copyExpressionValue', DEBUG_CATEGORY_KEY);\n    export const REMOVE_WATCH_EXPRESSION = Command.toDefaultLocalizedCommand({\n        id: 'debug.watch.removeExpression',\n        category: DEBUG_CATEGORY,\n        label: 'Remove Expression'\n    });\n    export const COLLAPSE_ALL_WATCH_EXPRESSIONS = Command.toDefaultLocalizedCommand({\n        id: 'debug.watch.collapseAllExpressions',\n        category: DEBUG_CATEGORY,\n        label: 'Collapse All'\n    });\n    export const REMOVE_ALL_WATCH_EXPRESSIONS = Command.toDefaultLocalizedCommand({\n        id: 'debug.watch.removeAllExpressions',\n        category: DEBUG_CATEGORY,\n        label: 'Remove All Expressions'\n    });\n}\nexport namespace DebugThreadContextCommands {\n    export const STEP_OVER = {\n        id: 'debug.thread.context.context.next'\n    };\n    export const STEP_INTO = {\n        id: 'debug.thread.context.stepin'\n    };\n    export const STEP_OUT = {\n        id: 'debug.thread.context.stepout'\n    };\n    export const CONTINUE = {\n        id: 'debug.thread.context.continue'\n    };\n    export const PAUSE = {\n        id: 'debug.thread.context.pause'\n    };\n    export const TERMINATE = {\n        id: 'debug.thread.context.terminate'\n    };\n}\nexport namespace DebugSessionContextCommands {\n    export const STOP = {\n        id: 'debug.session.context.stop'\n    };\n    export const RESTART = {\n        id: 'debug.session.context.restart'\n    };\n    export const PAUSE_ALL = {\n        id: 'debug.session.context.pauseAll'\n    };\n    export const CONTINUE_ALL = {\n        id: 'debug.session.context.continueAll'\n    };\n    export const REVEAL = {\n        id: 'debug.session.context.reveal'\n    };\n}\nexport namespace DebugEditorContextCommands {\n    export const ADD_BREAKPOINT = {\n        id: 'debug.editor.context.addBreakpoint'\n    };\n    export const ADD_CONDITIONAL_BREAKPOINT = {\n        id: 'debug.editor.context.addBreakpoint.conditional'\n    };\n    export const ADD_LOGPOINT = {\n        id: 'debug.editor.context.add.logpoint'\n    };\n    export const REMOVE_BREAKPOINT = {\n        id: 'debug.editor.context.removeBreakpoint'\n    };\n    export const EDIT_BREAKPOINT = {\n        id: 'debug.editor.context.edit.breakpoint'\n    };\n    export const ENABLE_BREAKPOINT = {\n        id: 'debug.editor.context.enableBreakpoint'\n    };\n    export const DISABLE_BREAKPOINT = {\n        id: 'debug.editor.context.disableBreakpoint'\n    };\n    export const REMOVE_LOGPOINT = {\n        id: 'debug.editor.context.logpoint.remove'\n    };\n    export const EDIT_LOGPOINT = {\n        id: 'debug.editor.context.logpoint.edit'\n    };\n    export const ENABLE_LOGPOINT = {\n        id: 'debug.editor.context.logpoint.enable'\n    };\n    export const DISABLE_LOGPOINT = {\n        id: 'debug.editor.context.logpoint.disable'\n    };\n    export const JUMP_TO_CURSOR = {\n        id: 'debug.editor.context.jumpToCursor'\n    };\n}\nexport namespace DebugBreakpointWidgetCommands {\n    export const ACCEPT = {\n        id: 'debug.breakpointWidget.accept'\n    };\n    export const CLOSE = {\n        id: 'debug.breakpointWidget.close'\n    };\n}\n\n@injectable()\nexport class DebugFrontendApplicationContribution extends AbstractViewContribution<DebugWidget>\n    implements TabBarToolbarContribution, ColorContribution, FrontendApplicationContribution {\n\n    @inject(DebugService)\n    protected readonly debug: DebugService;\n\n    @inject(DebugSessionManager)\n    protected readonly manager: DebugSessionManager;\n\n    @inject(DebugConfigurationManager)\n    protected readonly configurations: DebugConfigurationManager;\n\n    @inject(BreakpointManager)\n    protected readonly breakpointManager: BreakpointManager;\n\n    @inject(DebugEditorService)\n    protected readonly editors: DebugEditorService;\n\n    @inject(DebugConsoleContribution)\n    protected readonly console: DebugConsoleContribution;\n\n    @inject(DebugSchemaUpdater)\n    protected readonly schemaUpdater: DebugSchemaUpdater;\n\n    @inject(DebugPreferences)\n    protected readonly preference: DebugPreferences;\n\n    @inject(DebugWatchManager)\n    protected readonly watchManager: DebugWatchManager;\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    @inject(EditorManager)\n    protected readonly editorManager: EditorManager;\n\n    constructor() {\n        super({\n            widgetId: DebugWidget.ID,\n            widgetName: DebugWidget.LABEL,\n            defaultWidgetOptions: {\n                area: 'left',\n                rank: 400\n            },\n            toggleCommandId: 'debug:toggle',\n            toggleKeybinding: 'ctrlcmd+shift+d'\n        });\n    }\n\n    async initializeLayout(): Promise<void> {\n        await this.openView();\n    }\n\n    protected firstSessionStart = true;\n    async onStart(): Promise<void> {\n        this.manager.onDidCreateDebugSession(session => this.openSession(session, { reveal: false }));\n        this.manager.onDidStartDebugSession(session => {\n            const { noDebug } = session.configuration;\n            const openDebug = session.configuration.openDebug || this.preference['debug.openDebug'];\n            const internalConsoleOptions = session.configuration.internalConsoleOptions || this.preference['debug.internalConsoleOptions'];\n            if (internalConsoleOptions === 'openOnSessionStart' ||\n                (internalConsoleOptions === 'openOnFirstSessionStart' && this.firstSessionStart)) {\n                this.console.openView({\n                    reveal: true,\n                    activate: false,\n                });\n            }\n            const shouldOpenDebug = openDebug === 'openOnSessionStart' || (openDebug === 'openOnFirstSessionStart' && this.firstSessionStart);\n            // Do not open debug view when suppressed via configuration\n            if (!noDebug && !this.getOption(session, 'suppressDebugView') && shouldOpenDebug) {\n                this.openSession(session);\n            }\n            this.firstSessionStart = false;\n        });\n        this.manager.onDidStopDebugSession(session => {\n            const { openDebug } = session.configuration;\n            if (!this.getOption(session, 'suppressDebugView') && openDebug === 'openOnDebugBreak') {\n                this.openSession(session);\n            }\n        });\n\n        this.updateStatusBar();\n        this.manager.onDidChange(() => this.updateStatusBar());\n\n        this.schemaUpdater.update();\n        this.configurations.load();\n        this.breakpointManager.load();\n        this.watchManager.load();\n    }\n\n    onStop(): void {\n        this.configurations.save();\n        this.breakpointManager.save();\n        this.watchManager.save();\n    }\n\n    onWillStop(): OnWillStopAction | undefined {\n        if (this.preference['debug.confirmOnExit'] === 'always' && this.manager.currentSession) {\n            return {\n                reason: 'active-debug-sessions',\n                action: async () => {\n                    if (this.manager.currentSession) {\n                        const msg = this.manager.sessions.length === 1\n                            ? nls.localizeByDefault('There is an active debug session, are you sure you want to stop it?')\n                            : nls.localizeByDefault('There are active debug sessions, are you sure you want to stop them?');\n                        const safeToExit = await new ConfirmDialog({\n                            title: '',\n                            msg,\n                            ok: nls.localizeByDefault('Stop Debugging'),\n                            cancel: Dialog.CANCEL,\n                        }).open();\n                        return safeToExit === true;\n                    }\n                    return true;\n                },\n            };\n        }\n    }\n\n    override registerMenus(menus: MenuModelRegistry): void {\n        super.registerMenus(menus);\n        const registerMenuActions = (menuPath: string[], ...commands: Command[]) => {\n            for (const [index, command] of commands.entries()) {\n                const label = command.label;\n                const debug = `${DebugCommands.DEBUG_CATEGORY}:`;\n                menus.registerMenuAction(menuPath, {\n                    commandId: command.id,\n                    label: label && label.startsWith(debug) && label.slice(debug.length).trimStart() || label,\n                    icon: command.iconClass,\n                    order: String.fromCharCode('a'.charCodeAt(0) + index)\n                });\n            }\n        };\n\n        menus.registerSubmenu(DebugMenus.DEBUG, nls.localizeByDefault('Run'));\n        registerMenuActions(DebugMenus.DEBUG_CONTROLS,\n            DebugCommands.START,\n            DebugCommands.START_NO_DEBUG,\n            DebugCommands.STOP,\n            DebugCommands.RESTART\n        );\n        registerMenuActions(DebugMenus.DEBUG_CONFIGURATION,\n            DebugCommands.OPEN_CONFIGURATIONS,\n            DebugCommands.ADD_CONFIGURATION\n        );\n        registerMenuActions(DebugMenus.DEBUG_THREADS,\n            DebugCommands.CONTINUE,\n            DebugCommands.STEP_OVER,\n            DebugCommands.STEP_INTO,\n            DebugCommands.STEP_OUT,\n            DebugCommands.PAUSE\n        );\n        registerMenuActions(DebugMenus.DEBUG_SESSIONS,\n            DebugCommands.CONTINUE_ALL,\n            DebugCommands.PAUSE_ALL\n        );\n        registerMenuActions(DebugMenus.DEBUG_BREAKPOINT,\n            DebugCommands.TOGGLE_BREAKPOINT\n        );\n        menus.registerSubmenu(DebugMenus.DEBUG_NEW_BREAKPOINT, nls.localizeByDefault('New Breakpoint'));\n        registerMenuActions(DebugMenus.DEBUG_NEW_BREAKPOINT,\n            DebugCommands.ADD_CONDITIONAL_BREAKPOINT,\n            DebugCommands.INLINE_BREAKPOINT,\n            DebugCommands.ADD_FUNCTION_BREAKPOINT,\n            DebugCommands.ADD_LOGPOINT,\n        );\n        registerMenuActions(DebugMenus.DEBUG_BREAKPOINTS,\n            DebugCommands.ENABLE_ALL_BREAKPOINTS,\n            DebugCommands.DISABLE_ALL_BREAKPOINTS,\n            DebugCommands.REMOVE_ALL_BREAKPOINTS\n        );\n\n        registerMenuActions(DebugThreadsWidget.CONTROL_MENU,\n            { ...DebugCommands.PAUSE, ...DebugThreadContextCommands.PAUSE },\n            { ...DebugCommands.CONTINUE, ...DebugThreadContextCommands.CONTINUE },\n            { ...DebugCommands.STEP_OVER, ...DebugThreadContextCommands.STEP_OVER },\n            { ...DebugCommands.STEP_INTO, ...DebugThreadContextCommands.STEP_INTO },\n            { ...DebugCommands.STEP_OUT, ...DebugThreadContextCommands.STEP_OUT },\n            { ...DebugCommands.PAUSE_ALL, ...DebugSessionContextCommands.PAUSE_ALL },\n            { ...DebugCommands.CONTINUE_ALL, ...DebugSessionContextCommands.CONTINUE_ALL }\n        );\n        registerMenuActions(DebugThreadsWidget.TERMINATE_MENU,\n            { ...DebugCommands.RESTART, ...DebugSessionContextCommands.RESTART },\n            { ...DebugCommands.STOP, ...DebugSessionContextCommands.STOP },\n            { ...DebugThreadContextCommands.TERMINATE, label: nls.localizeByDefault('Terminate Thread') }\n        );\n        registerMenuActions(DebugThreadsWidget.OPEN_MENU, { ...DebugSessionContextCommands.REVEAL, label: nls.localize('theia/debug/reveal', 'Reveal') });\n\n        registerMenuActions(DebugStackFramesWidget.CONTEXT_MENU,\n            DebugCommands.RESTART_FRAME,\n            DebugCommands.COPY_CALL_STACK\n        );\n\n        registerMenuActions(DebugVariablesWidget.EDIT_MENU,\n            DebugCommands.SET_VARIABLE_VALUE,\n            DebugCommands.COPY_VARIABLE_VALUE,\n            DebugCommands.COPY_VARIABLE_AS_EXPRESSION\n        );\n        registerMenuActions(DebugVariablesWidget.WATCH_MENU,\n            DebugCommands.WATCH_VARIABLE\n        );\n\n        registerMenuActions(DebugWatchWidget.EDIT_MENU,\n            DebugCommands.EDIT_WATCH_EXPRESSION,\n            DebugCommands.COPY_WATCH_EXPRESSION_VALUE\n        );\n        registerMenuActions(DebugWatchWidget.REMOVE_MENU,\n            DebugCommands.REMOVE_WATCH_EXPRESSION,\n            DebugCommands.REMOVE_ALL_WATCH_EXPRESSIONS\n        );\n\n        registerMenuActions(DebugBreakpointsWidget.EDIT_MENU,\n            DebugCommands.EDIT_BREAKPOINT,\n            DebugCommands.EDIT_LOGPOINT,\n            DebugCommands.EDIT_BREAKPOINT_CONDITION\n        );\n        registerMenuActions(DebugBreakpointsWidget.REMOVE_MENU,\n            DebugCommands.REMOVE_BREAKPOINT,\n            DebugCommands.REMOVE_LOGPOINT,\n            DebugCommands.REMOVE_ALL_BREAKPOINTS\n        );\n        registerMenuActions(DebugBreakpointsWidget.ENABLE_MENU,\n            DebugCommands.ENABLE_ALL_BREAKPOINTS,\n            DebugCommands.DISABLE_ALL_BREAKPOINTS\n        );\n\n        const DEBUG_EDITOR_CONTEXT_MENU_GROUP = [...EDITOR_CONTEXT_MENU, '2_debug'];\n        registerMenuActions(DEBUG_EDITOR_CONTEXT_MENU_GROUP,\n            DebugCommands.JUMP_TO_CURSOR\n        );\n\n        registerMenuActions(DebugEditorModel.CONTEXT_MENU,\n            { ...DebugEditorContextCommands.ADD_BREAKPOINT, label: nls.localizeByDefault('Add Breakpoint') },\n            { ...DebugEditorContextCommands.ADD_CONDITIONAL_BREAKPOINT, label: DebugCommands.ADD_CONDITIONAL_BREAKPOINT.label },\n            { ...DebugEditorContextCommands.ADD_LOGPOINT, label: DebugCommands.ADD_LOGPOINT.label },\n            { ...DebugEditorContextCommands.REMOVE_BREAKPOINT, label: DebugCommands.REMOVE_BREAKPOINT.label },\n            { ...DebugEditorContextCommands.EDIT_BREAKPOINT, label: DebugCommands.EDIT_BREAKPOINT.label },\n            { ...DebugEditorContextCommands.ENABLE_BREAKPOINT, label: nlsEnableBreakpoint('Breakpoint') },\n            { ...DebugEditorContextCommands.DISABLE_BREAKPOINT, label: nlsDisableBreakpoint('Breakpoint') },\n            { ...DebugEditorContextCommands.REMOVE_LOGPOINT, label: DebugCommands.REMOVE_LOGPOINT.label },\n            { ...DebugEditorContextCommands.EDIT_LOGPOINT, label: DebugCommands.EDIT_LOGPOINT.label },\n            { ...DebugEditorContextCommands.ENABLE_LOGPOINT, label: nlsEnableBreakpoint('Logpoint') },\n            { ...DebugEditorContextCommands.DISABLE_LOGPOINT, label: nlsDisableBreakpoint('Logpoint') },\n            { ...DebugEditorContextCommands.JUMP_TO_CURSOR, label: nls.localizeByDefault('Jump to Cursor') }\n        );\n        menus.linkCompoundMenuNode({ newParentPath: EDITOR_LINENUMBER_CONTEXT_MENU, submenuPath: DebugEditorModel.CONTEXT_MENU });\n\n        menus.registerSubmenu(DebugToolBar.MENU, 'Debug Toolbar Menu');\n    }\n\n    override registerCommands(registry: CommandRegistry): void {\n        super.registerCommands(registry);\n        registry.registerCommand(DebugCommands.START, {\n            execute: (config?: DebugSessionOptions) => this.start(false, config)\n        });\n        registry.registerCommand(DebugCommands.START_NO_DEBUG, {\n            execute: (config?: DebugSessionOptions) => this.start(true, config)\n        });\n        registry.registerCommand(DebugCommands.STOP, {\n            execute: () => this.manager.terminateSession(),\n            isEnabled: () => this.manager.state !== DebugState.Inactive\n        });\n        registry.registerCommand(DebugCommands.RESTART, {\n            execute: () => this.manager.restartSession(),\n            isEnabled: () => this.manager.state !== DebugState.Inactive\n        });\n\n        registry.registerCommand(DebugCommands.OPEN_CONFIGURATIONS, {\n            execute: () => this.configurations.openConfiguration()\n        });\n        registry.registerCommand(DebugCommands.ADD_CONFIGURATION, {\n            execute: () => this.configurations.addConfiguration()\n        });\n\n        registry.registerCommand(DebugCommands.STEP_OVER, {\n            execute: () => this.manager.currentThread && this.manager.currentThread.stepOver(),\n            isEnabled: () => this.manager.state === DebugState.Stopped\n        });\n        registry.registerCommand(DebugCommands.STEP_INTO, {\n            execute: () => this.manager.currentThread && this.manager.currentThread.stepIn(),\n            isEnabled: () => this.manager.state === DebugState.Stopped\n        });\n        registry.registerCommand(DebugCommands.STEP_OUT, {\n            execute: () => this.manager.currentThread && this.manager.currentThread.stepOut(),\n            isEnabled: () => this.manager.state === DebugState.Stopped\n        });\n        registry.registerCommand(DebugCommands.CONTINUE, {\n            execute: () => this.manager.currentThread && this.manager.currentThread.continue(),\n            isEnabled: () => this.manager.state === DebugState.Stopped\n        });\n        registry.registerCommand(DebugCommands.PAUSE, {\n            execute: () => this.manager.currentThread && this.manager.currentThread.pause(),\n            isEnabled: () => this.manager.state === DebugState.Running\n        });\n        registry.registerCommand(DebugCommands.PAUSE_ALL, {\n            execute: () => this.manager.currentSession && this.manager.currentSession.pauseAll(),\n            isEnabled: () => !!this.manager.currentSession && !!this.manager.currentSession.runningThreads.next().value\n        });\n        registry.registerCommand(DebugCommands.CONTINUE_ALL, {\n            execute: () => this.manager.currentSession && this.manager.currentSession.continueAll(),\n            isEnabled: () => !!this.manager.currentSession && !!this.manager.currentSession.stoppedThreads.next().value\n        });\n\n        registry.registerCommand(DebugThreadContextCommands.STEP_OVER, {\n            execute: () => this.selectedThread && this.selectedThread.stepOver(),\n            isEnabled: () => !!this.selectedThread && this.selectedThread.stopped,\n            isVisible: () => !!this.selectedThread\n        });\n        registry.registerCommand(DebugThreadContextCommands.STEP_INTO, {\n            execute: () => this.selectedThread && this.selectedThread.stepIn(),\n            isEnabled: () => !!this.selectedThread && this.selectedThread.stopped,\n            isVisible: () => !!this.selectedThread\n        });\n        registry.registerCommand(DebugThreadContextCommands.STEP_OUT, {\n            execute: () => this.selectedThread && this.selectedThread.stepOut(),\n            isEnabled: () => !!this.selectedThread && this.selectedThread.stopped,\n            isVisible: () => !!this.selectedThread\n        });\n        registry.registerCommand(DebugThreadContextCommands.CONTINUE, {\n            execute: () => this.selectedThread && this.selectedThread.continue(),\n            isEnabled: () => !!this.selectedThread && this.selectedThread.stopped,\n            isVisible: () => !!this.selectedThread && this.selectedThread.stopped,\n        });\n        registry.registerCommand(DebugThreadContextCommands.PAUSE, {\n            execute: () => this.selectedThread && this.selectedThread.pause(),\n            isEnabled: () => !!this.selectedThread && !this.selectedThread.stopped,\n            isVisible: () => !!this.selectedThread && !this.selectedThread.stopped,\n        });\n        registry.registerCommand(DebugThreadContextCommands.TERMINATE, {\n            execute: () => this.selectedThread && this.selectedThread.terminate(),\n            isEnabled: () => !!this.selectedThread && this.selectedThread.supportsTerminate,\n            isVisible: () => !!this.selectedThread && this.selectedThread.supportsTerminate\n        });\n\n        registry.registerCommand(DebugSessionContextCommands.STOP, {\n            execute: () => this.selectedSession && this.manager.terminateSession(this.selectedSession),\n            isEnabled: () => !!this.selectedSession && this.selectedSession.state !== DebugState.Inactive,\n            isVisible: () => !this.selectedThread\n        });\n        registry.registerCommand(DebugSessionContextCommands.RESTART, {\n            execute: () => this.selectedSession && this.manager.restartSession(this.selectedSession),\n            isEnabled: () => !!this.selectedSession && this.selectedSession.state !== DebugState.Inactive,\n            isVisible: () => !this.selectedThread\n        });\n        registry.registerCommand(DebugSessionContextCommands.CONTINUE_ALL, {\n            execute: () => this.selectedSession && this.selectedSession.continueAll(),\n            isEnabled: () => !!this.selectedSession && !!this.selectedSession.stoppedThreads.next().value,\n            isVisible: () => !this.selectedThread\n        });\n        registry.registerCommand(DebugSessionContextCommands.PAUSE_ALL, {\n            execute: () => this.selectedSession && this.selectedSession.pauseAll(),\n            isEnabled: () => !!this.selectedSession && !!this.selectedSession.runningThreads.next().value,\n            isVisible: () => !this.selectedThread\n        });\n        registry.registerCommand(DebugSessionContextCommands.REVEAL, {\n            execute: () => this.selectedSession && this.revealSession(this.selectedSession),\n            isEnabled: () => Boolean(this.selectedSession),\n            isVisible: () => !this.selectedThread && Boolean(this.selectedSession)\n        });\n        registry.registerCommand(DebugCommands.TOGGLE_BREAKPOINT, {\n            execute: () => this.editors.toggleBreakpoint(),\n            isEnabled: () => !!this.editors.model\n        });\n        registry.registerCommand(DebugCommands.INLINE_BREAKPOINT, {\n            execute: () => this.editors.addInlineBreakpoint(),\n            isEnabled: () => !!this.editors.model && !this.editors.getInlineBreakpoint()\n        });\n        registry.registerCommand(DebugCommands.ADD_CONDITIONAL_BREAKPOINT, {\n            execute: () => this.editors.addBreakpoint('condition'),\n            isEnabled: () => !!this.editors.model && !this.editors.anyBreakpoint()\n        });\n        registry.registerCommand(DebugCommands.ADD_LOGPOINT, {\n            execute: () => this.editors.addBreakpoint('logMessage'),\n            isEnabled: () => !!this.editors.model && !this.editors.anyBreakpoint()\n        });\n        registry.registerCommand(DebugCommands.ADD_FUNCTION_BREAKPOINT, {\n            execute: async () => {\n                const { labelProvider, breakpointManager, editorManager } = this;\n                const options = { labelProvider, breakpoints: breakpointManager, editorManager };\n                await new DebugFunctionBreakpoint(FunctionBreakpoint.create({ name: '' }), options).open();\n            },\n            isEnabled: widget => !(widget instanceof Widget) || widget instanceof DebugBreakpointsWidget,\n            isVisible: widget => !(widget instanceof Widget) || widget instanceof DebugBreakpointsWidget\n        });\n        registry.registerCommand(DebugCommands.ENABLE_ALL_BREAKPOINTS, {\n            execute: () => this.breakpointManager.enableAllBreakpoints(true),\n            isEnabled: () => this.breakpointManager.hasBreakpoints()\n        });\n        registry.registerCommand(DebugCommands.DISABLE_ALL_BREAKPOINTS, {\n            execute: () => this.breakpointManager.enableAllBreakpoints(false),\n            isEnabled: () => this.breakpointManager.hasBreakpoints()\n        });\n        registry.registerCommand(DebugCommands.EDIT_BREAKPOINT, {\n            execute: async () => {\n                const { selectedBreakpoint, selectedFunctionBreakpoint } = this;\n                if (selectedBreakpoint) {\n                    await this.editors.editBreakpoint(selectedBreakpoint);\n                } else if (selectedFunctionBreakpoint) {\n                    await selectedFunctionBreakpoint.open();\n                }\n            },\n            isEnabled: () => !!this.selectedBreakpoint || !!this.selectedFunctionBreakpoint,\n            isVisible: () => !!this.selectedBreakpoint || !!this.selectedFunctionBreakpoint\n        });\n        registry.registerCommand(DebugCommands.EDIT_LOGPOINT, {\n            execute: async () => {\n                const { selectedLogpoint } = this;\n                if (selectedLogpoint) {\n                    await this.editors.editBreakpoint(selectedLogpoint);\n                }\n            },\n            isEnabled: () => !!this.selectedLogpoint,\n            isVisible: () => !!this.selectedLogpoint\n        });\n        registry.registerCommand(DebugCommands.EDIT_BREAKPOINT_CONDITION, {\n            execute: async () => {\n                const { selectedExceptionBreakpoint } = this;\n                if (selectedExceptionBreakpoint) {\n                    await selectedExceptionBreakpoint.editCondition();\n                }\n            },\n            isEnabled: () => !!this.selectedExceptionBreakpoint?.data.raw.supportsCondition,\n            isVisible: () => !!this.selectedExceptionBreakpoint?.data.raw.supportsCondition\n        });\n        registry.registerCommand(DebugCommands.REMOVE_BREAKPOINT, {\n            execute: () => {\n                const selectedBreakpoint = this.selectedSettableBreakpoint;\n                if (selectedBreakpoint) {\n                    selectedBreakpoint.remove();\n                }\n            },\n            isEnabled: () => Boolean(this.selectedSettableBreakpoint),\n            isVisible: () => Boolean(this.selectedSettableBreakpoint),\n        });\n        registry.registerCommand(DebugCommands.REMOVE_LOGPOINT, {\n            execute: () => {\n                const { selectedLogpoint } = this;\n                if (selectedLogpoint) {\n                    selectedLogpoint.remove();\n                }\n            },\n            isEnabled: () => !!this.selectedLogpoint,\n            isVisible: () => !!this.selectedLogpoint\n        });\n        registry.registerCommand(DebugCommands.REMOVE_ALL_BREAKPOINTS, {\n            execute: () => this.breakpointManager.removeBreakpoints(),\n            isEnabled: () => this.breakpointManager.hasBreakpoints(),\n            isVisible: widget => !(widget instanceof Widget) || (widget instanceof DebugBreakpointsWidget)\n        });\n        registry.registerCommand(DebugCommands.TOGGLE_BREAKPOINTS_ENABLED, {\n            execute: () => this.breakpointManager.breakpointsEnabled = !this.breakpointManager.breakpointsEnabled,\n            isVisible: arg => arg instanceof DebugBreakpointsWidget\n        });\n        registry.registerCommand(DebugCommands.SHOW_HOVER, {\n            execute: () => this.editors.showHover(),\n            isEnabled: () => this.editors.canShowHover()\n        });\n\n        registry.registerCommand(DebugCommands.JUMP_TO_CURSOR, {\n            execute: () => {\n                const model = this.editors.model;\n                if (model && this.manager.currentThread) {\n                    this.manager.currentThread.jumpToCursor(\n                        model.editor.getResourceUri(),\n                        model.position\n                    );\n                }\n            },\n            isEnabled: () => !!this.manager.currentThread && this.manager.currentThread.supportsGoto,\n            isVisible: () => !!this.manager.currentThread && this.manager.currentThread.supportsGoto\n        });\n\n        registry.registerCommand(DebugCommands.RESTART_FRAME, {\n            execute: () => this.selectedFrame && this.selectedFrame.restart(),\n            isEnabled: () => !!this.selectedFrame\n        });\n        registry.registerCommand(DebugCommands.COPY_CALL_STACK, {\n            execute: () => {\n                const { frames } = this;\n                const selection = document.getSelection();\n                if (frames && selection) {\n                    selection.selectAllChildren(frames.node);\n                    document.execCommand('copy');\n                }\n            },\n            isEnabled: () => document.queryCommandSupported('copy'),\n            isVisible: () => document.queryCommandSupported('copy')\n        });\n\n        registry.registerCommand(DebugCommands.SET_VARIABLE_VALUE, {\n            execute: () => this.selectedVariable && this.selectedVariable.open(),\n            isEnabled: () => !!this.selectedVariable && this.selectedVariable.supportSetVariable && !this.selectedVariable.readOnly,\n            isVisible: () => !!this.selectedVariable && this.selectedVariable.supportSetVariable\n        });\n        registry.registerCommand(DebugCommands.COPY_VARIABLE_VALUE, {\n            execute: () => this.selectedVariable && this.selectedVariable.copyValue(),\n            isEnabled: () => !!this.selectedVariable && this.selectedVariable.supportCopyValue,\n            isVisible: () => !!this.selectedVariable && this.selectedVariable.supportCopyValue\n        });\n        registry.registerCommand(DebugCommands.COPY_VARIABLE_AS_EXPRESSION, {\n            execute: () => this.selectedVariable && this.selectedVariable.copyAsExpression(),\n            isEnabled: () => !!this.selectedVariable && this.selectedVariable.supportCopyAsExpression,\n            isVisible: () => !!this.selectedVariable && this.selectedVariable.supportCopyAsExpression\n        });\n        registry.registerCommand(DebugCommands.WATCH_VARIABLE, {\n            execute: () => {\n                const { selectedVariable, watch } = this;\n                if (selectedVariable && watch) {\n                    watch.viewModel.addWatchExpression(selectedVariable.name);\n                }\n            },\n            isEnabled: () => !!this.selectedVariable && !!this.watch,\n            isVisible: () => !!this.selectedVariable && !!this.watch,\n        });\n\n        // Debug context menu commands\n        registry.registerCommand(DebugEditorContextCommands.ADD_BREAKPOINT, {\n            execute: position => this.isPosition(position) && this.editors.toggleBreakpoint(this.asPosition(position)),\n            isEnabled: position => this.isPosition(position) && !this.editors.anyBreakpoint(this.asPosition(position)),\n            isVisible: position => this.isPosition(position) && !this.editors.anyBreakpoint(this.asPosition(position))\n        });\n        registry.registerCommand(DebugEditorContextCommands.ADD_CONDITIONAL_BREAKPOINT, {\n            execute: position => this.isPosition(position) && this.editors.addBreakpoint('condition', this.asPosition(position)),\n            isEnabled: position => this.isPosition(position) && !this.editors.anyBreakpoint(this.asPosition(position)),\n            isVisible: position => this.isPosition(position) && !this.editors.anyBreakpoint(this.asPosition(position))\n        });\n        registry.registerCommand(DebugEditorContextCommands.ADD_LOGPOINT, {\n            execute: position => this.isPosition(position) && this.editors.addBreakpoint('logMessage', this.asPosition(position)),\n            isEnabled: position => this.isPosition(position) && !this.editors.anyBreakpoint(this.asPosition(position)),\n            isVisible: position => this.isPosition(position) && !this.editors.anyBreakpoint(this.asPosition(position))\n        });\n        registry.registerCommand(DebugEditorContextCommands.REMOVE_BREAKPOINT, {\n            execute: position => this.isPosition(position) && this.editors.toggleBreakpoint(this.asPosition(position)),\n            isEnabled: position => this.isPosition(position) && !!this.editors.getBreakpoint(this.asPosition(position)),\n            isVisible: position => this.isPosition(position) && !!this.editors.getBreakpoint(this.asPosition(position))\n        });\n        registry.registerCommand(DebugEditorContextCommands.EDIT_BREAKPOINT, {\n            execute: position => this.isPosition(position) && this.editors.editBreakpoint(this.asPosition(position)),\n            isEnabled: position => this.isPosition(position) && !!this.editors.getBreakpoint(this.asPosition(position)),\n            isVisible: position => this.isPosition(position) && !!this.editors.getBreakpoint(this.asPosition(position))\n        });\n        registry.registerCommand(DebugEditorContextCommands.ENABLE_BREAKPOINT, {\n            execute: position => this.isPosition(position) && this.editors.setBreakpointEnabled(this.asPosition(position), true),\n            isEnabled: position => this.isPosition(position) && this.editors.getBreakpointEnabled(this.asPosition(position)) === false,\n            isVisible: position => this.isPosition(position) && this.editors.getBreakpointEnabled(this.asPosition(position)) === false\n        });\n        registry.registerCommand(DebugEditorContextCommands.DISABLE_BREAKPOINT, {\n            execute: position => this.isPosition(position) && this.editors.setBreakpointEnabled(this.asPosition(position), false),\n            isEnabled: position => this.isPosition(position) && !!this.editors.getBreakpointEnabled(this.asPosition(position)),\n            isVisible: position => this.isPosition(position) && !!this.editors.getBreakpointEnabled(this.asPosition(position))\n        });\n        registry.registerCommand(DebugEditorContextCommands.REMOVE_LOGPOINT, {\n            execute: position => this.isPosition(position) && this.editors.toggleBreakpoint(this.asPosition(position)),\n            isEnabled: position => this.isPosition(position) && !!this.editors.getLogpoint(this.asPosition(position)),\n            isVisible: position => this.isPosition(position) && !!this.editors.getLogpoint(this.asPosition(position))\n        });\n        registry.registerCommand(DebugEditorContextCommands.EDIT_LOGPOINT, {\n            execute: position => this.isPosition(position) && this.editors.editBreakpoint(this.asPosition(position)),\n            isEnabled: position => this.isPosition(position) && !!this.editors.getLogpoint(this.asPosition(position)),\n            isVisible: position => this.isPosition(position) && !!this.editors.getLogpoint(this.asPosition(position))\n        });\n        registry.registerCommand(DebugEditorContextCommands.ENABLE_LOGPOINT, {\n            execute: position => this.isPosition(position) && this.editors.setBreakpointEnabled(this.asPosition(position), true),\n            isEnabled: position => this.isPosition(position) && this.editors.getLogpointEnabled(this.asPosition(position)) === false,\n            isVisible: position => this.isPosition(position) && this.editors.getLogpointEnabled(this.asPosition(position)) === false\n        });\n        registry.registerCommand(DebugEditorContextCommands.DISABLE_LOGPOINT, {\n            execute: position => this.isPosition(position) && this.editors.setBreakpointEnabled(this.asPosition(position), false),\n            isEnabled: position => this.isPosition(position) && !!this.editors.getLogpointEnabled(this.asPosition(position)),\n            isVisible: position => this.isPosition(position) && !!this.editors.getLogpointEnabled(this.asPosition(position))\n        });\n        registry.registerCommand(DebugEditorContextCommands.JUMP_TO_CURSOR, {\n            execute: position => {\n                if (this.isPosition(position) && this.editors.currentUri && this.manager.currentThread) {\n                    this.manager.currentThread.jumpToCursor(this.editors.currentUri, this.asPosition(position));\n                }\n            },\n            isEnabled: () => !!this.manager.currentThread && this.manager.currentThread.supportsGoto,\n            isVisible: () => !!this.manager.currentThread && this.manager.currentThread.supportsGoto\n        });\n\n        registry.registerCommand(DebugBreakpointWidgetCommands.ACCEPT, {\n            execute: () => this.editors.acceptBreakpoint()\n        });\n        registry.registerCommand(DebugBreakpointWidgetCommands.CLOSE, {\n            execute: () => this.editors.closeBreakpoint()\n        });\n\n        registry.registerCommand(DebugCommands.ADD_WATCH_EXPRESSION, {\n            execute: widget => {\n                if (widget instanceof Widget) {\n                    if (widget instanceof DebugWatchWidget) {\n                        widget.viewModel.addWatchExpression();\n                    }\n                } else if (this.watch) {\n                    this.watch.viewModel.addWatchExpression();\n                }\n            },\n            isEnabled: widget => widget instanceof Widget ? widget instanceof DebugWatchWidget : !!this.watch,\n            isVisible: widget => widget instanceof Widget ? widget instanceof DebugWatchWidget : !!this.watch\n        });\n        registry.registerCommand(DebugCommands.EDIT_WATCH_EXPRESSION, {\n            execute: () => {\n                const { watchExpression } = this;\n                if (watchExpression) {\n                    watchExpression.open();\n                }\n            },\n            isEnabled: () => !!this.watchExpression,\n            isVisible: () => !!this.watchExpression\n        });\n        registry.registerCommand(DebugCommands.COPY_WATCH_EXPRESSION_VALUE, {\n            execute: () => this.watchExpression && this.watchExpression.copyValue(),\n            isEnabled: () => !!this.watchExpression && this.watchExpression.supportCopyValue,\n            isVisible: () => !!this.watchExpression && this.watchExpression.supportCopyValue\n        });\n        registry.registerCommand(DebugCommands.COLLAPSE_ALL_WATCH_EXPRESSIONS, {\n            execute: widget => {\n                if (widget instanceof DebugWatchWidget) {\n                    const root = widget.model.root;\n                    widget.model.collapseAll(CompositeTreeNode.is(root) ? root : undefined);\n                }\n            },\n            isEnabled: widget => widget instanceof DebugWatchWidget,\n            isVisible: widget => widget instanceof DebugWatchWidget\n        });\n        registry.registerCommand(DebugCommands.REMOVE_WATCH_EXPRESSION, {\n            execute: () => {\n                const { watch, watchExpression } = this;\n                if (watch && watchExpression) {\n                    watch.viewModel.removeWatchExpression(watchExpression);\n                }\n            },\n            isEnabled: () => !!this.watchExpression,\n            isVisible: () => !!this.watchExpression\n        });\n        registry.registerCommand(DebugCommands.REMOVE_ALL_WATCH_EXPRESSIONS, {\n            execute: widget => {\n                if (widget instanceof Widget) {\n                    if (widget instanceof DebugWatchWidget) {\n                        widget.viewModel.removeWatchExpressions();\n                    }\n                } else if (this.watch) {\n                    this.watch.viewModel.removeWatchExpressions();\n                }\n            },\n            isEnabled: widget => widget instanceof Widget ? widget instanceof DebugWatchWidget : !!this.watch,\n            isVisible: widget => widget instanceof Widget ? widget instanceof DebugWatchWidget : !!this.watch\n        });\n    }\n\n    override registerKeybindings(keybindings: KeybindingRegistry): void {\n        super.registerKeybindings(keybindings);\n        keybindings.registerKeybinding({\n            command: DebugCommands.START.id,\n            keybinding: 'f5'\n        });\n        keybindings.registerKeybinding({\n            command: DebugCommands.START_NO_DEBUG.id,\n            keybinding: 'ctrl+f5'\n        });\n        keybindings.registerKeybinding({\n            command: DebugCommands.STOP.id,\n            keybinding: 'shift+f5',\n            when: 'inDebugMode'\n        });\n\n        keybindings.registerKeybinding({\n            command: DebugCommands.RESTART.id,\n            keybinding: 'shift+ctrlcmd+f5',\n            when: 'inDebugMode'\n        });\n        keybindings.registerKeybinding({\n            command: DebugCommands.STEP_OVER.id,\n            keybinding: 'f10',\n            when: 'inDebugMode'\n        });\n        keybindings.registerKeybinding({\n            command: DebugCommands.STEP_INTO.id,\n            keybinding: 'f11',\n            when: 'inDebugMode'\n        });\n        keybindings.registerKeybinding({\n            command: DebugCommands.STEP_OUT.id,\n            keybinding: 'shift+f11',\n            when: 'inDebugMode'\n        });\n        keybindings.registerKeybinding({\n            command: DebugCommands.CONTINUE.id,\n            keybinding: 'f5',\n            when: 'inDebugMode'\n        });\n        keybindings.registerKeybinding({\n            command: DebugCommands.PAUSE.id,\n            keybinding: 'f6',\n            when: 'inDebugMode'\n        });\n\n        keybindings.registerKeybinding({\n            command: DebugCommands.TOGGLE_BREAKPOINT.id,\n            keybinding: 'f9',\n            when: 'editorTextFocus'\n        });\n        keybindings.registerKeybinding({\n            command: DebugCommands.INLINE_BREAKPOINT.id,\n            keybinding: 'shift+f9',\n            when: 'editorTextFocus'\n        });\n\n        keybindings.registerKeybinding({\n            command: DebugBreakpointWidgetCommands.ACCEPT.id,\n            keybinding: 'enter',\n            when: 'breakpointWidgetFocus'\n        });\n        keybindings.registerKeybinding({\n            command: DebugBreakpointWidgetCommands.CLOSE.id,\n            keybinding: 'esc',\n            when: 'isBreakpointWidgetVisible || breakpointWidgetFocus'\n        });\n    }\n\n    registerToolbarItems(toolbar: TabBarToolbarRegistry): void {\n        const onDidChangeToggleBreakpointsEnabled = new Emitter<void>();\n        const toggleBreakpointsEnabled: Mutable<RenderedToolbarAction> = {\n            id: DebugCommands.TOGGLE_BREAKPOINTS_ENABLED.id,\n            command: DebugCommands.TOGGLE_BREAKPOINTS_ENABLED.id,\n            icon: codicon('activate-breakpoints'),\n            onDidChange: onDidChangeToggleBreakpointsEnabled.event,\n            priority: 1\n        };\n        const updateToggleBreakpointsEnabled = () => {\n            const activateBreakpoints = nls.localizeByDefault('Enable All Breakpoints');\n            const deactivateBreakpoints = nls.localizeByDefault('Disable All Breakpoints');\n            const tooltip = this.breakpointManager.breakpointsEnabled ? deactivateBreakpoints : activateBreakpoints;\n            if (toggleBreakpointsEnabled.tooltip !== tooltip) {\n                toggleBreakpointsEnabled.tooltip = tooltip;\n                onDidChangeToggleBreakpointsEnabled.fire(undefined);\n            }\n        };\n        toolbar.registerItem({\n            id: DebugCommands.ADD_FUNCTION_BREAKPOINT.id,\n            command: DebugCommands.ADD_FUNCTION_BREAKPOINT.id,\n            icon: codicon('add'),\n            tooltip: DebugCommands.ADD_FUNCTION_BREAKPOINT.label\n        });\n        updateToggleBreakpointsEnabled();\n        this.breakpointManager.onDidChangeBreakpoints(updateToggleBreakpointsEnabled);\n        toolbar.registerItem(toggleBreakpointsEnabled);\n        toolbar.registerItem({\n            id: DebugCommands.REMOVE_ALL_BREAKPOINTS.id,\n            command: DebugCommands.REMOVE_ALL_BREAKPOINTS.id,\n            icon: codicon('close-all'),\n            priority: 2\n        });\n\n        toolbar.registerItem({\n            id: DebugCommands.ADD_WATCH_EXPRESSION.id,\n            command: DebugCommands.ADD_WATCH_EXPRESSION.id,\n            icon: codicon('add'),\n            tooltip: DebugCommands.ADD_WATCH_EXPRESSION.label\n        });\n        toolbar.registerItem({\n            id: DebugCommands.COLLAPSE_ALL_WATCH_EXPRESSIONS.id,\n            command: DebugCommands.COLLAPSE_ALL_WATCH_EXPRESSIONS.id,\n            icon: codicon('collapse-all'),\n            tooltip: DebugCommands.COLLAPSE_ALL_WATCH_EXPRESSIONS.label,\n            priority: 1\n        });\n        toolbar.registerItem({\n            id: DebugCommands.REMOVE_ALL_WATCH_EXPRESSIONS.id,\n            command: DebugCommands.REMOVE_ALL_WATCH_EXPRESSIONS.id,\n            icon: codicon('close-all'),\n            tooltip: DebugCommands.REMOVE_ALL_WATCH_EXPRESSIONS.label,\n            priority: 2\n        });\n    }\n\n    protected async openSession(\n        session: DebugSession,\n        options?: {\n            reveal?: boolean;\n        }\n    ): Promise<DebugWidget | DebugSessionWidget> {\n        const { reveal } = {\n            reveal: true,\n            ...options\n        };\n        const debugWidget = await this.openView({ reveal });\n        debugWidget.sessionManager.currentSession = session;\n        return debugWidget['sessionWidget'];\n    }\n\n    protected revealSession(session: DebugSession): DebugSessionWidget | undefined {\n        const widget = this.tryGetWidget()?.['sessionWidget'];\n        if (widget) {\n            this.shell.revealWidget(widget.id);\n        }\n        return widget;\n    }\n\n    async start(noDebug?: boolean, debugSessionOptions?: DebugSessionOptions): Promise<void> {\n        let current = debugSessionOptions ? debugSessionOptions : this.configurations.current;\n        // If no configurations are currently present, create the `launch.json` and prompt users to select the config.\n        if (!current) {\n            await this.configurations.addConfiguration();\n            return;\n        }\n\n        if (noDebug !== undefined) {\n            if (current.configuration) {\n                current = {\n                    ...current,\n                    configuration: {\n                        ...current.configuration,\n                        noDebug\n                    }\n                };\n            } else {\n                current = {\n                    ...current,\n                    noDebug\n                };\n            }\n        }\n\n        await this.manager.start(current);\n    }\n\n    get threads(): DebugThreadsWidget | undefined {\n        const { currentWidget } = this.shell;\n        return currentWidget instanceof DebugThreadsWidget && currentWidget || undefined;\n    }\n    get selectedSession(): DebugSession | undefined {\n        const { threads } = this;\n        return threads && threads.selectedElement instanceof DebugSession && threads.selectedElement || undefined;\n    }\n    get selectedThread(): DebugThread | undefined {\n        const { threads } = this;\n        return threads && threads.selectedElement instanceof DebugThread && threads.selectedElement || undefined;\n    }\n\n    get frames(): DebugStackFramesWidget | undefined {\n        const { currentWidget } = this.shell;\n        return currentWidget instanceof DebugStackFramesWidget && currentWidget || undefined;\n    }\n    get selectedFrame(): DebugStackFrame | undefined {\n        const { frames } = this;\n        return frames && frames.selectedElement instanceof DebugStackFrame && frames.selectedElement || undefined;\n    }\n\n    get breakpoints(): DebugBreakpointsWidget | undefined {\n        const { currentWidget } = this.shell;\n        return currentWidget instanceof DebugBreakpointsWidget && currentWidget || undefined;\n    }\n    get selectedAnyBreakpoint(): DebugBreakpoint | undefined {\n        const { breakpoints } = this;\n        const selectedElement = breakpoints && breakpoints.selectedElement;\n        return selectedElement instanceof DebugBreakpoint ? selectedElement : undefined;\n    }\n    get selectedBreakpoint(): DebugSourceBreakpoint | undefined {\n        const breakpoint = this.selectedAnyBreakpoint;\n        return breakpoint && breakpoint instanceof DebugSourceBreakpoint && !breakpoint.logMessage ? breakpoint : undefined;\n    }\n    get selectedLogpoint(): DebugSourceBreakpoint | undefined {\n        const breakpoint = this.selectedAnyBreakpoint;\n        return breakpoint && breakpoint instanceof DebugSourceBreakpoint && !!breakpoint.logMessage ? breakpoint : undefined;\n    }\n    get selectedFunctionBreakpoint(): DebugFunctionBreakpoint | undefined {\n        const breakpoint = this.selectedAnyBreakpoint;\n        return breakpoint && breakpoint instanceof DebugFunctionBreakpoint ? breakpoint : undefined;\n    }\n    get selectedInstructionBreakpoint(): DebugInstructionBreakpoint | undefined {\n        if (this.selectedAnyBreakpoint instanceof DebugInstructionBreakpoint) {\n            return this.selectedAnyBreakpoint;\n        }\n    }\n    get selectedExceptionBreakpoint(): DebugExceptionBreakpoint | undefined {\n        const { breakpoints } = this;\n        const selectedElement = breakpoints && breakpoints.selectedElement;\n        return selectedElement instanceof DebugExceptionBreakpoint ? selectedElement : undefined;\n    }\n\n    get selectedSettableBreakpoint(): DebugFunctionBreakpoint | DebugInstructionBreakpoint | DebugSourceBreakpoint | undefined {\n        const selected = this.selectedAnyBreakpoint;\n        if (selected instanceof DebugFunctionBreakpoint || selected instanceof DebugInstructionBreakpoint || selected instanceof DebugSourceBreakpoint) {\n            return selected;\n        }\n    }\n\n    get variables(): DebugVariablesWidget | undefined {\n        const { currentWidget } = this.shell;\n        return currentWidget instanceof DebugVariablesWidget && currentWidget || undefined;\n    }\n    get selectedVariable(): DebugVariable | undefined {\n        const { variables } = this;\n        return variables && variables.selectedElement instanceof DebugVariable && variables.selectedElement || undefined;\n    }\n\n    get watch(): DebugWatchWidget | undefined {\n        const { currentWidget } = this.shell;\n        return currentWidget instanceof DebugWatchWidget && currentWidget || undefined;\n    }\n    get watchExpression(): DebugWatchExpression | undefined {\n        const { watch } = this;\n        return watch && watch.selectedElement instanceof DebugWatchExpression && watch.selectedElement || undefined;\n    }\n\n    protected isPosition(position: unknown): boolean {\n        return monaco.Position.isIPosition(position);\n    }\n\n    protected asPosition(position: monaco.IPosition): monaco.Position {\n        return monaco.Position.lift(position);\n    }\n\n    registerColors(colors: ColorRegistry): void {\n        colors.register(\n            // Debug colors should be aligned with https://code.visualstudio.com/api/references/theme-color#debug-colors\n            {\n                id: 'editor.stackFrameHighlightBackground',\n                defaults: {\n                    dark: '#ffff0033',\n                    light: '#ffff6673',\n                    hcDark: '#fff600',\n                    hcLight: '#ffff6673'\n                }, description: 'Background color for the highlight of line at the top stack frame position.'\n            },\n            {\n                id: 'editor.focusedStackFrameHighlightBackground',\n                defaults: {\n                    dark: '#7abd7a4d',\n                    light: '#cee7ce73',\n                    hcDark: '#cee7ce',\n                    hcLight: '#cee7ce73'\n                }, description: 'Background color for the highlight of line at focused stack frame position.'\n            },\n            // Status bar colors should be aligned with debugging colors from https://code.visualstudio.com/api/references/theme-color#status-bar-colors\n            {\n                id: 'statusBar.debuggingBackground', defaults: {\n                    dark: '#CC6633',\n                    light: '#CC6633',\n                    hcDark: '#CC6633',\n                    hcLight: '#B5200D'\n                }, description: 'Status bar background color when a program is being debugged. The status bar is shown in the bottom of the window'\n            },\n            {\n                id: 'statusBar.debuggingForeground', defaults: {\n                    dark: 'statusBar.foreground',\n                    light: 'statusBar.foreground',\n                    hcDark: 'statusBar.foreground',\n                    hcLight: 'statusBar.foreground'\n                }, description: 'Status bar foreground color when a program is being debugged. The status bar is shown in the bottom of the window'\n            },\n            {\n                id: 'statusBar.debuggingBorder', defaults: {\n                    dark: 'statusBar.border',\n                    light: 'statusBar.border',\n                    hcDark: 'statusBar.border',\n                    hcLight: 'statusBar.border'\n                }, description: 'Status bar border color separating to the sidebar and editor when a program is being debugged. The status bar is shown in the bottom of the window'\n            },\n            // Debug Exception Widget colors should be aligned with\n            // https://github.com/microsoft/vscode/blob/ff5f581425da6230b6f9216ecf19abf6c9d285a6/src/vs/workbench/contrib/debug/browser/exceptionWidget.ts#L23\n            {\n                id: 'debugExceptionWidget.border', defaults: {\n                    dark: '#a31515',\n                    light: '#a31515',\n                    hcDark: '#a31515',\n                    hcLight: '#a31515'\n                }, description: 'Exception widget border color.',\n            },\n            {\n                id: 'debugExceptionWidget.background', defaults: {\n                    dark: '#420b0d',\n                    light: '#f1dfde',\n                    hcDark: '#420b0d',\n                    hcLight: '#f1dfde'\n                }, description: 'Exception widget background color.'\n            },\n            // Debug Icon colors should be aligned with\n            // https://code.visualstudio.com/api/references/theme-color#debug-icons-colors\n            {\n                id: 'debugIcon.breakpointForeground', defaults: {\n                    dark: '#E51400',\n                    light: '#E51400',\n                    hcDark: '#E51400',\n                    hcLight: '#E51400'\n                },\n                description: 'Icon color for breakpoints.'\n            },\n            {\n                id: 'debugIcon.breakpointDisabledForeground', defaults: {\n                    dark: '#848484',\n                    light: '#848484',\n                    hcDark: '#848484',\n                    hcLight: '#848484'\n                },\n                description: 'Icon color for disabled breakpoints.'\n            },\n            {\n                id: 'debugIcon.breakpointUnverifiedForeground', defaults: {\n                    dark: '#848484',\n                    light: '#848484',\n                    hcDark: '#848484',\n                    hcLight: '#848484'\n                },\n                description: 'Icon color for unverified breakpoints.'\n            },\n            {\n                id: 'debugIcon.breakpointCurrentStackframeForeground', defaults: {\n                    dark: '#FFCC00',\n                    light: '#BE8700',\n                    hcDark: '#FFCC00',\n                    hcLight: '#BE8700'\n                },\n                description: 'Icon color for the current breakpoint stack frame.'\n            },\n            {\n                id: 'debugIcon.breakpointStackframeForeground', defaults: {\n                    dark: '#89D185',\n                    light: '#89D185',\n                    hcDark: '#89D185',\n                    hcLight: '#89D185'\n                },\n                description: 'Icon color for all breakpoint stack frames.'\n            },\n            {\n                id: 'debugIcon.startForeground', defaults: {\n                    dark: '#89D185',\n                    light: '#388A34',\n                    hcDark: '#89D185',\n                    hcLight: '#388A34'\n                }, description: 'Debug toolbar icon for start debugging.'\n            },\n            {\n                id: 'debugIcon.pauseForeground', defaults: {\n                    dark: '#75BEFF',\n                    light: '#007ACC',\n                    hcDark: '#75BEFF',\n                    hcLight: '#007ACC'\n                }, description: 'Debug toolbar icon for pause.'\n            },\n            {\n                id: 'debugIcon.stopForeground', defaults: {\n                    dark: '#F48771',\n                    light: '#A1260D',\n                    hcDark: '#F48771',\n                    hcLight: '#A1260D'\n                }, description: 'Debug toolbar icon for stop.'\n            },\n            {\n                id: 'debugIcon.disconnectForeground', defaults: {\n                    dark: '#F48771',\n                    light: '#A1260D',\n                    hcDark: '#F48771',\n                    hcLight: '#A1260D'\n                }, description: 'Debug toolbar icon for disconnect.'\n            },\n            {\n                id: 'debugIcon.restartForeground', defaults: {\n                    dark: '#89D185',\n                    light: '#388A34',\n                    hcDark: '#89D185',\n                    hcLight: '#388A34'\n                }, description: 'Debug toolbar icon for restart.'\n            },\n            {\n                id: 'debugIcon.stepOverForeground', defaults: {\n                    dark: '#75BEFF',\n                    light: '#007ACC',\n                    hcDark: '#75BEFF',\n                    hcLight: '#007ACC',\n                }, description: 'Debug toolbar icon for step over.'\n            },\n            {\n                id: 'debugIcon.stepIntoForeground', defaults: {\n                    dark: '#75BEFF',\n                    light: '#007ACC',\n                    hcDark: '#75BEFF',\n                    hcLight: '#007ACC'\n                }, description: 'Debug toolbar icon for step into.'\n            },\n            {\n                id: 'debugIcon.stepOutForeground', defaults: {\n                    dark: '#75BEFF',\n                    light: '#007ACC',\n                    hcDark: '#75BEFF',\n                    hcLight: '#007ACC',\n                }, description: 'Debug toolbar icon for step over.'\n            },\n            {\n                id: 'debugIcon.continueForeground', defaults: {\n                    dark: '#75BEFF',\n                    light: '#007ACC',\n                    hcDark: '#75BEFF',\n                    hcLight: '#007ACC'\n                }, description: 'Debug toolbar icon for continue.'\n            },\n            {\n                id: 'debugIcon.stepBackForeground', defaults: {\n                    dark: '#75BEFF',\n                    light: '#007ACC',\n                    hcDark: '#75BEFF',\n                    hcLight: '#007ACC'\n                }, description: 'Debug toolbar icon for step back.'\n            },\n            {\n                id: 'debugConsole.infoForeground', defaults: {\n                    dark: 'editorInfo.foreground',\n                    light: 'editorInfo.foreground',\n                    hcDark: 'foreground',\n                    hcLight: 'foreground'\n                }, description: 'Foreground color for info messages in debug REPL console.'\n            },\n            {\n                id: 'debugConsole.warningForeground', defaults: {\n                    dark: 'editorWarning.foreground',\n                    light: 'editorWarning.foreground',\n                    hcDark: '#008000',\n                    hcLight: 'editorWarning.foreground'\n                },\n                description: 'Foreground color for warning messages in debug REPL console.'\n            },\n            {\n                id: 'debugConsole.errorForeground', defaults: {\n                    dark: 'errorForeground',\n                    light: 'errorForeground',\n                    hcDark: 'errorForeground',\n                    hcLight: 'errorForeground'\n                },\n                description: 'Foreground color for error messages in debug REPL console.',\n            },\n            {\n                id: 'debugConsole.sourceForeground', defaults: {\n                    dark: 'foreground',\n                    light: 'foreground',\n                    hcDark: 'foreground',\n                    hcLight: 'foreground'\n                },\n                description: 'Foreground color for source filenames in debug REPL console.',\n            },\n            {\n                id: 'debugConsoleInputIcon.foreground', defaults: {\n                    dark: 'foreground',\n                    light: 'foreground',\n                    hcDark: 'foreground',\n                    hcLight: 'foreground'\n                },\n                description: 'Foreground color for debug console input marker icon.'\n            }\n        );\n    }\n\n    protected updateStatusBar(): void {\n        if (this.debuggingStatusBar === document.body.classList.contains('theia-mod-debugging')) {\n            return;\n        }\n        document.body.classList.toggle('theia-mod-debugging');\n    }\n\n    protected get debuggingStatusBar(): boolean {\n        if (this.manager.state < DebugState.Running) {\n            return false;\n        }\n\n        const session = this.manager.currentSession;\n        if (session) {\n            if (session.configuration.noDebug) {\n                return false;\n            }\n            if (this.getOption(session, 'suppressDebugStatusbar')) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    protected getOption(session: DebugSession | undefined, option: keyof {\n        [Property in keyof DebugConfiguration]: boolean;\n    }): boolean | undefined {\n        // If session is undefined there will be no option\n        if (!session) {\n            return false;\n        }\n        // If undefined take the value of the parent\n        if (option in session.configuration && session.configuration[option] !== undefined) {\n            return session.configuration[option];\n        }\n\n        return this.getOption(session.parentSession, option);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { nls } from '@theia/core/lib/common/nls';\nimport { PreferenceSchema, PreferenceProxy, PreferenceService, createPreferenceProxy, PreferenceContribution } from '@theia/core/lib/browser/preferences';\nimport { interfaces } from '@theia/core/shared/inversify';\n\nexport const debugPreferencesSchema: PreferenceSchema = {\n    type: 'object',\n    properties: {\n        'debug.trace': {\n            type: 'boolean',\n            default: false,\n            description: nls.localize('theia/debug/toggleTracing', 'Enable/disable tracing communications with debug adapters')\n        },\n        'debug.openDebug': {\n            enum: ['neverOpen', 'openOnSessionStart', 'openOnFirstSessionStart', 'openOnDebugBreak'],\n            default: 'openOnSessionStart',\n            description: nls.localizeByDefault('Controls when the debug view should open.')\n        },\n        'debug.internalConsoleOptions': {\n            enum: ['neverOpen', 'openOnSessionStart', 'openOnFirstSessionStart'],\n            default: 'openOnFirstSessionStart',\n            description: nls.localizeByDefault('Controls when the internal Debug Console should open.')\n        },\n        'debug.inlineValues': {\n            type: 'boolean',\n            default: false,\n            description: nls.localizeByDefault('Show variable values inline in editor while debugging.')\n        },\n        'debug.showInStatusBar': {\n            enum: ['never', 'always', 'onFirstSessionStart'],\n            enumDescriptions: [\n                nls.localizeByDefault('Never show debug in Status bar'),\n                nls.localizeByDefault('Always show debug in Status bar'),\n                nls.localizeByDefault('Show debug in Status bar only after debug was started for the first time')\n            ],\n            description: nls.localizeByDefault('Controls when the debug Status bar should be visible.'),\n            default: 'onFirstSessionStart'\n        },\n        'debug.confirmOnExit': {\n            description: 'Controls whether to confirm when the window closes if there are active debug sessions.',\n            type: 'string',\n            enum: ['never', 'always'],\n            enumDescriptions: [\n                'Never confirm.',\n                'Always confirm if there are debug sessions.',\n            ],\n            default: 'never'\n        },\n        'debug.disassemblyView.showSourceCode': {\n            description: nls.localizeByDefault('Show Source Code in Disassembly View.'),\n            type: 'boolean',\n            default: true,\n        }\n    }\n};\n\nexport class DebugConfiguration {\n    'debug.trace': boolean;\n    'debug.openDebug': 'neverOpen' | 'openOnSessionStart' | 'openOnFirstSessionStart' | 'openOnDebugBreak';\n    'debug.internalConsoleOptions': 'neverOpen' | 'openOnSessionStart' | 'openOnFirstSessionStart';\n    'debug.inlineValues': boolean;\n    'debug.showInStatusBar': 'never' | 'always' | 'onFirstSessionStart';\n    'debug.confirmOnExit': 'never' | 'always';\n    'debug.disassemblyView.showSourceCode': boolean;\n}\n\nexport const DebugPreferenceContribution = Symbol('DebugPreferenceContribution');\nexport const DebugPreferences = Symbol('DebugPreferences');\nexport type DebugPreferences = PreferenceProxy<DebugConfiguration>;\n\nexport function createDebugPreferences(preferences: PreferenceService, schema: PreferenceSchema = debugPreferencesSchema): DebugPreferences {\n    return createPreferenceProxy(preferences, schema);\n}\n\nexport function bindDebugPreferences(bind: interfaces.Bind): void {\n    bind(DebugPreferences).toDynamicValue(ctx => {\n        const preferences = ctx.container.get<PreferenceService>(PreferenceService);\n        const contribution = ctx.container.get<PreferenceContribution>(DebugPreferenceContribution);\n        return createDebugPreferences(preferences, contribution.schema);\n    }).inSingletonScope();\n    bind(DebugPreferenceContribution).toConstantValue({ schema: debugPreferencesSchema });\n    bind(PreferenceContribution).toService(DebugPreferenceContribution);\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { JsonSchemaRegisterContext, JsonSchemaContribution, JsonSchemaDataStore } from '@theia/core/lib/browser/json-schema-store';\nimport { deepClone, nls } from '@theia/core/lib/common';\nimport { IJSONSchema } from '@theia/core/lib/common/json-schema';\nimport URI from '@theia/core/lib/common/uri';\nimport { DebugService } from '../common/debug-service';\nimport { debugPreferencesSchema } from './debug-preferences';\nimport { inputsSchema } from '@theia/variable-resolver/lib/browser/variable-input-schema';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport { defaultCompound } from '../common/debug-compound';\n\n@injectable()\nexport class DebugSchemaUpdater implements JsonSchemaContribution {\n\n    protected readonly uri = new URI(launchSchemaId);\n\n    @inject(JsonSchemaDataStore) protected readonly jsonStorage: JsonSchemaDataStore;\n    @inject(WorkspaceService) protected readonly workspaceService: WorkspaceService;\n    @inject(DebugService) protected readonly debug: DebugService;\n\n    @postConstruct()\n    protected init(): void {\n        this.jsonStorage.setSchema(this.uri, '');\n    }\n\n    registerSchemas(context: JsonSchemaRegisterContext): void {\n        context.registerSchema({\n            fileMatch: ['launch.json'],\n            url: this.uri.toString()\n        });\n        this.workspaceService.updateSchema('launch', { $ref: this.uri.toString() });\n    }\n\n    async update(): Promise<void> {\n        const types = await this.debug.debugTypes();\n        const schema = { ...deepClone(launchSchema) };\n        const items = (<IJSONSchema>schema!.properties!['configurations'].items);\n\n        const attributePromises = types.map(type => this.debug.getSchemaAttributes(type));\n        for (const attributes of await Promise.all(attributePromises)) {\n            for (const attribute of attributes) {\n                const properties: typeof attribute['properties'] = {};\n                for (const key of ['debugViewLocation', 'openDebug', 'internalConsoleOptions']) {\n                    properties[key] = debugPreferencesSchema.properties[`debug.${key}`];\n                }\n                attribute.properties = Object.assign(properties, attribute.properties);\n                items.oneOf!.push(attribute);\n            }\n        }\n        items.defaultSnippets!.push(...await this.debug.getConfigurationSnippets());\n        this.jsonStorage.setSchema(this.uri, schema);\n    }\n}\n\nexport const launchSchemaId = 'vscode://schemas/launch';\nconst launchSchema: IJSONSchema = {\n    $id: launchSchemaId,\n    type: 'object',\n    title: nls.localizeByDefault('Launch'),\n    required: [],\n    default: { version: '0.2.0', configurations: [], compounds: [] },\n    properties: {\n        version: {\n            type: 'string',\n            description: nls.localizeByDefault('Version of this file format.'),\n            default: '0.2.0'\n        },\n        configurations: {\n            type: 'array',\n            description: nls.localizeByDefault('List of configurations. Add new configurations or edit existing ones by using IntelliSense.'),\n            items: {\n                defaultSnippets: [],\n                'type': 'object',\n                oneOf: []\n            }\n        },\n        compounds: {\n            type: 'array',\n            description: nls.localizeByDefault('List of compounds. Each compound references multiple configurations which will get launched together.'),\n            items: {\n                type: 'object',\n                required: ['name', 'configurations'],\n                properties: {\n                    name: {\n                        type: 'string',\n                        description: nls.localizeByDefault('Name of compound. Appears in the launch configuration drop down menu.')\n                    },\n                    configurations: {\n                        type: 'array',\n                        default: [],\n                        items: {\n                            oneOf: [{\n                                type: 'string',\n                                description: nls.localizeByDefault('Please use unique configuration names.')\n                            }, {\n                                type: 'object',\n                                required: ['name'],\n                                properties: {\n                                    name: {\n                                        enum: [],\n                                        description: nls.localizeByDefault('Name of compound. Appears in the launch configuration drop down menu.')\n                                    },\n                                    folder: {\n                                        enum: [],\n                                        description: nls.localizeByDefault('Name of folder in which the compound is located.')\n                                    }\n                                }\n                            }]\n                        },\n                        description: nls.localizeByDefault('Names of configurations that will be started as part of this compound.')\n                    },\n                    stopAll: {\n                        type: 'boolean',\n                        default: false,\n                        description: nls.localizeByDefault('Controls whether manually terminating one session will stop all of the compound sessions.')\n                    },\n                    preLaunchTask: {\n                        type: 'string',\n                        default: '',\n                        description: nls.localizeByDefault('Task to run before any of the compound configurations start.')\n                    }\n                },\n                default: defaultCompound\n            },\n            default: [defaultCompound]\n        },\n        inputs: inputsSchema.definitions!.inputs\n    },\n    allowComments: true,\n    allowTrailingCommas: true,\n};\n","// *****************************************************************************\n// Copyright (C) 2025 and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport URI from '@theia/core/lib/common/uri';\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport { type DebugSessionOptions } from './debug-session-options';\n\n/**\n * Provides a label for the debug session without the need to create the session.\n * Debug session labels are used to check if sessions are the \"same\".\n */\n@injectable()\nexport class DebugSessionConfigurationLabelProvider {\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    // https://github.com/microsoft/vscode/blob/907518a25c6d6b9467cbcc57132c6adb7e7396b0/src/vs/workbench/contrib/debug/browser/debugSession.ts#L253-L256\n    getLabel(\n        params: Pick<DebugSessionOptions, 'name' | 'workspaceFolderUri'>,\n        includeRoot = this.workspaceService.tryGetRoots().length > 1\n    ): string {\n        let { name, workspaceFolderUri } = params;\n        if (includeRoot && workspaceFolderUri) {\n            const uri = new URI(workspaceFolderUri);\n            const path = uri.path;\n            const basenameOrAuthority = path.name || uri.authority;\n            name += ` (${basenameOrAuthority})`;\n        }\n        return name;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { DebugProtocol } from '@vscode/debugprotocol';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { Event, Emitter, DisposableCollection, Disposable, MaybePromise } from '@theia/core';\nimport { OutputChannel } from '@theia/output/lib/browser/output-channel';\n\nimport { DebugChannel } from '../common/debug-service';\n\nexport type DebugRequestHandler = (request: DebugProtocol.Request) => MaybePromise<any>;\n\nexport interface DebugRequestTypes {\n    'attach': [DebugProtocol.AttachRequestArguments, DebugProtocol.AttachResponse]\n    'breakpointLocations': [DebugProtocol.BreakpointLocationsArguments, DebugProtocol.BreakpointLocationsResponse]\n    'cancel': [DebugProtocol.CancelArguments, DebugProtocol.CancelResponse]\n    'completions': [DebugProtocol.CompletionsArguments, DebugProtocol.CompletionsResponse]\n    'configurationDone': [DebugProtocol.ConfigurationDoneArguments, DebugProtocol.ConfigurationDoneResponse]\n    'continue': [DebugProtocol.ContinueArguments, DebugProtocol.ContinueResponse]\n    'dataBreakpointInfo': [DebugProtocol.DataBreakpointInfoArguments, DebugProtocol.DataBreakpointInfoResponse]\n    'disassemble': [DebugProtocol.DisassembleArguments, DebugProtocol.DisassembleResponse]\n    'disconnect': [DebugProtocol.DisconnectArguments, DebugProtocol.DisconnectResponse]\n    'evaluate': [DebugProtocol.EvaluateArguments, DebugProtocol.EvaluateResponse]\n    'exceptionInfo': [DebugProtocol.ExceptionInfoArguments, DebugProtocol.ExceptionInfoResponse]\n    'goto': [DebugProtocol.GotoArguments, DebugProtocol.GotoResponse]\n    'gotoTargets': [DebugProtocol.GotoTargetsArguments, DebugProtocol.GotoTargetsResponse]\n    'initialize': [DebugProtocol.InitializeRequestArguments, DebugProtocol.InitializeResponse]\n    'launch': [DebugProtocol.LaunchRequestArguments, DebugProtocol.LaunchResponse]\n    'loadedSources': [DebugProtocol.LoadedSourcesArguments, DebugProtocol.LoadedSourcesResponse]\n    'modules': [DebugProtocol.ModulesArguments, DebugProtocol.ModulesResponse]\n    'next': [DebugProtocol.NextArguments, DebugProtocol.NextResponse]\n    'pause': [DebugProtocol.PauseArguments, DebugProtocol.PauseResponse]\n    'readMemory': [DebugProtocol.ReadMemoryArguments, DebugProtocol.ReadMemoryResponse]\n    'restart': [DebugProtocol.RestartArguments, DebugProtocol.RestartResponse]\n    'restartFrame': [DebugProtocol.RestartFrameArguments, DebugProtocol.RestartFrameResponse]\n    'reverseContinue': [DebugProtocol.ReverseContinueArguments, DebugProtocol.ReverseContinueResponse]\n    'scopes': [DebugProtocol.ScopesArguments, DebugProtocol.ScopesResponse]\n    'setBreakpoints': [DebugProtocol.SetBreakpointsArguments, DebugProtocol.SetBreakpointsResponse]\n    'setDataBreakpoints': [DebugProtocol.SetDataBreakpointsArguments, DebugProtocol.SetDataBreakpointsResponse]\n    'setExceptionBreakpoints': [DebugProtocol.SetExceptionBreakpointsArguments, DebugProtocol.SetExceptionBreakpointsResponse]\n    'setExpression': [DebugProtocol.SetExpressionArguments, DebugProtocol.SetExpressionResponse]\n    'setFunctionBreakpoints': [DebugProtocol.SetFunctionBreakpointsArguments, DebugProtocol.SetFunctionBreakpointsResponse]\n    'setInstructionBreakpoints': [DebugProtocol.SetInstructionBreakpointsArguments, DebugProtocol.SetInstructionBreakpointsResponse]\n    'setVariable': [DebugProtocol.SetVariableArguments, DebugProtocol.SetVariableResponse]\n    'source': [DebugProtocol.SourceArguments, DebugProtocol.SourceResponse]\n    'stackTrace': [DebugProtocol.StackTraceArguments, DebugProtocol.StackTraceResponse]\n    'stepBack': [DebugProtocol.StepBackArguments, DebugProtocol.StepBackResponse]\n    'stepIn': [DebugProtocol.StepInArguments, DebugProtocol.StepInResponse]\n    'stepInTargets': [DebugProtocol.StepInTargetsArguments, DebugProtocol.StepInTargetsResponse]\n    'stepOut': [DebugProtocol.StepOutArguments, DebugProtocol.StepOutResponse]\n    'terminate': [DebugProtocol.TerminateArguments, DebugProtocol.TerminateResponse]\n    'terminateThreads': [DebugProtocol.TerminateThreadsArguments, DebugProtocol.TerminateThreadsResponse]\n    'threads': [{}, DebugProtocol.ThreadsResponse]\n    'variables': [DebugProtocol.VariablesArguments, DebugProtocol.VariablesResponse]\n    'writeMemory': [DebugProtocol.WriteMemoryArguments, DebugProtocol.WriteMemoryResponse]\n}\n\nexport interface DebugEventTypes {\n    'breakpoint': DebugProtocol.BreakpointEvent\n    'capabilities': DebugProtocol.CapabilitiesEvent\n    'continued': DebugProtocol.ContinuedEvent\n    'exited': DebugProtocol.ExitedEvent,\n    'initialized': DebugProtocol.InitializedEvent\n    'invalidated': DebugProtocol.InvalidatedEvent\n    'loadedSource': DebugProtocol.LoadedSourceEvent\n    'module': DebugProtocol.ModuleEvent\n    'output': DebugProtocol.OutputEvent\n    'process': DebugProtocol.ProcessEvent\n    'progressEnd': DebugProtocol.ProgressEndEvent\n    'progressStart': DebugProtocol.ProgressStartEvent\n    'progressUpdate': DebugProtocol.ProgressUpdateEvent\n    'stopped': DebugProtocol.StoppedEvent\n    'terminated': DebugProtocol.TerminatedEvent\n    'thread': DebugProtocol.ThreadEvent\n}\n\nexport type DebugEventNames = keyof DebugEventTypes;\n\nexport namespace DebugEventTypes {\n    export function isStandardEvent(event: string): event is DebugEventNames {\n        return standardDebugEvents.has(event);\n    };\n}\n\nconst standardDebugEvents = new Set<string>([\n    'breakpoint',\n    'capabilities',\n    'continued',\n    'exited',\n    'initialized',\n    'invalidated',\n    'loadedSource',\n    'module',\n    'output',\n    'process',\n    'progressEnd',\n    'progressStart',\n    'progressUpdate',\n    'stopped',\n    'terminated',\n    'thread'\n]);\n\nexport class DebugSessionConnection implements Disposable {\n\n    private sequence = 1;\n\n    protected readonly pendingRequests = new Map<number, Deferred<DebugProtocol.Response>>();\n    protected readonly connectionPromise: Promise<DebugChannel>;\n\n    protected readonly requestHandlers = new Map<string, DebugRequestHandler>();\n\n    protected readonly onDidCustomEventEmitter = new Emitter<DebugProtocol.Event>();\n    readonly onDidCustomEvent: Event<DebugProtocol.Event> = this.onDidCustomEventEmitter.event;\n\n    protected readonly onDidCloseEmitter = new Emitter<void>();\n    readonly onDidClose: Event<void> = this.onDidCloseEmitter.event;\n\n    protected isClosed = false;\n\n    protected readonly toDispose = new DisposableCollection(\n        this.onDidCustomEventEmitter,\n        Disposable.create(() => this.pendingRequests.clear()),\n        Disposable.create(() => this.emitters.clear())\n    );\n\n    constructor(\n        readonly sessionId: string,\n        connectionFactory: (sessionId: string) => Promise<DebugChannel>,\n        protected readonly traceOutputChannel: OutputChannel | undefined\n    ) {\n        this.connectionPromise = this.createConnection(connectionFactory);\n    }\n\n    get disposed(): boolean {\n        return this.toDispose.disposed;\n    }\n\n    protected checkDisposed(): void {\n        if (this.disposed) {\n            throw new Error('the debug session connection is disposed, id: ' + this.sessionId);\n        }\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    protected async createConnection(connectionFactory: (sessionId: string) => Promise<DebugChannel>): Promise<DebugChannel> {\n        const connection = await connectionFactory(this.sessionId);\n        connection.onClose(() => {\n            this.isClosed = true;\n            this.cancelPendingRequests();\n            this.onDidCloseEmitter.fire();\n        });\n        connection.onMessage(data => this.handleMessage(data));\n        return connection;\n    }\n\n    protected allThreadsContinued = true;\n    async sendRequest<K extends keyof DebugRequestTypes>(command: K, args: DebugRequestTypes[K][0], timeout?: number): Promise<DebugRequestTypes[K][1]> {\n        const result = await this.doSendRequest(command, args, timeout);\n        if (command === 'next' || command === 'stepIn' ||\n            command === 'stepOut' || command === 'stepBack' ||\n            command === 'reverseContinue' || command === 'restartFrame') {\n            this.fireContinuedEvent((args as any).threadId);\n        }\n        if (command === 'continue') {\n            const response = result as DebugProtocol.ContinueResponse;\n            const allThreadsContinued = response && response.body && response.body.allThreadsContinued;\n            if (allThreadsContinued !== undefined) {\n                this.allThreadsContinued = result.body.allThreadsContinued;\n            }\n            this.fireContinuedEvent((args as any).threadId, this.allThreadsContinued);\n            return result;\n        }\n        return result;\n    }\n    sendCustomRequest<T extends DebugProtocol.Response>(command: string, args?: any): Promise<T> {\n        return this.doSendRequest<T>(command, args);\n    }\n\n    protected cancelPendingRequests(): void {\n        this.pendingRequests.forEach((deferred, requestId) => {\n            deferred.reject(new Error(`Request ${requestId} cancelled on connection close`));\n        });\n    }\n\n    protected doSendRequest<K extends DebugProtocol.Response>(command: string, args?: any, timeout?: number): Promise<K> {\n        const result = new Deferred<K>();\n\n        if (this.isClosed) {\n            result.reject(new Error('Connection is closed'));\n        } else {\n            const request: DebugProtocol.Request = {\n                seq: this.sequence++,\n                type: 'request',\n                command: command,\n                arguments: args\n            };\n\n            this.pendingRequests.set(request.seq, result);\n            if (timeout) {\n                const handle = setTimeout(() => {\n                    const pendingRequest = this.pendingRequests.get(request.seq);\n                    if (pendingRequest) {\n                        // request has not been handled\n                        this.pendingRequests.delete(request.seq);\n                        const error: DebugProtocol.Response = {\n                            type: 'response',\n                            seq: 0,\n                            request_seq: request.seq,\n                            success: false,\n                            command,\n                            message: `Request #${request.seq}: ${request.command} timed out`\n                        };\n                        pendingRequest.reject(error);\n                    }\n                }, timeout);\n                result.promise.finally(() => clearTimeout(handle));\n            }\n            this.send(request);\n        }\n        return result.promise;\n    }\n\n    protected async send(message: DebugProtocol.ProtocolMessage): Promise<void> {\n        const connection = await this.connectionPromise;\n        const messageStr = JSON.stringify(message);\n        if (this.traceOutputChannel) {\n            const now = new Date();\n            const dateStr = `${now.toLocaleString(undefined, { hour12: false })}.${now.getMilliseconds()}`;\n            this.traceOutputChannel.appendLine(`${this.sessionId.substring(0, 8)} ${dateStr} theia -> adapter: ${JSON.stringify(message, undefined, 4)}`);\n        }\n        connection.send(messageStr);\n    }\n\n    protected handleMessage(data: string): void {\n        const message: DebugProtocol.ProtocolMessage = JSON.parse(data);\n        if (this.traceOutputChannel) {\n            const now = new Date();\n            const dateStr = `${now.toLocaleString(undefined, { hour12: false })}.${now.getMilliseconds()}`;\n            this.traceOutputChannel.appendLine(`${this.sessionId.substring(0, 8)} ${dateStr} theia <- adapter: ${JSON.stringify(message, undefined, 4)}`);\n        }\n        if (message.type === 'request') {\n            this.handleRequest(message as DebugProtocol.Request);\n        } else if (message.type === 'response') {\n            this.handleResponse(message as DebugProtocol.Response);\n        } else if (message.type === 'event') {\n            this.handleEvent(message as DebugProtocol.Event);\n        }\n    }\n\n    protected handleResponse(response: DebugProtocol.Response): void {\n        const pendingRequest = this.pendingRequests.get(response.request_seq);\n        if (pendingRequest) {\n            this.pendingRequests.delete(response.request_seq);\n            if (!response.success) {\n                pendingRequest.reject(response);\n            } else {\n                pendingRequest.resolve(response);\n            }\n        }\n    }\n\n    onRequest(command: string, handler: DebugRequestHandler): void {\n        this.requestHandlers.set(command, handler);\n    }\n\n    protected async handleRequest(request: DebugProtocol.Request): Promise<void> {\n        const response: DebugProtocol.Response = {\n            type: 'response',\n            seq: 0,\n            command: request.command,\n            request_seq: request.seq,\n            success: true,\n        };\n        const handler = this.requestHandlers.get(request.command);\n        if (handler) {\n            try {\n                response.body = await handler(request);\n            } catch (error) {\n                response.success = false;\n                response.message = error.message;\n            }\n        } else {\n            console.error('Unhandled request', request);\n        }\n        await this.send(response);\n    }\n\n    protected handleEvent(event: DebugProtocol.Event): void {\n        if (event.event === 'continued') {\n            this.allThreadsContinued = (<DebugProtocol.ContinuedEvent>event).body.allThreadsContinued === false ? false : true;\n        }\n        if (DebugEventTypes.isStandardEvent(event.event)) {\n            this.doFire(event.event, event);\n        } else {\n            this.onDidCustomEventEmitter.fire(event);\n        }\n    }\n\n    protected readonly emitters = new Map<string, Emitter<DebugProtocol.Event>>();\n    on<K extends keyof DebugEventTypes>(kind: K, listener: (e: DebugEventTypes[K]) => any): Disposable {\n        return this.getEmitter(kind).event(listener);\n    }\n\n    onEvent<K extends keyof DebugEventTypes>(kind: K): Event<DebugEventTypes[K]> {\n        return this.getEmitter(kind).event;\n    }\n\n    protected fire<K extends keyof DebugEventTypes>(kind: K, e: DebugEventTypes[K]): void {\n        this.doFire(kind, e);\n    }\n    protected doFire<K extends keyof DebugEventTypes>(kind: K, e: DebugEventTypes[K]): void {\n        this.getEmitter(kind).fire(e);\n    }\n    protected getEmitter<K extends keyof DebugEventTypes>(kind: K): Emitter<DebugEventTypes[K]> {\n        const emitter = this.emitters.get(kind) || this.newEmitter();\n        this.emitters.set(kind, emitter);\n        return <Emitter<DebugEventTypes[K]>>emitter;\n    }\n    protected newEmitter(): Emitter<DebugProtocol.Event> {\n        const emitter = new Emitter();\n        this.checkDisposed();\n        this.toDispose.push(emitter);\n        return emitter;\n    }\n\n    protected fireContinuedEvent(threadId: number, allThreadsContinued = false): void {\n        this.fire('continued', {\n            type: 'event',\n            event: 'continued',\n            body: {\n                threadId,\n                allThreadsContinued\n            },\n            seq: -1\n        });\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, named, postConstruct } from '@theia/core/shared/inversify';\nimport { MessageClient } from '@theia/core/lib/common';\nimport { LabelProvider } from '@theia/core/lib/browser';\nimport { EditorManager } from '@theia/editor/lib/browser';\nimport { TerminalService } from '@theia/terminal/lib/browser/base/terminal-service';\nimport { DebugSession } from './debug-session';\nimport { BreakpointManager } from './breakpoint/breakpoint-manager';\nimport { DebugConfigurationSessionOptions, DebugSessionOptions } from './debug-session-options';\nimport { OutputChannelManager, OutputChannel } from '@theia/output/lib/browser/output-channel';\nimport { DebugPreferences } from './debug-preferences';\nimport { DebugSessionConnection } from './debug-session-connection';\nimport { DebugChannel, DebugAdapterPath, ForwardingDebugChannel } from '../common/debug-service';\nimport { ContributionProvider } from '@theia/core/lib/common/contribution-provider';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\nimport { DebugContribution } from './debug-contribution';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport { RemoteConnectionProvider, ServiceConnectionProvider } from '@theia/core/lib/browser/messaging/service-connection-provider';\nimport { TestService } from '@theia/test/lib/browser/test-service';\nimport { DebugSessionManager } from './debug-session-manager';\n\n/**\n * DebugSessionContribution symbol for DI.\n */\nexport const DebugSessionContribution = Symbol('DebugSessionContribution');\n/**\n * The [debug session](#DebugSession) contribution.\n * Can be used to instantiate a specific debug sessions.\n */\nexport interface DebugSessionContribution {\n    /**\n     * The debug type.\n     */\n    debugType: string;\n\n    /**\n     * The [debug session](#DebugSession) factory.\n     */\n    debugSessionFactory(): DebugSessionFactory;\n}\n/**\n * DebugSessionContributionRegistry symbol for DI.\n */\nexport const DebugSessionContributionRegistry = Symbol('DebugSessionContributionRegistry');\n/**\n * Debug session contribution registry.\n */\nexport interface DebugSessionContributionRegistry {\n    get(debugType: string): DebugSessionContribution | undefined;\n}\n\n@injectable()\nexport class DebugSessionContributionRegistryImpl implements DebugSessionContributionRegistry {\n    protected readonly contribs = new Map<string, DebugSessionContribution>();\n\n    @inject(ContributionProvider) @named(DebugSessionContribution)\n    protected readonly contributions: ContributionProvider<DebugSessionContribution>;\n\n    @postConstruct()\n    protected init(): void {\n        for (const contrib of this.contributions.getContributions()) {\n            this.contribs.set(contrib.debugType, contrib);\n        }\n    }\n\n    get(debugType: string): DebugSessionContribution | undefined {\n        return this.contribs.get(debugType);\n    }\n}\n\n/**\n * DebugSessionFactory symbol for DI.\n */\nexport const DebugSessionFactory = Symbol('DebugSessionFactory');\n\n/**\n * The [debug session](#DebugSession) factory.\n */\nexport interface DebugSessionFactory {\n    get(manager: DebugSessionManager, sessionId: string, options: DebugSessionOptions, parentSession?: DebugSession): DebugSession;\n}\n\n@injectable()\nexport class DefaultDebugSessionFactory implements DebugSessionFactory {\n    @inject(RemoteConnectionProvider)\n    protected readonly connectionProvider: ServiceConnectionProvider;\n    @inject(TerminalService)\n    protected readonly terminalService: TerminalService;\n    @inject(EditorManager)\n    protected readonly editorManager: EditorManager;\n    @inject(BreakpointManager)\n    protected readonly breakpoints: BreakpointManager;\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n    @inject(MessageClient)\n    protected readonly messages: MessageClient;\n    @inject(OutputChannelManager)\n    protected readonly outputChannelManager: OutputChannelManager;\n    @inject(DebugPreferences)\n    protected readonly debugPreferences: DebugPreferences;\n    @inject(FileService)\n    protected readonly fileService: FileService;\n    @inject(ContributionProvider) @named(DebugContribution)\n    protected readonly debugContributionProvider: ContributionProvider<DebugContribution>;\n    @inject(TestService)\n    protected readonly testService: TestService;\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    get(manager: DebugSessionManager, sessionId: string, options: DebugConfigurationSessionOptions, parentSession?: DebugSession): DebugSession {\n        const connection = new DebugSessionConnection(\n            sessionId,\n            () => new Promise<DebugChannel>(resolve =>\n                this.connectionProvider.listen(`${DebugAdapterPath}/${sessionId}`, (_, wsChannel) => {\n                    resolve(new ForwardingDebugChannel(wsChannel));\n                }, false)\n            ),\n            this.getTraceOutputChannel());\n        return new DebugSession(\n            sessionId,\n            options,\n            parentSession,\n            this.testService,\n            options.testRun,\n            manager,\n            connection,\n            this.terminalService,\n            this.editorManager,\n            this.breakpoints,\n            this.labelProvider,\n            this.messages,\n            this.fileService,\n            this.debugContributionProvider,\n            this.workspaceService);\n    }\n\n    protected getTraceOutputChannel(): OutputChannel | undefined {\n        if (this.debugPreferences['debug.trace']) {\n            return this.outputChannelManager.getChannel('Debug adapters');\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { DisposableCollection, Emitter, Event, MessageService, nls, ProgressService, WaitUntilEvent } from '@theia/core';\nimport { LabelProvider, ApplicationShell, ConfirmDialog } from '@theia/core/lib/browser';\nimport { ContextKey, ContextKeyService } from '@theia/core/lib/browser/context-key-service';\nimport URI from '@theia/core/lib/common/uri';\nimport { EditorManager } from '@theia/editor/lib/browser';\nimport { QuickOpenTask } from '@theia/task/lib/browser/quick-open-task';\nimport { TaskService, TaskEndedInfo, TaskEndedTypes } from '@theia/task/lib/browser/task-service';\nimport { VariableResolverService } from '@theia/variable-resolver/lib/browser';\nimport { inject, injectable, postConstruct } from '@theia/core/shared/inversify';\nimport { DebugConfiguration } from '../common/debug-common';\nimport { DebugError, DebugService } from '../common/debug-service';\nimport { BreakpointManager } from './breakpoint/breakpoint-manager';\nimport { DebugConfigurationManager } from './debug-configuration-manager';\nimport { DebugSession, DebugState, debugStateContextValue } from './debug-session';\nimport { DebugSessionContributionRegistry, DebugSessionFactory } from './debug-session-contribution';\nimport { DebugCompoundRoot, DebugCompoundSessionOptions, DebugConfigurationSessionOptions, DebugSessionOptions, InternalDebugSessionOptions } from './debug-session-options';\nimport { DebugStackFrame } from './model/debug-stack-frame';\nimport { DebugThread } from './model/debug-thread';\nimport { TaskIdentifier } from '@theia/task/lib/common';\nimport { DebugSourceBreakpoint } from './model/debug-source-breakpoint';\nimport { DebugFunctionBreakpoint } from './model/debug-function-breakpoint';\nimport * as monaco from '@theia/monaco-editor-core';\nimport { DebugInstructionBreakpoint } from './model/debug-instruction-breakpoint';\nimport { DebugWidget } from './view/debug-widget';\nimport { DebugSessionConfigurationLabelProvider } from './debug-session-configuration-label-provider';\n\nexport interface WillStartDebugSession extends WaitUntilEvent {\n}\n\nexport interface WillResolveDebugConfiguration extends WaitUntilEvent {\n    debugType: string\n}\n\nexport interface DidChangeActiveDebugSession {\n    previous: DebugSession | undefined\n    current: DebugSession | undefined\n}\n\nexport interface DidChangeBreakpointsEvent {\n    session?: DebugSession\n    uri: URI\n}\n\nexport interface DebugSessionCustomEvent {\n    readonly body?: any // eslint-disable-line @typescript-eslint/no-explicit-any\n    readonly event: string\n    readonly session: DebugSession\n}\n\n@injectable()\nexport class DebugSessionManager {\n    protected readonly _sessions = new Map<string, DebugSession>();\n\n    protected readonly onWillStartDebugSessionEmitter = new Emitter<WillStartDebugSession>();\n    readonly onWillStartDebugSession: Event<WillStartDebugSession> = this.onWillStartDebugSessionEmitter.event;\n\n    protected readonly onWillResolveDebugConfigurationEmitter = new Emitter<WillResolveDebugConfiguration>();\n    readonly onWillResolveDebugConfiguration: Event<WillResolveDebugConfiguration> = this.onWillResolveDebugConfigurationEmitter.event;\n\n    protected readonly onDidCreateDebugSessionEmitter = new Emitter<DebugSession>();\n    readonly onDidCreateDebugSession: Event<DebugSession> = this.onDidCreateDebugSessionEmitter.event;\n\n    protected readonly onDidStartDebugSessionEmitter = new Emitter<DebugSession>();\n    readonly onDidStartDebugSession: Event<DebugSession> = this.onDidStartDebugSessionEmitter.event;\n\n    protected readonly onDidStopDebugSessionEmitter = new Emitter<DebugSession>();\n    readonly onDidStopDebugSession: Event<DebugSession> = this.onDidStopDebugSessionEmitter.event;\n\n    protected readonly onDidChangeActiveDebugSessionEmitter = new Emitter<DidChangeActiveDebugSession>();\n    readonly onDidChangeActiveDebugSession: Event<DidChangeActiveDebugSession> = this.onDidChangeActiveDebugSessionEmitter.event;\n\n    protected readonly onDidDestroyDebugSessionEmitter = new Emitter<DebugSession>();\n    readonly onDidDestroyDebugSession: Event<DebugSession> = this.onDidDestroyDebugSessionEmitter.event;\n\n    protected readonly onDidReceiveDebugSessionCustomEventEmitter = new Emitter<DebugSessionCustomEvent>();\n    readonly onDidReceiveDebugSessionCustomEvent: Event<DebugSessionCustomEvent> = this.onDidReceiveDebugSessionCustomEventEmitter.event;\n\n    protected readonly onDidFocusStackFrameEmitter = new Emitter<DebugStackFrame | undefined>();\n    readonly onDidFocusStackFrame = this.onDidFocusStackFrameEmitter.event;\n\n    protected readonly onDidFocusThreadEmitter = new Emitter<DebugThread | undefined>();\n    readonly onDidFocusThread = this.onDidFocusThreadEmitter.event;\n\n    protected readonly onDidChangeBreakpointsEmitter = new Emitter<DidChangeBreakpointsEvent>();\n    readonly onDidChangeBreakpoints = this.onDidChangeBreakpointsEmitter.event;\n    protected fireDidChangeBreakpoints(event: DidChangeBreakpointsEvent): void {\n        this.onDidChangeBreakpointsEmitter.fire(event);\n    }\n\n    protected readonly onDidChangeEmitter = new Emitter<DebugSession | undefined>();\n    readonly onDidChange: Event<DebugSession | undefined> = this.onDidChangeEmitter.event;\n    protected fireDidChange(current: DebugSession | undefined): void {\n        this.debugTypeKey.set(current?.configuration.type);\n        this.inDebugModeKey.set(this.inDebugMode);\n        this.debugStateKey.set(debugStateContextValue(this.state));\n        this.onDidChangeEmitter.fire(current);\n    }\n\n    @inject(DebugSessionFactory)\n    protected readonly debugSessionFactory: DebugSessionFactory;\n\n    @inject(DebugService)\n    protected readonly debug: DebugService;\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    @inject(EditorManager)\n    protected readonly editorManager: EditorManager;\n\n    @inject(BreakpointManager)\n    protected readonly breakpoints: BreakpointManager;\n\n    @inject(VariableResolverService)\n    protected readonly variableResolver: VariableResolverService;\n\n    @inject(DebugSessionContributionRegistry)\n    protected readonly sessionContributionRegistry: DebugSessionContributionRegistry;\n\n    @inject(MessageService)\n    protected readonly messageService: MessageService;\n\n    @inject(ProgressService)\n    protected readonly progressService: ProgressService;\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    @inject(TaskService)\n    protected readonly taskService: TaskService;\n\n    @inject(DebugConfigurationManager)\n    protected readonly debugConfigurationManager: DebugConfigurationManager;\n\n    @inject(QuickOpenTask)\n    protected readonly quickOpenTask: QuickOpenTask;\n\n    @inject(ApplicationShell)\n    protected readonly shell: ApplicationShell;\n\n    @inject(DebugSessionConfigurationLabelProvider)\n    protected readonly sessionConfigurationLabelProvider: DebugSessionConfigurationLabelProvider;\n\n    protected debugTypeKey: ContextKey<string>;\n    protected inDebugModeKey: ContextKey<boolean>;\n    protected debugStateKey: ContextKey<string>;\n\n    @postConstruct()\n    protected init(): void {\n        this.debugTypeKey = this.contextKeyService.createKey<string>('debugType', undefined);\n        this.inDebugModeKey = this.contextKeyService.createKey<boolean>('inDebugMode', this.inDebugMode);\n        this.debugStateKey = this.contextKeyService.createKey<string>('debugState', debugStateContextValue(this.state));\n        this.breakpoints.onDidChangeMarkers(uri => this.fireDidChangeBreakpoints({ uri }));\n        this.labelProvider.onDidChange(event => {\n            for (const uriString of this.breakpoints.getUris()) {\n                const uri = new URI(uriString);\n                if (event.affects(uri)) {\n                    this.fireDidChangeBreakpoints({ uri });\n                }\n            }\n        });\n    }\n\n    get inDebugMode(): boolean {\n        return this.state > DebugState.Inactive;\n    }\n\n    isCurrentEditorFrame(uri: URI | string | monaco.Uri): boolean {\n        return this.currentFrame?.source?.uri.toString() === (uri instanceof URI ? uri : new URI(uri.toString())).toString();\n    }\n\n    protected async saveAll(): Promise<boolean> {\n        if (!this.shell.canSaveAll()) {\n            return true; // Nothing to save.\n        }\n        try {\n            await this.shell.saveAll();\n            return true;\n        } catch (error) {\n            console.error('saveAll failed:', error);\n            return false;\n        }\n    }\n\n    async start(options: DebugCompoundSessionOptions): Promise<boolean | undefined>;\n    async start(options: DebugConfigurationSessionOptions): Promise<DebugSession | undefined>;\n    async start(options: DebugSessionOptions): Promise<DebugSession | boolean | undefined>;\n    async start(name: string): Promise<DebugSession | boolean | undefined>;\n    async start(optionsOrName: DebugSessionOptions | string): Promise<DebugSession | boolean | undefined> {\n        if (typeof optionsOrName === 'string') {\n            const options = this.debugConfigurationManager.find(optionsOrName);\n            return !!options && this.start(options);\n        }\n        return optionsOrName.configuration ? this.startConfiguration(optionsOrName) : this.startCompound(optionsOrName);\n    }\n\n    protected async startConfiguration(options: DebugConfigurationSessionOptions): Promise<DebugSession | undefined> {\n        return this.progressService.withProgress('Start...', 'debug', async () => {\n            try {\n                // If a parent session is available saving should be handled by the parent\n                if (!options.configuration.parentSessionId && !options.configuration.suppressSaveBeforeStart && !await this.saveAll()) {\n                    return undefined;\n                }\n                await this.fireWillStartDebugSession();\n                const resolved = await this.resolveConfiguration(options);\n\n                if (!resolved || !resolved.configuration) {\n                    // As per vscode API: https://code.visualstudio.com/api/references/vscode-api#DebugConfigurationProvider\n                    // \"Returning the value 'undefined' prevents the debug session from starting.\n                    // Returning the value 'null' prevents the debug session from starting and opens the\n                    // underlying debug configuration instead.\"\n\n                    // eslint-disable-next-line no-null/no-null\n                    if (resolved === null) {\n                        this.debugConfigurationManager.openConfiguration();\n                    }\n                    return undefined;\n                }\n\n                const sessionConfigurationLabel = this.sessionConfigurationLabelProvider.getLabel(resolved);\n                if (options?.startedByUser\n                    && options.configuration.suppressMultipleSessionWarning !== true\n                    && this.sessions.some(s => this.sessionConfigurationLabelProvider.getLabel(s.options) === sessionConfigurationLabel)\n                ) {\n                    const yes = await new ConfirmDialog({\n                        title: DebugWidget.LABEL,\n                        msg: nls.localizeByDefault(\"'{0}' is already running. Do you want to start another instance?\", sessionConfigurationLabel)\n                    }).open();\n                    if (!yes) {\n                        return undefined;\n                    }\n                }\n\n                // preLaunchTask isn't run in case of auto restart as well as postDebugTask\n                if (!options.configuration.__restart) {\n                    const taskRun = await this.runTask(options.workspaceFolderUri, resolved.configuration.preLaunchTask, true);\n                    if (!taskRun) {\n                        return undefined;\n                    }\n                }\n\n                const sessionId = await this.debug.createDebugSession(resolved.configuration, options.workspaceFolderUri);\n                return this.doStart(sessionId, resolved);\n            } catch (e) {\n                if (DebugError.NotFound.is(e)) {\n                    this.messageService.error(`The debug session type \"${e.data.type}\" is not supported.`);\n                    return undefined;\n                }\n\n                this.messageService.error('There was an error starting the debug session, check the logs for more details.');\n                console.error('Error starting the debug session', e);\n                throw e;\n            }\n        });\n    }\n\n    protected async startCompound(options: DebugCompoundSessionOptions): Promise<boolean | undefined> {\n        let configurations: DebugConfigurationSessionOptions[] = [];\n        const compoundRoot = options.compound.stopAll ? new DebugCompoundRoot() : undefined;\n        try {\n            configurations = this.getCompoundConfigurations(options, compoundRoot);\n        } catch (error) {\n            this.messageService.error(error.message);\n            return;\n        }\n\n        if (options.compound.preLaunchTask) {\n            const taskRun = await this.runTask(options.workspaceFolderUri, options.compound.preLaunchTask, true);\n            if (!taskRun) {\n                return undefined;\n            }\n        }\n\n        // Compound launch is a success only if each configuration launched successfully\n        const values = await Promise.all(configurations.map(async configuration => {\n            const newSession = await this.startConfiguration(configuration);\n            if (newSession) {\n                compoundRoot?.onDidSessionStop(() => newSession.stop(false, () => this.debug.terminateDebugSession(newSession.id)));\n            }\n            return newSession;\n        }));\n        const result = values.every(success => !!success);\n        return result;\n    }\n\n    protected getCompoundConfigurations(options: DebugCompoundSessionOptions, compoundRoot: DebugCompoundRoot | undefined): DebugConfigurationSessionOptions[] {\n        const compound = options.compound;\n        if (!compound.configurations) {\n            throw new Error(nls.localizeByDefault('Compound must have \"configurations\" attribute set in order to start multiple configurations.'));\n        }\n\n        const configurations: DebugConfigurationSessionOptions[] = [];\n\n        for (const configData of compound.configurations) {\n            const name = typeof configData === 'string' ? configData : configData.name;\n            if (name === compound.name) {\n                throw new Error(nls.localize('theia/debug/compound-cycle', \"Launch configuration '{0}' contains a cycle with itself\", name));\n            }\n\n            const workspaceFolderUri = typeof configData === 'string' ? options.workspaceFolderUri : configData.folder;\n            const matchingOptions = [...this.debugConfigurationManager.all]\n                .filter(option => option.name === name && !!option.configuration && option.workspaceFolderUri === workspaceFolderUri);\n            if (matchingOptions.length === 1) {\n                const match = matchingOptions[0];\n                if (DebugSessionOptions.isConfiguration(match)) {\n                    configurations.push({ ...match, compoundRoot, configuration: { ...match.configuration, noDebug: options.noDebug } });\n                } else {\n                    throw new Error(nls.localizeByDefault(\"Could not find launch configuration '{0}' in the workspace.\", name));\n                }\n            } else {\n                throw new Error(matchingOptions.length === 0\n                    ? workspaceFolderUri\n                        ? nls.localizeByDefault(\"Can not find folder with name '{0}' for configuration '{1}' in compound '{2}'.\", workspaceFolderUri, name, compound.name)\n                        : nls.localizeByDefault(\"Could not find launch configuration '{0}' in the workspace.\", name)\n                    : nls.localizeByDefault(\"There are multiple launch configurations '{0}' in the workspace. Use folder name to qualify the configuration.\", name));\n            }\n        }\n        return configurations;\n    }\n\n    protected async fireWillStartDebugSession(): Promise<void> {\n        await WaitUntilEvent.fire(this.onWillStartDebugSessionEmitter, {});\n    }\n\n    protected configurationIds = new Map<string, number>();\n    protected async resolveConfiguration(\n        options: Readonly<DebugConfigurationSessionOptions>\n    ): Promise<InternalDebugSessionOptions | undefined | null> {\n        if (InternalDebugSessionOptions.is(options)) {\n            return options;\n        }\n        const { workspaceFolderUri } = options;\n        let configuration = await this.resolveDebugConfiguration(options.configuration, workspaceFolderUri);\n\n        if (configuration) {\n            // Resolve command variables provided by the debugger\n            const commandIdVariables = await this.debug.provideDebuggerVariables(configuration.type);\n            configuration = await this.variableResolver.resolve(configuration, {\n                context: options.workspaceFolderUri ? new URI(options.workspaceFolderUri) : undefined,\n                configurationSection: 'launch',\n                commandIdVariables,\n                configuration\n            });\n\n            if (configuration) {\n                configuration = await this.resolveDebugConfigurationWithSubstitutedVariables(\n                    configuration,\n                    workspaceFolderUri\n                );\n            }\n        }\n\n        if (!configuration) {\n            return configuration;\n        }\n\n        const key = configuration.name + workspaceFolderUri;\n        const id = this.configurationIds.has(key) ? this.configurationIds.get(key)! + 1 : 0;\n        this.configurationIds.set(key, id);\n\n        return {\n            id,\n            ...options,\n            name: configuration.name,\n            configuration\n        };\n    }\n\n    protected async resolveDebugConfiguration(\n        configuration: DebugConfiguration,\n        workspaceFolderUri: string | undefined\n    ): Promise<DebugConfiguration | undefined | null> {\n        await this.fireWillResolveDebugConfiguration(configuration.type);\n        return this.debug.resolveDebugConfiguration(configuration, workspaceFolderUri);\n    }\n\n    protected async fireWillResolveDebugConfiguration(debugType: string): Promise<void> {\n        await WaitUntilEvent.fire(this.onWillResolveDebugConfigurationEmitter, { debugType });\n    }\n\n    protected async resolveDebugConfigurationWithSubstitutedVariables(\n        configuration: DebugConfiguration,\n        workspaceFolderUri: string | undefined\n    ): Promise<DebugConfiguration | undefined | null> {\n        return this.debug.resolveDebugConfigurationWithSubstitutedVariables(configuration, workspaceFolderUri);\n    }\n\n    protected async doStart(sessionId: string, options: DebugConfigurationSessionOptions): Promise<DebugSession> {\n        const parentSession = options.configuration.parentSessionId ? this._sessions.get(options.configuration.parentSessionId) : undefined;\n        const contrib = this.sessionContributionRegistry.get(options.configuration.type);\n        const sessionFactory = contrib ? contrib.debugSessionFactory() : this.debugSessionFactory;\n        const session = sessionFactory.get(this, sessionId, options, parentSession);\n        this._sessions.set(sessionId, session);\n\n        this.debugTypeKey.set(session.configuration.type);\n        this.onDidCreateDebugSessionEmitter.fire(session);\n\n        let state = DebugState.Inactive;\n        session.onDidChange(() => {\n            if (state !== session.state) {\n                state = session.state;\n                if (state === DebugState.Stopped) {\n                    this.onDidStopDebugSessionEmitter.fire(session);\n                }\n            }\n            this.updateCurrentSession(session);\n        });\n        session.onDidChangeBreakpoints(uri => this.fireDidChangeBreakpoints({ session, uri }));\n        session.on('terminated', async event => {\n            const restart = event.body && event.body.restart;\n            if (restart) {\n                // postDebugTask isn't run in case of auto restart as well as preLaunchTask\n                this.doRestart(session, !!restart);\n            } else {\n                await session.disconnect(false, () => this.debug.terminateDebugSession(session.id));\n                await this.runTask(session.options.workspaceFolderUri, session.configuration.postDebugTask);\n            }\n        });\n\n        session.on('exited', async event => {\n            await session.disconnect(false, () => this.debug.terminateDebugSession(session.id));\n        });\n\n        session.onDispose(() => this.cleanup(session));\n        session.start().then(() => this.onDidStartDebugSessionEmitter.fire(session)).catch(e => {\n            session.stop(false, () => {\n                this.debug.terminateDebugSession(session.id);\n            });\n        });\n        session.onDidCustomEvent(({ event, body }) =>\n            this.onDidReceiveDebugSessionCustomEventEmitter.fire({ event, body, session })\n        );\n        return session;\n    }\n\n    protected cleanup(session: DebugSession): void {\n        if (this.remove(session.id)) {\n            this.onDidDestroyDebugSessionEmitter.fire(session);\n        }\n    }\n\n    protected async doRestart(session: DebugSession, isRestart: boolean): Promise<DebugSession | undefined> {\n        if (session.canRestart()) {\n            await session.restart();\n            return session;\n        }\n\n        const { options, configuration } = session;\n        session.stop(isRestart, () => this.debug.terminateDebugSession(session.id));\n        configuration.__restart = isRestart;\n        return this.start(options);\n    }\n\n    async terminateSession(session?: DebugSession): Promise<void> {\n        if (!session) {\n            this.updateCurrentSession(this._currentSession);\n            session = this._currentSession;\n        }\n        if (session) {\n            if (session.options.compoundRoot) {\n                session.options.compoundRoot.stopSession();\n            } else if (session.parentSession && session.configuration.lifecycleManagedByParent) {\n                this.terminateSession(session.parentSession);\n            } else {\n                session.stop(false, () => this.debug.terminateDebugSession(session!.id));\n            }\n        }\n    }\n\n    async restartSession(session?: DebugSession): Promise<DebugSession | undefined> {\n        if (!session) {\n            this.updateCurrentSession(this._currentSession);\n            session = this._currentSession;\n        }\n\n        if (session) {\n            if (session.parentSession && session.configuration.lifecycleManagedByParent) {\n                return this.restartSession(session.parentSession);\n            } else {\n                return this.doRestart(session, true);\n            }\n        }\n    }\n\n    protected remove(sessionId: string): boolean {\n        const existed = this._sessions.delete(sessionId);\n        const { currentSession } = this;\n        if (currentSession && currentSession.id === sessionId) {\n            this.updateCurrentSession(undefined);\n        }\n        return existed;\n    }\n\n    getSession(sessionId: string): DebugSession | undefined {\n        return this._sessions.get(sessionId);\n    }\n\n    get sessions(): DebugSession[] {\n        return Array.from(this._sessions.values()).filter(session => session.state > DebugState.Inactive);\n    }\n\n    protected _currentSession: DebugSession | undefined;\n    protected readonly disposeOnCurrentSessionChanged = new DisposableCollection();\n    get currentSession(): DebugSession | undefined {\n        return this._currentSession;\n    }\n    set currentSession(current: DebugSession | undefined) {\n        if (this._currentSession === current) {\n            return;\n        }\n        this.disposeOnCurrentSessionChanged.dispose();\n        const previous = this.currentSession;\n        this._currentSession = current;\n        this.onDidChangeActiveDebugSessionEmitter.fire({ previous, current });\n        if (current) {\n            this.disposeOnCurrentSessionChanged.push(current.onDidChange(() => {\n                if (this.currentFrame === this.topFrame) {\n                    this.open();\n                }\n                this.fireDidChange(current);\n            }));\n            this.disposeOnCurrentSessionChanged.push(current.onDidFocusStackFrame(frame => this.onDidFocusStackFrameEmitter.fire(frame)));\n            this.disposeOnCurrentSessionChanged.push(current.onDidFocusThread(thread => this.onDidFocusThreadEmitter.fire(thread)));\n            const { currentThread } = current;\n            this.onDidFocusThreadEmitter.fire(currentThread);\n        }\n        this.updateBreakpoints(previous, current);\n        this.open();\n        this.fireDidChange(current);\n    }\n    open(): void {\n        const { currentFrame } = this;\n        if (currentFrame && currentFrame.thread.stopped) {\n            currentFrame.open();\n        }\n    }\n    protected updateBreakpoints(previous: DebugSession | undefined, current: DebugSession | undefined): void {\n        const affectedUri = new Set();\n        for (const session of [previous, current]) {\n            if (session) {\n                for (const uriString of session.breakpointUris) {\n                    if (!affectedUri.has(uriString)) {\n                        affectedUri.add(uriString);\n                        this.fireDidChangeBreakpoints({\n                            session: current,\n                            uri: new URI(uriString)\n                        });\n                    }\n                }\n            }\n        }\n    }\n    protected updateCurrentSession(session: DebugSession | undefined): void {\n        this.currentSession = session || this.sessions[0];\n    }\n\n    get currentThread(): DebugThread | undefined {\n        const session = this.currentSession;\n        return session && session.currentThread;\n    }\n\n    get state(): DebugState {\n        const session = this.currentSession;\n        return session ? session.state : DebugState.Inactive;\n    }\n\n    get currentFrame(): DebugStackFrame | undefined {\n        const { currentThread } = this;\n        return currentThread && currentThread.currentFrame;\n    }\n    get topFrame(): DebugStackFrame | undefined {\n        const { currentThread } = this;\n        return currentThread && currentThread.topFrame;\n    }\n\n    getFunctionBreakpoints(session: DebugSession | undefined = this.currentSession): DebugFunctionBreakpoint[] {\n        if (session && session.state > DebugState.Initializing) {\n            return session.getFunctionBreakpoints();\n        }\n        const { labelProvider, breakpoints, editorManager } = this;\n        return this.breakpoints.getFunctionBreakpoints().map(origin => new DebugFunctionBreakpoint(origin, { labelProvider, breakpoints, editorManager }));\n    }\n\n    getInstructionBreakpoints(session = this.currentSession): DebugInstructionBreakpoint[] {\n        if (session && session.state > DebugState.Initializing) {\n            return session.getInstructionBreakpoints();\n        }\n        const { labelProvider, breakpoints, editorManager } = this;\n        return this.breakpoints.getInstructionBreakpoints().map(origin => new DebugInstructionBreakpoint(origin, { labelProvider, breakpoints, editorManager }));\n    }\n\n    getBreakpoints(session?: DebugSession): DebugSourceBreakpoint[];\n    getBreakpoints(uri: URI, session?: DebugSession): DebugSourceBreakpoint[];\n    getBreakpoints(arg?: URI | DebugSession, arg2?: DebugSession): DebugSourceBreakpoint[] {\n        const uri = arg instanceof URI ? arg : undefined;\n        const session = arg instanceof DebugSession ? arg : arg2 instanceof DebugSession ? arg2 : this.currentSession;\n        if (session && session.state > DebugState.Initializing) {\n            return session.getSourceBreakpoints(uri);\n        }\n        const { labelProvider, breakpoints, editorManager } = this;\n        return this.breakpoints.findMarkers({ uri }).map(({ data }) => new DebugSourceBreakpoint(data, { labelProvider, breakpoints, editorManager }));\n    }\n\n    getLineBreakpoints(uri: URI, line: number): DebugSourceBreakpoint[] {\n        const session = this.currentSession;\n        if (session && session.state > DebugState.Initializing) {\n            return session.getSourceBreakpoints(uri).filter(breakpoint => breakpoint.line === line);\n        }\n        const { labelProvider, breakpoints, editorManager } = this;\n        return this.breakpoints.getLineBreakpoints(uri, line).map(origin =>\n            new DebugSourceBreakpoint(origin, { labelProvider, breakpoints, editorManager })\n        );\n    }\n\n    getInlineBreakpoint(uri: URI, line: number, column: number): DebugSourceBreakpoint | undefined {\n        const session = this.currentSession;\n        if (session && session.state > DebugState.Initializing) {\n            return session.getSourceBreakpoints(uri).filter(breakpoint => breakpoint.line === line && breakpoint.column === column)[0];\n        }\n        const origin = this.breakpoints.getInlineBreakpoint(uri, line, column);\n        const { labelProvider, breakpoints, editorManager } = this;\n        return origin && new DebugSourceBreakpoint(origin, { labelProvider, breakpoints, editorManager });\n    }\n\n    /**\n     * Runs the given tasks.\n     * @param taskName the task name to run, see [TaskNameResolver](#TaskNameResolver)\n     * @return true if it allowed to continue debugging otherwise it returns false\n     */\n    protected async runTask(workspaceFolderUri: string | undefined, taskName: string | TaskIdentifier | undefined, checkErrors?: boolean): Promise<boolean> {\n        if (!taskName) {\n            return true;\n        }\n\n        const taskInfo = await this.taskService.runWorkspaceTask(this.taskService.startUserAction(), workspaceFolderUri, taskName);\n        if (!checkErrors) {\n            return true;\n        }\n\n        if (!taskInfo) {\n            return this.doPostTaskAction(`Could not run the task '${taskName}'.`);\n        }\n\n        const getExitCodePromise: Promise<TaskEndedInfo> = this.taskService.getExitCode(taskInfo.taskId).then(result =>\n            ({ taskEndedType: TaskEndedTypes.TaskExited, value: result }));\n        const isBackgroundTaskEndedPromise: Promise<TaskEndedInfo> = this.taskService.isBackgroundTaskEnded(taskInfo.taskId).then(result =>\n            ({ taskEndedType: TaskEndedTypes.BackgroundTaskEnded, value: result }));\n\n        // After start running the task, we wait for the task process to exit and if it is a background task, we also wait for a feedback\n        // that a background task is active, as soon as one of the promises fulfills, we can continue and analyze the results.\n        const taskEndedInfo: TaskEndedInfo = await Promise.race([getExitCodePromise, isBackgroundTaskEndedPromise]);\n\n        if (taskEndedInfo.taskEndedType === TaskEndedTypes.BackgroundTaskEnded && taskEndedInfo.value) {\n            return true;\n        }\n        if (taskEndedInfo.taskEndedType === TaskEndedTypes.TaskExited && taskEndedInfo.value === 0) {\n            return true;\n        } else if (taskEndedInfo.taskEndedType === TaskEndedTypes.TaskExited && taskEndedInfo.value !== undefined) {\n            return this.doPostTaskAction(`Task '${taskName}' terminated with exit code ${taskEndedInfo.value}.`);\n        } else {\n            const signal = await this.taskService.getTerminateSignal(taskInfo.taskId);\n            if (signal !== undefined) {\n                return this.doPostTaskAction(`Task '${taskName}' terminated by signal ${signal}.`);\n            } else {\n                return this.doPostTaskAction(`Task '${taskName}' terminated for unknown reason.`);\n            }\n        }\n    }\n\n    protected async doPostTaskAction(errorMessage: string): Promise<boolean> {\n        const actions = ['Open launch.json', 'Cancel', 'Configure Task', 'Debug Anyway'];\n        const result = await this.messageService.error(errorMessage, ...actions);\n        switch (result) {\n            case actions[0]: // open launch.json\n                this.debugConfigurationManager.openConfiguration();\n                return false;\n            case actions[1]: // cancel\n                return false;\n            case actions[2]: // configure tasks\n                this.quickOpenTask.configure();\n                return false;\n            default: // continue debugging\n                return true;\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Emitter } from '@theia/core';\nimport { DebugConfiguration } from '../common/debug-common';\nimport { DebugCompound } from '../common/debug-compound';\n\nexport class DebugCompoundRoot {\n    private stopped = false;\n    private stopEmitter = new Emitter<void>();\n    onDidSessionStop = this.stopEmitter.event;\n\n    stopSession(): void {\n        if (!this.stopped) { // avoid sending extraneous terminate events\n            this.stopped = true;\n            this.stopEmitter.fire();\n        }\n    }\n}\n\nexport interface TestRunReference {\n    controllerId: string;\n    runId: string;\n}\n\nexport interface DebugSessionOptionsBase {\n    workspaceFolderUri?: string;\n    testRun?: TestRunReference;\n    startedByUser?: boolean;\n}\n\nexport interface DebugConfigurationSessionOptions extends DebugSessionOptionsBase {\n    name: string; // derived from the configuration\n    configuration: DebugConfiguration;\n    compound?: never;\n    compoundRoot?: DebugCompoundRoot;\n    providerType?: string; // Applicable to dynamic configurations\n}\n\nexport type DynamicDebugConfigurationSessionOptions = DebugConfigurationSessionOptions & { providerType: string };\n\nexport interface DebugCompoundSessionOptions extends DebugSessionOptionsBase {\n    name: string; // derived from the compound\n    configuration?: never;\n    compound: DebugCompound;\n    noDebug?: boolean;\n}\n\nexport type DebugSessionOptions = DebugConfigurationSessionOptions | DebugCompoundSessionOptions;\n\nexport namespace DebugSessionOptions {\n    export function isConfiguration(options?: DebugSessionOptions): options is DebugConfigurationSessionOptions {\n        return !!options && 'configuration' in options && !!options.configuration;\n    }\n\n    export function isDynamic(options?: DebugSessionOptions): options is DynamicDebugConfigurationSessionOptions {\n        return isConfiguration(options) && 'providerType' in options && !!options.providerType;\n    }\n\n    export function isCompound(options?: DebugSessionOptions): options is DebugCompoundSessionOptions {\n        return !!options && 'compound' in options && !!options.compound;\n    }\n}\n\n/**\n * Flat and partial version of a debug session options usable to find the options later in the manager.\n * @deprecated Not needed anymore, the recommended way is to serialize/deserialize the options directly using `JSON.stringify` and `JSON.parse`.\n */\nexport type DebugSessionOptionsData = DebugSessionOptionsBase & (DebugConfiguration | DebugCompound);\n\nexport type InternalDebugSessionOptions = DebugSessionOptions & { id: number };\n\nexport namespace InternalDebugSessionOptions {\n\n    const SEPARATOR = '__CONF__';\n    const SEPARATOR_CONFIGS = '__COMP__';\n\n    export function is(options: DebugSessionOptions): options is InternalDebugSessionOptions {\n        return 'id' in options;\n    }\n\n    /** @deprecated Please use `JSON.stringify` to serialize the options. */\n    export function toValue(options: DebugSessionOptions): string {\n        if (DebugSessionOptions.isCompound(options)) {\n            return options.compound.name + SEPARATOR +\n                options.workspaceFolderUri + SEPARATOR +\n                options.compound?.configurations.join(SEPARATOR_CONFIGS);\n        }\n        return options.configuration.name + SEPARATOR +\n            options.configuration.type + SEPARATOR +\n            options.configuration.request + SEPARATOR +\n            options.workspaceFolderUri + SEPARATOR +\n            options.providerType;\n    }\n\n    /** @deprecated Please use `JSON.parse` to restore previously serialized debug session options. */\n    // eslint-disable-next-line deprecation/deprecation\n    export function parseValue(value: string): DebugSessionOptionsData {\n        const split = value.split(SEPARATOR);\n        if (split.length === 5) {\n            return { name: split[0], type: split[1], request: split[2], workspaceFolderUri: split[3], providerType: split[4] };\n        }\n        if (split.length === 3) {\n            return { name: split[0], workspaceFolderUri: split[1], configurations: split[2].split(SEPARATOR_CONFIGS) };\n        }\n        throw new Error('Unexpected argument, the argument is expected to have been generated by the \\'toValue\\' function');\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport * as React from '@theia/core/shared/react';\nimport { LabelProvider } from '@theia/core/lib/browser';\nimport { DebugProtocol } from '@vscode/debugprotocol';\nimport { Emitter, Event, DisposableCollection, Disposable, MessageClient, MessageType, Mutable, ContributionProvider } from '@theia/core/lib/common';\nimport { TerminalService } from '@theia/terminal/lib/browser/base/terminal-service';\nimport { EditorManager } from '@theia/editor/lib/browser';\nimport { CompositeTreeElement } from '@theia/core/lib/browser/source-tree';\nimport { DebugSessionConnection, DebugRequestTypes, DebugEventTypes } from './debug-session-connection';\nimport { DebugThread, StoppedDetails, DebugThreadData } from './model/debug-thread';\nimport { DebugScope } from './console/debug-console-items';\nimport { DebugStackFrame } from './model/debug-stack-frame';\nimport { DebugSource } from './model/debug-source';\nimport { DebugBreakpoint, DebugBreakpointOptions } from './model/debug-breakpoint';\nimport { DebugSourceBreakpoint } from './model/debug-source-breakpoint';\nimport debounce = require('p-debounce');\nimport URI from '@theia/core/lib/common/uri';\nimport { BreakpointManager } from './breakpoint/breakpoint-manager';\nimport { DebugConfigurationSessionOptions, InternalDebugSessionOptions, TestRunReference } from './debug-session-options';\nimport { DebugConfiguration, DebugConsoleMode } from '../common/debug-common';\nimport { SourceBreakpoint, ExceptionBreakpoint } from './breakpoint/breakpoint-marker';\nimport { TerminalWidgetOptions, TerminalWidget } from '@theia/terminal/lib/browser/base/terminal-widget';\nimport { DebugFunctionBreakpoint } from './model/debug-function-breakpoint';\nimport { FileService } from '@theia/filesystem/lib/browser/file-service';\nimport { DebugContribution } from './debug-contribution';\nimport { Deferred, waitForEvent } from '@theia/core/lib/common/promise-util';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport { DebugInstructionBreakpoint } from './model/debug-instruction-breakpoint';\nimport { nls } from '@theia/core';\nimport { TestService, TestServices } from '@theia/test/lib/browser/test-service';\nimport { DebugSessionManager } from './debug-session-manager';\n\nexport enum DebugState {\n    Inactive,\n    Initializing,\n    Running,\n    Stopped\n}\n/**\n * The mapped string values must not change as they are used for the `debugState` when context closure.\n * For more details see the `Debugger contexts` section of the [official doc](https://code.visualstudio.com/api/references/when-clause-contexts#available-contexts).\n */\nexport function debugStateContextValue(state: DebugState): string {\n    switch (state) {\n        case DebugState.Initializing: return 'initializing';\n        case DebugState.Stopped: return 'stopped';\n        case DebugState.Running: return 'running';\n        default: return 'inactive';\n    }\n}\n\n// FIXME: make injectable to allow easily inject services\nexport class DebugSession implements CompositeTreeElement {\n    protected readonly deferredOnDidConfigureCapabilities = new Deferred<void>();\n\n    protected readonly onDidChangeEmitter = new Emitter<void>();\n    readonly onDidChange: Event<void> = this.onDidChangeEmitter.event;\n    protected fireDidChange(): void {\n        this.onDidChangeEmitter.fire(undefined);\n    }\n    protected readonly onDidFocusStackFrameEmitter = new Emitter<DebugStackFrame | undefined>();\n    get onDidFocusStackFrame(): Event<DebugStackFrame | undefined> {\n        return this.onDidFocusStackFrameEmitter.event;\n    }\n\n    protected readonly onDidFocusThreadEmitter = new Emitter<DebugThread | undefined>();\n    get onDidFocusThread(): Event<DebugThread | undefined> {\n        return this.onDidFocusThreadEmitter.event;\n    }\n\n    protected readonly onDidChangeBreakpointsEmitter = new Emitter<URI>();\n    readonly onDidChangeBreakpoints: Event<URI> = this.onDidChangeBreakpointsEmitter.event;\n    protected fireDidChangeBreakpoints(uri: URI): void {\n        this.onDidChangeBreakpointsEmitter.fire(uri);\n    }\n\n    protected readonly childSessions = new Map<string, DebugSession>();\n    protected readonly toDispose = new DisposableCollection();\n\n    protected isStopping: boolean = false;\n\n    constructor(\n        readonly id: string,\n        readonly options: DebugConfigurationSessionOptions,\n        readonly parentSession: DebugSession | undefined,\n        testService: TestService,\n        testRun: TestRunReference | undefined,\n        sessionManager: DebugSessionManager,\n        protected readonly connection: DebugSessionConnection,\n        protected readonly terminalServer: TerminalService,\n        protected readonly editorManager: EditorManager,\n        protected readonly breakpoints: BreakpointManager,\n        protected readonly labelProvider: LabelProvider,\n        protected readonly messages: MessageClient,\n        protected readonly fileService: FileService,\n        protected readonly debugContributionProvider: ContributionProvider<DebugContribution>,\n        protected readonly workspaceService: WorkspaceService,\n        /**\n         * Number of millis after a `stop` request times out. It's 5 seconds by default.\n         */\n        protected readonly stopTimeout = 5_000,\n    ) {\n        this.connection.onRequest('runInTerminal', (request: DebugProtocol.RunInTerminalRequest) => this.runInTerminal(request));\n        this.connection.onDidClose(() => {\n            this.toDispose.dispose();\n        });\n        this.registerDebugContributions(options.configuration.type, this.connection);\n\n        if (parentSession) {\n            parentSession.childSessions.set(id, this);\n            this.toDispose.push(Disposable.create(() => {\n                this.parentSession?.childSessions?.delete(id);\n            }));\n        }\n        if (testRun) {\n            try {\n                const run = TestServices.withTestRun(testService, testRun.controllerId, testRun.runId);\n                run.onDidChangeProperty(evt => {\n                    if (evt.isRunning === false) {\n                        sessionManager.terminateSession(this);\n                    }\n                });\n            } catch (err) {\n                console.error(err);\n            }\n        }\n\n        this.connection.onDidClose(() => this.toDispose.dispose());\n        this.toDispose.pushAll([\n            this.onDidChangeEmitter,\n            this.onDidChangeBreakpointsEmitter,\n            Disposable.create(() => {\n                this.clearBreakpoints();\n                this.doUpdateThreads([]);\n            }),\n            this.connection,\n            this.connection.on('initialized', () => this.configure()),\n            this.connection.on('breakpoint', ({ body }) => this.updateBreakpoint(body)),\n            this.connection.on('continued', e => this.handleContinued(e)),\n            this.connection.on('stopped', e => this.handleStopped(e)),\n            this.connection.on('thread', e => this.handleThread(e)),\n            this.connection.on('capabilities', event => this.updateCapabilities(event.body.capabilities)),\n            this.breakpoints.onDidChangeMarkers(uri => this.updateBreakpoints({ uri, sourceModified: true }))\n        ]);\n    }\n\n    get onDispose(): Event<void> {\n        return this.toDispose.onDispose;\n    }\n\n    get configuration(): DebugConfiguration {\n        return this.options.configuration;\n    }\n\n    protected _capabilities: DebugProtocol.Capabilities = {};\n    get capabilities(): DebugProtocol.Capabilities {\n        return this._capabilities;\n    }\n\n    protected readonly sources = new Map<string, DebugSource>();\n    getSource(raw: DebugProtocol.Source): DebugSource {\n        const uri = DebugSource.toUri(raw).toString();\n        const source = this.sources.get(uri) || new DebugSource(this, this.editorManager, this.labelProvider);\n        source.update({ raw });\n        this.sources.set(uri, source);\n        return source;\n    }\n\n    getSourceForUri(uri: URI): DebugSource | undefined {\n        return this.sources.get(uri.toString());\n    }\n\n    async toSource(uri: URI): Promise<DebugSource> {\n        const source = this.getSourceForUri(uri);\n        if (source) {\n            return source;\n        }\n\n        return this.getSource(await this.toDebugSource(uri));\n    }\n\n    async toDebugSource(uri: URI): Promise<DebugProtocol.Source> {\n        if (uri.scheme === DebugSource.SCHEME) {\n            return {\n                name: uri.path.toString(),\n                sourceReference: Number(uri.query)\n            };\n        }\n        const name = uri.displayName;\n        let path;\n        const underlying = await this.fileService.toUnderlyingResource(uri);\n        if (underlying.scheme === 'file') {\n            path = await this.fileService.fsPath(underlying);\n        } else {\n            path = uri.toString();\n        }\n        return { name, path };\n    }\n\n    protected _threads = new Map<number, DebugThread>();\n    get threads(): IterableIterator<DebugThread> {\n        return this._threads.values();\n    }\n\n    get threadCount(): number {\n        return this._threads.size;\n    }\n\n    *getThreads(filter: (thread: DebugThread) => boolean): IterableIterator<DebugThread> {\n        for (const thread of this.threads) {\n            if (filter(thread)) {\n                yield thread;\n            }\n        }\n    }\n\n    get runningThreads(): IterableIterator<DebugThread> {\n        return this.getThreads(thread => !thread.stopped);\n    }\n\n    get stoppedThreads(): IterableIterator<DebugThread> {\n        return this.getThreads(thread => thread.stopped);\n    }\n\n    async pauseAll(): Promise<void> {\n        const promises: Promise<void>[] = [];\n        for (const thread of this.runningThreads) {\n            promises.push((async () => {\n                try {\n                    await thread.pause();\n                } catch (e) {\n                    console.error('pauseAll failed:', e);\n                }\n            })());\n        }\n        await Promise.all(promises);\n    }\n\n    async continueAll(): Promise<void> {\n        const promises: Promise<void>[] = [];\n        for (const thread of this.stoppedThreads) {\n            promises.push((async () => {\n                try {\n                    await thread.continue();\n                } catch (e) {\n                    console.error('continueAll failed:', e);\n                }\n            })());\n        }\n        await Promise.all(promises);\n    }\n\n    get currentFrame(): DebugStackFrame | undefined {\n        return this.currentThread && this.currentThread.currentFrame;\n    }\n\n    protected _currentThread: DebugThread | undefined;\n    protected readonly toDisposeOnCurrentThread = new DisposableCollection();\n    get currentThread(): DebugThread | undefined {\n        return this._currentThread;\n    }\n    set currentThread(thread: DebugThread | undefined) {\n        if (this._currentThread?.id === thread?.id) {\n            return;\n        }\n        this.toDisposeOnCurrentThread.dispose();\n        this._currentThread = thread;\n        this.onDidFocusThreadEmitter.fire(thread);\n        this.fireDidChange();\n        if (thread) {\n            this.toDisposeOnCurrentThread.push(thread.onDidChanged(() => this.fireDidChange()));\n            this.toDisposeOnCurrentThread.push(thread.onDidFocusStackFrame(frame => this.onDidFocusStackFrameEmitter.fire(frame)));\n\n            // If this thread is missing stack frame information, then load that.\n            this.updateFrames();\n        }\n    }\n\n    get state(): DebugState {\n        if (this.connection.disposed) {\n            return DebugState.Inactive;\n        }\n        if (!this.initialized) {\n            return DebugState.Initializing;\n        }\n        const thread = this.currentThread;\n        if (thread) {\n            return thread.stopped ? DebugState.Stopped : DebugState.Running;\n        }\n        return !!this.stoppedThreads.next().value ? DebugState.Stopped : DebugState.Running;\n    }\n\n    async getScopes(): Promise<DebugScope[]> {\n        const { currentFrame } = this;\n        return currentFrame ? currentFrame.getScopes() : [];\n    }\n\n    showMessage(messageType: MessageType, message: string): void {\n        this.messages.showMessage({\n            type: messageType,\n            text: message,\n            options: {\n                timeout: 10000\n            }\n        });\n    }\n\n    async start(): Promise<void> {\n        await this.initialize();\n        await this.launchOrAttach();\n    }\n\n    protected async initialize(): Promise<void> {\n        try {\n            const response = await this.connection.sendRequest('initialize', {\n                clientID: 'Theia',\n                clientName: 'Theia IDE',\n                adapterID: this.configuration.type,\n                locale: 'en-US',\n                linesStartAt1: true,\n                columnsStartAt1: true,\n                pathFormat: 'path',\n                supportsVariableType: false,\n                supportsVariablePaging: false,\n                supportsRunInTerminalRequest: true\n            });\n            this.updateCapabilities(response?.body || {});\n            this.didReceiveCapabilities.resolve();\n        } catch (err) {\n            this.didReceiveCapabilities.reject(err);\n            throw err;\n        }\n    }\n\n    protected async launchOrAttach(): Promise<void> {\n        try {\n            await this.sendRequest((this.configuration.request as keyof DebugRequestTypes), this.configuration);\n        } catch (reason) {\n            this.showMessage(MessageType.Error, reason.message || 'Debug session initialization failed. See console for details.');\n            throw reason;\n        }\n    }\n\n    /**\n     * The `send('initialize')` request could resolve later than `on('initialized')` emits the event.\n     * Hence, the `configure` would use the empty object `capabilities`.\n     * Using the empty `capabilities` could result in missing exception breakpoint filters, as\n     * always `capabilities.exceptionBreakpointFilters` is falsy. This deferred promise works\n     * around this timing issue. https://github.com/eclipse-theia/theia/issues/11886\n     */\n    protected didReceiveCapabilities = new Deferred<void>();\n    protected initialized = false;\n    protected async configure(): Promise<void> {\n        await this.didReceiveCapabilities.promise;\n        if (this.capabilities.exceptionBreakpointFilters) {\n            const exceptionBreakpoints = [];\n            for (const filter of this.capabilities.exceptionBreakpointFilters) {\n                const origin = this.breakpoints.getExceptionBreakpoint(filter.filter);\n                exceptionBreakpoints.push(ExceptionBreakpoint.create(filter, origin));\n            }\n            this.breakpoints.setExceptionBreakpoints(exceptionBreakpoints);\n        }\n        // mark as initialized, so updated breakpoints are shown in editor\n        this.initialized = true;\n        await this.updateBreakpoints({ sourceModified: false });\n        if (this.capabilities.supportsConfigurationDoneRequest) {\n            await this.sendRequest('configurationDone', {});\n        }\n        await this.updateThreads(undefined);\n    }\n\n    canTerminate(): boolean {\n        return !!this.capabilities.supportsTerminateRequest;\n    }\n\n    canRestart(): boolean {\n        return !!this.capabilities.supportsRestartRequest;\n    }\n\n    async restart(): Promise<void> {\n        if (this.canRestart()) {\n            await this.sendRequest('restart', {});\n        }\n    }\n\n    async stop(isRestart: boolean, callback: () => void): Promise<void> {\n        if (!this.isStopping) {\n            this.isStopping = true;\n            if (this.canTerminate()) {\n                const terminated = this.waitFor('terminated', this.stopTimeout);\n                try {\n                    await this.connection.sendRequest('terminate', { restart: isRestart }, this.stopTimeout);\n                    await terminated;\n                } catch (e) {\n                    this.handleTerminateError(e);\n                }\n            } else {\n                const terminateDebuggee = this.initialized && this.capabilities.supportTerminateDebuggee;\n                try {\n                    await this.sendRequest('disconnect', { restart: isRestart, terminateDebuggee }, this.stopTimeout);\n                } catch (e) {\n                    this.handleDisconnectError(e);\n                }\n            }\n            callback();\n        }\n    }\n\n    /**\n     * Invoked when sending the `terminate` request to the debugger is rejected or timed out.\n     */\n    protected handleTerminateError(err: unknown): void {\n        console.error('Did not receive terminated event in time', err);\n    }\n\n    /**\n     * Invoked when sending the `disconnect` request to the debugger is rejected or timed out.\n     */\n    protected handleDisconnectError(err: unknown): void {\n        console.error('Error on disconnect', err);\n    }\n\n    async disconnect(isRestart: boolean, callback: () => void): Promise<void> {\n        if (!this.isStopping) {\n            this.isStopping = true;\n            await this.sendRequest('disconnect', { restart: isRestart });\n            callback();\n        }\n    }\n\n    async completions(text: string, column: number, line: number): Promise<DebugProtocol.CompletionItem[]> {\n        const frameId = this.currentFrame && this.currentFrame.raw.id;\n        const response = await this.sendRequest('completions', { frameId, text, column, line });\n        return response.body.targets;\n    }\n\n    async evaluate(expression: string, context?: string): Promise<DebugProtocol.EvaluateResponse['body']> {\n        const frameId = this.currentFrame && this.currentFrame.raw.id;\n        const response = await this.sendRequest('evaluate', { expression, frameId, context });\n        return response.body;\n    }\n\n    sendRequest<K extends keyof DebugRequestTypes>(command: K, args: DebugRequestTypes[K][0], timeout?: number): Promise<DebugRequestTypes[K][1]> {\n        return this.connection.sendRequest(command, args, timeout);\n    }\n\n    sendCustomRequest<T extends DebugProtocol.Response>(command: string, args?: any): Promise<T> {\n        return this.connection.sendCustomRequest(command, args);\n    }\n\n    on<K extends keyof DebugEventTypes>(kind: K, listener: (e: DebugEventTypes[K]) => any): Disposable {\n        return this.connection.on(kind, listener);\n    }\n\n    waitFor<K extends keyof DebugEventTypes>(kind: K, ms: number): Promise<void> {\n        return waitForEvent(this.connection.onEvent(kind), ms).then();\n    }\n\n    get onDidCustomEvent(): Event<DebugProtocol.Event> {\n        return this.connection.onDidCustomEvent;\n    }\n\n    protected async runInTerminal({ arguments: { title, cwd, args, env } }: DebugProtocol.RunInTerminalRequest): Promise<DebugProtocol.RunInTerminalResponse['body']> {\n        const terminal = await this.doCreateTerminal({ title, cwd, env, useServerTitle: false });\n        const { processId } = terminal;\n        await terminal.executeCommand({ cwd, args, env });\n        return { processId: await processId };\n    }\n\n    protected async doCreateTerminal(options: TerminalWidgetOptions): Promise<TerminalWidget> {\n        let terminal = undefined;\n        for (const t of this.terminalServer.all) {\n            if ((t.title.label === options.title || t.title.caption === options.title) && (await t.hasChildProcesses()) === false) {\n                terminal = t;\n                break;\n            }\n        }\n\n        if (!terminal) {\n            terminal = await this.terminalServer.newTerminal(options);\n            await terminal.start();\n        }\n        this.terminalServer.open(terminal);\n        return terminal;\n    }\n\n    protected clearThreads(): void {\n        for (const thread of this.threads) {\n            thread.clear();\n        }\n        this.updateCurrentThread();\n    }\n\n    protected clearThread(threadId: number): void {\n        const thread = this._threads.get(threadId);\n        if (thread) {\n            thread.clear();\n        }\n        this.updateCurrentThread();\n    }\n\n    protected readonly scheduleUpdateThreads = debounce(() => this.updateThreads(undefined), 100);\n    protected pendingThreads = Promise.resolve();\n\n    updateThreads(stoppedDetails: StoppedDetails | undefined): Promise<void> {\n        return this.pendingThreads = this.pendingThreads.then(async () => {\n            try {\n                const response = await this.sendRequest('threads', {});\n                // java debugger returns an empty body sometimes\n                const threads = response && response.body && response.body.threads || [];\n                this.doUpdateThreads(threads, stoppedDetails);\n            } catch (e) {\n                console.error('updateThreads failed:', e);\n            }\n        });\n    }\n\n    protected doUpdateThreads(threads: DebugProtocol.Thread[], stoppedDetails?: StoppedDetails): void {\n        const existing = this._threads;\n        this._threads = new Map();\n        for (const raw of threads) {\n            const id = raw.id;\n            const thread = existing.get(id) || new DebugThread(this);\n            this._threads.set(id, thread);\n            const data: Partial<Mutable<DebugThreadData>> = { raw };\n            if (stoppedDetails) {\n                if (stoppedDetails.threadId === id) {\n                    data.stoppedDetails = stoppedDetails;\n                } else if (stoppedDetails.allThreadsStopped) {\n                    data.stoppedDetails = {\n                        // When a debug adapter notifies us that all threads are stopped,\n                        // we do not know why the others are stopped, so we should default\n                        // to something generic.\n                        reason: '',\n                    };\n                }\n            }\n            thread.update(data);\n        }\n        this.updateCurrentThread(stoppedDetails);\n    }\n\n    protected updateCurrentThread(stoppedDetails?: StoppedDetails): void {\n        const { currentThread } = this;\n        let threadId = currentThread && currentThread.raw.id;\n        if (stoppedDetails && !stoppedDetails.preserveFocusHint && !!stoppedDetails.threadId) {\n            threadId = stoppedDetails.threadId;\n        }\n        this.currentThread = typeof threadId === 'number' && this._threads.get(threadId)\n            || this._threads.values().next().value;\n    }\n\n    protected async updateFrames(): Promise<void> {\n        const thread = this._currentThread;\n        if (!thread || thread.pendingFrameCount || thread.frameCount) {\n            return;\n        }\n        if (this.capabilities.supportsDelayedStackTraceLoading) {\n            await thread.fetchFrames(1);\n            await thread.fetchFrames(19);\n        } else {\n            await thread.fetchFrames();\n        }\n    }\n\n    protected updateCapabilities(capabilities: DebugProtocol.Capabilities): void {\n        Object.assign(this._capabilities, capabilities);\n        this.deferredOnDidConfigureCapabilities.resolve();\n    }\n\n    protected readonly _breakpoints = new Map<string, DebugBreakpoint[]>();\n    get breakpointUris(): IterableIterator<string> {\n        return this._breakpoints.keys();\n    }\n\n    getSourceBreakpoints(uri?: URI): DebugSourceBreakpoint[] {\n        const breakpoints = [];\n        for (const breakpoint of this.getBreakpoints(uri)) {\n            if (breakpoint instanceof DebugSourceBreakpoint) {\n                breakpoints.push(breakpoint);\n            }\n        }\n        return breakpoints;\n    }\n\n    getFunctionBreakpoints(): DebugFunctionBreakpoint[] {\n        return this.getBreakpoints(BreakpointManager.FUNCTION_URI).filter((breakpoint): breakpoint is DebugFunctionBreakpoint => breakpoint instanceof DebugFunctionBreakpoint);\n    }\n\n    getInstructionBreakpoints(): DebugInstructionBreakpoint[] {\n        if (this.capabilities.supportsInstructionBreakpoints) {\n            return this.getBreakpoints(BreakpointManager.INSTRUCTION_URI)\n                .filter((breakpoint): breakpoint is DebugInstructionBreakpoint => breakpoint instanceof DebugInstructionBreakpoint);\n        }\n        return this.breakpoints.getInstructionBreakpoints().map(origin => new DebugInstructionBreakpoint(origin, this.asDebugBreakpointOptions()));\n    }\n\n    getBreakpoints(uri?: URI): DebugBreakpoint[] {\n        if (uri) {\n            return this._breakpoints.get(uri.toString()) || [];\n        }\n        const result = [];\n        for (const breakpoints of this._breakpoints.values()) {\n            result.push(...breakpoints);\n        }\n        return result;\n    }\n\n    getBreakpoint(id: string): DebugBreakpoint | undefined {\n        for (const breakpoints of this._breakpoints.values()) {\n            const breakpoint = breakpoints.find(b => b.id === id);\n            if (breakpoint) {\n                return breakpoint;\n            }\n\n        }\n        return undefined;\n    }\n\n    protected clearBreakpoints(): void {\n        const uris = [...this._breakpoints.keys()];\n        this._breakpoints.clear();\n        for (const uri of uris) {\n            this.fireDidChangeBreakpoints(new URI(uri));\n        }\n    }\n\n    protected updatingBreakpoints = false;\n\n    protected updateBreakpoint(body: DebugProtocol.BreakpointEvent['body']): void {\n        this.updatingBreakpoints = true;\n        try {\n            const raw = body.breakpoint;\n            if (body.reason === 'new') {\n                if (raw.source && typeof raw.line === 'number') {\n                    const uri = DebugSource.toUri(raw.source);\n                    const origin = SourceBreakpoint.create(uri, { line: raw.line, column: raw.column });\n                    if (this.breakpoints.addBreakpoint(origin)) {\n                        const breakpoints = this.getSourceBreakpoints(uri);\n                        const breakpoint = new DebugSourceBreakpoint(origin, this.asDebugBreakpointOptions());\n                        breakpoint.update({ raw });\n                        breakpoints.push(breakpoint);\n                        this.setSourceBreakpoints(uri, breakpoints);\n                    }\n                }\n            }\n            if (body.reason === 'removed' && typeof raw.id === 'number') {\n                const toRemove = this.findBreakpoint(b => b.idFromAdapter === raw.id);\n                if (toRemove) {\n                    toRemove.remove();\n                    const breakpoints = this.getBreakpoints(toRemove.uri);\n                    const index = breakpoints.indexOf(toRemove);\n                    if (index !== -1) {\n                        breakpoints.splice(index, 1);\n                        this.setBreakpoints(toRemove.uri, breakpoints);\n                    }\n                }\n            }\n            if (body.reason === 'changed' && typeof raw.id === 'number') {\n                const toUpdate = this.findBreakpoint(b => b.idFromAdapter === raw.id);\n                if (toUpdate) {\n                    toUpdate.update({ raw });\n                    if (toUpdate instanceof DebugSourceBreakpoint) {\n                        const sourceBreakpoints = this.getSourceBreakpoints(toUpdate.uri);\n                        // in order to dedup again if a debugger converted line breakpoint to inline breakpoint\n                        // i.e. assigned a column to a line breakpoint\n                        this.setSourceBreakpoints(toUpdate.uri, sourceBreakpoints);\n                    } else {\n                        this.fireDidChangeBreakpoints(toUpdate.uri);\n                    }\n                }\n            }\n        } finally {\n            this.updatingBreakpoints = false;\n        }\n    }\n    protected findBreakpoint(match: (breakpoint: DebugBreakpoint) => boolean): DebugBreakpoint | undefined {\n        for (const [, breakpoints] of this._breakpoints) {\n            for (const breakpoint of breakpoints) {\n                if (match(breakpoint)) {\n                    return breakpoint;\n                }\n            }\n        }\n        return undefined;\n    }\n\n    protected async updateBreakpoints(options: {\n        uri?: URI,\n        sourceModified: boolean\n    }): Promise<void> {\n        if (this.updatingBreakpoints) {\n            return;\n        }\n        const { uri, sourceModified } = options;\n        await this.deferredOnDidConfigureCapabilities.promise;\n        for (const affectedUri of this.getAffectedUris(uri)) {\n            if (affectedUri.toString() === BreakpointManager.EXCEPTION_URI.toString()) {\n                await this.sendExceptionBreakpoints();\n            } else if (affectedUri.toString() === BreakpointManager.FUNCTION_URI.toString()) {\n                await this.sendFunctionBreakpoints(affectedUri);\n            } else if (affectedUri.toString() === BreakpointManager.INSTRUCTION_URI.toString()) {\n                await this.sendInstructionBreakpoints();\n            } else {\n                await this.sendSourceBreakpoints(affectedUri, sourceModified);\n            }\n        }\n    }\n\n    protected async sendExceptionBreakpoints(): Promise<void> {\n        const filters: string[] = [];\n        const filterOptions: DebugProtocol.ExceptionFilterOptions[] | undefined = this.capabilities.supportsExceptionFilterOptions ? [] : undefined;\n        for (const breakpoint of this.breakpoints.getExceptionBreakpoints()) {\n            if (breakpoint.enabled) {\n                if (filterOptions) {\n                    filterOptions.push({\n                        filterId: breakpoint.raw.filter,\n                        condition: breakpoint.condition\n                    });\n                } else {\n                    filters.push(breakpoint.raw.filter);\n                }\n            }\n        }\n        await this.sendRequest('setExceptionBreakpoints', { filters, filterOptions });\n    }\n\n    protected async sendFunctionBreakpoints(affectedUri: URI): Promise<void> {\n        const all = this.breakpoints.getFunctionBreakpoints().map(origin =>\n            new DebugFunctionBreakpoint(origin, this.asDebugBreakpointOptions())\n        );\n        const enabled = all.filter(b => b.enabled);\n        if (this.capabilities.supportsFunctionBreakpoints) {\n            try {\n                const response = await this.sendRequest('setFunctionBreakpoints', {\n                    breakpoints: enabled.map(b => b.origin.raw)\n                });\n                // Apparently, `body` and `breakpoints` can be missing.\n                // https://github.com/eclipse-theia/theia/issues/11885\n                // https://github.com/microsoft/vscode/blob/80004351ccf0884b58359f7c8c801c91bb827d83/src/vs/workbench/contrib/debug/browser/debugSession.ts#L448-L449\n                if (response && response.body) {\n                    response.body.breakpoints.forEach((raw, index) => {\n                        // node debug adapter returns more breakpoints sometimes\n                        if (enabled[index]) {\n                            enabled[index].update({ raw });\n                        }\n                    });\n                }\n            } catch (error) {\n                // could be error or promise rejection of DebugProtocol.SetFunctionBreakpoints\n                if (error instanceof Error) {\n                    console.error(`Error setting breakpoints: ${error.message}`);\n                } else {\n                    // handle adapters that send failed DebugProtocol.SetFunctionBreakpoints for invalid breakpoints\n                    const genericMessage: string = 'Function breakpoint not valid for current debug session';\n                    const message: string = error.message ? `${error.message}` : genericMessage;\n                    console.warn(`Could not handle function breakpoints: ${message}, disabling...`);\n                    enabled.forEach(b => b.update({\n                        raw: {\n                            verified: false,\n                            message\n                        }\n                    }));\n                }\n            }\n        }\n        this.setBreakpoints(affectedUri, all);\n    }\n\n    protected async sendSourceBreakpoints(affectedUri: URI, sourceModified?: boolean): Promise<void> {\n        const source = await this.toSource(affectedUri);\n        const all = this.breakpoints.findMarkers({ uri: affectedUri }).map(({ data }) =>\n            new DebugSourceBreakpoint(data, this.asDebugBreakpointOptions())\n        );\n        const enabled = all.filter(b => b.enabled);\n        try {\n            const breakpoints = enabled.map(({ origin }) => origin.raw);\n            const response = await this.sendRequest('setBreakpoints', {\n                source: source.raw,\n                sourceModified,\n                breakpoints,\n                lines: breakpoints.map(({ line }) => line)\n            });\n            response.body.breakpoints.forEach((raw, index) => {\n                // node debug adapter returns more breakpoints sometimes\n                if (enabled[index]) {\n                    enabled[index].update({ raw });\n                }\n            });\n        } catch (error) {\n            // could be error or promise rejection of DebugProtocol.SetBreakpointsResponse\n            if (error instanceof Error) {\n                console.error(`Error setting breakpoints: ${error.message}`);\n            } else {\n                // handle adapters that send failed DebugProtocol.SetBreakpointsResponse for invalid breakpoints\n                const genericMessage: string = 'Breakpoint not valid for current debug session';\n                const message: string = error.message ? `${error.message}` : genericMessage;\n                console.warn(`Could not handle breakpoints for ${affectedUri}: ${message}, disabling...`);\n                enabled.forEach(b => b.update({\n                    raw: {\n                        verified: false,\n                        message\n                    }\n                }));\n            }\n        }\n        this.setSourceBreakpoints(affectedUri, all);\n    }\n\n    protected async sendInstructionBreakpoints(): Promise<void> {\n        if (!this.capabilities.supportsInstructionBreakpoints) {\n            return;\n        }\n        const all = this.breakpoints.getInstructionBreakpoints().map(breakpoint => new DebugInstructionBreakpoint(breakpoint, this.asDebugBreakpointOptions()));\n        const enabled = all.filter(breakpoint => breakpoint.enabled);\n        try {\n            const response = await this.sendRequest('setInstructionBreakpoints', {\n                breakpoints: enabled.map(renderable => renderable.origin),\n            });\n            response.body.breakpoints.forEach((raw, index) => enabled[index]?.update({ raw }));\n        } catch {\n            enabled.forEach(breakpoint => breakpoint.update({ raw: { verified: false } }));\n        }\n        this.setBreakpoints(BreakpointManager.INSTRUCTION_URI, all);\n    }\n\n    protected setBreakpoints(uri: URI, breakpoints: DebugBreakpoint[]): void {\n        this._breakpoints.set(uri.toString(), breakpoints);\n        this.fireDidChangeBreakpoints(uri);\n    }\n\n    protected setSourceBreakpoints(uri: URI, breakpoints: DebugSourceBreakpoint[]): void {\n        const distinct = this.dedupSourceBreakpoints(breakpoints);\n        this.setBreakpoints(uri, distinct);\n    }\n\n    protected dedupSourceBreakpoints(all: DebugSourceBreakpoint[]): DebugSourceBreakpoint[] {\n        const positions = new Map<string, DebugSourceBreakpoint>();\n        for (const breakpoint of all) {\n            let primary = positions.get(breakpoint.renderPosition()) || breakpoint;\n            if (primary !== breakpoint) {\n                let secondary = breakpoint;\n                if (secondary.raw && secondary.raw.line === secondary.origin.raw.line && secondary.raw.column === secondary.origin.raw.column) {\n                    [primary, secondary] = [breakpoint, primary];\n                }\n                primary.origins.push(...secondary.origins);\n            }\n            positions.set(primary.renderPosition(), primary);\n        }\n        return [...positions.values()];\n    }\n\n    protected *getAffectedUris(uri?: URI): IterableIterator<URI> {\n        if (uri) {\n            yield uri;\n        } else {\n            for (const uriString of this.breakpoints.getUris()) {\n                yield new URI(uriString);\n            }\n            yield BreakpointManager.FUNCTION_URI;\n            yield BreakpointManager.EXCEPTION_URI;\n        }\n    }\n\n    protected asDebugBreakpointOptions(): DebugBreakpointOptions {\n        const { labelProvider, breakpoints, editorManager } = this;\n        return { labelProvider, breakpoints, editorManager, session: this };\n    }\n\n    get label(): string {\n        const suffixes = [];\n        if (InternalDebugSessionOptions.is(this.options) && this.options.id) {\n            suffixes.push(String(this.options.id + 1));\n        }\n        if (this.workspaceService.isMultiRootWorkspaceOpened && this.options.workspaceFolderUri) {\n            suffixes.push(this.labelProvider.getName(new URI(this.options.workspaceFolderUri)));\n        }\n        return suffixes.length === 0 ? this.configuration.name : this.configuration.name + ` (${suffixes.join(' - ')})`;\n    }\n\n    get visible(): boolean {\n        return this.state > DebugState.Inactive;\n    }\n\n    render(): React.ReactNode {\n        let label = '';\n        const state = this.state === DebugState.Stopped ? nls.localizeByDefault('Paused') : nls.localizeByDefault('Running');\n        const child = this.getSingleChildSession();\n        if (child && child.configuration.compact) {\n            // Inlines the name of the child debug session\n            label = `: ${child.label}`;\n        }\n        return <div className='theia-debug-session' title='Session'>\n            <span className='label'>{this.label + label}</span>\n            <span className='status'>{state}</span>\n        </div>;\n    }\n\n    *getElements(): IterableIterator<DebugThread | DebugSession> {\n        const child = this.getSingleChildSession();\n        if (child && child.configuration.compact) {\n            // Inlines the elements of the child debug session\n            return yield* child.getElements();\n        }\n        yield* this.threads;\n        yield* this.childSessions.values();\n    }\n\n    protected getSingleChildSession(): DebugSession | undefined {\n        if (this._threads.size === 0 && this.childSessions.size === 1) {\n            const child = this.childSessions.values().next().value as DebugSession;\n            return child;\n        }\n        return undefined;\n    }\n\n    protected async handleContinued({ body: { allThreadsContinued, threadId } }: DebugProtocol.ContinuedEvent): Promise<void> {\n        if (allThreadsContinued !== false) {\n            this.clearThreads();\n        } else {\n            this.clearThread(threadId);\n        }\n    };\n\n    protected async handleStopped({ body }: DebugProtocol.StoppedEvent): Promise<void> {\n        // Update thread list\n        await this.updateThreads(body);\n\n        // Update current thread's frames immediately\n        await this.updateFrames();\n    };\n\n    protected async handleThread({ body: { reason, threadId } }: DebugProtocol.ThreadEvent): Promise<void> {\n        if (reason === 'started') {\n            this.scheduleUpdateThreads();\n        } else if (reason === 'exited') {\n            this._threads.delete(threadId);\n            this.updateCurrentThread();\n        }\n    };\n\n    protected registerDebugContributions(configType: string, connection: DebugSessionConnection): void {\n        for (const contrib of this.debugContributionProvider.getContributions()) {\n            contrib.register(configType, connection);\n        }\n    };\n\n    /**\n     * Returns the top-most parent session that is responsible for the console. If this session uses a {@link DebugConsoleMode.Separate separate console}\n     * or does not have any parent session, undefined is returned.\n     */\n    public findConsoleParent(): DebugSession | undefined {\n        if (this.configuration.consoleMode !== DebugConsoleMode.MergeWithParent) {\n            return undefined;\n        }\n        let debugSession: DebugSession | undefined = this;\n        do {\n            debugSession = debugSession.parentSession;\n        } while (debugSession?.parentSession && debugSession.configuration.consoleMode === DebugConsoleMode.MergeWithParent);\n        return debugSession;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { Emitter } from '@theia/core/lib/common/event';\nimport { StorageService } from '@theia/core/lib/browser/storage-service';\n\n@injectable()\nexport class DebugWatchManager {\n\n    @inject(StorageService)\n    protected readonly storage: StorageService;\n\n    protected readonly onDidChangeEmitter = new Emitter<void>();\n    readonly onDidChange = this.onDidChangeEmitter.event;\n\n    protected idSequence = 0;\n    protected readonly _watchExpressions = new Map<number, string>();\n\n    get watchExpressions(): IterableIterator<[number, string]> {\n        return this._watchExpressions.entries();\n    }\n\n    addWatchExpression(expression: string): number {\n        const id = this.idSequence++;\n        this._watchExpressions.set(id, expression);\n        this.onDidChangeEmitter.fire(undefined);\n        return id;\n    }\n\n    removeWatchExpression(id: number): boolean {\n        if (!this._watchExpressions.has(id)) {\n            return false;\n        }\n        this._watchExpressions.delete(id);\n        this.onDidChangeEmitter.fire(undefined);\n        return true;\n    }\n\n    removeWatchExpressions(): void {\n        if (this._watchExpressions.size) {\n            this.idSequence = 0;\n            this._watchExpressions.clear();\n            this.onDidChangeEmitter.fire(undefined);\n        }\n    }\n\n    async load(): Promise<void> {\n        const data = await this.storage.getData<DebugWatchData>(this.storageKey, {\n            expressions: []\n        });\n        this.restoreState(data);\n    }\n\n    save(): void {\n        const data = this.storeState();\n        this.storage.setData(this.storageKey, data);\n    }\n\n    protected get storageKey(): string {\n        return 'debug:watch';\n    }\n\n    protected storeState(): DebugWatchData {\n        return {\n            expressions: [...this._watchExpressions.values()]\n        };\n    }\n\n    protected restoreState(state: DebugWatchData): void {\n        for (const expression of state.expressions) {\n            this.addWatchExpression(expression);\n        }\n    }\n\n}\n\nexport interface DebugWatchData {\n    readonly expressions: string[];\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from '@theia/core/shared/react';\nimport { createRoot, Root } from '@theia/core/shared/react-dom/client';\nimport { DebugProtocol } from '@vscode/debugprotocol';\nimport { injectable, postConstruct, inject } from '@theia/core/shared/inversify';\nimport { Disposable, DisposableCollection, InMemoryResources, nls } from '@theia/core';\nimport URI from '@theia/core/lib/common/uri';\nimport { MonacoEditorProvider } from '@theia/monaco/lib/browser/monaco-editor-provider';\nimport { MonacoEditorZoneWidget } from '@theia/monaco/lib/browser/monaco-editor-zone-widget';\nimport { SimpleMonacoEditor } from '@theia/monaco/lib/browser/simple-monaco-editor';\nimport { DebugEditor } from './debug-editor';\nimport { DebugSourceBreakpoint } from '../model/debug-source-breakpoint';\nimport { Dimension } from '@theia/editor/lib/browser';\nimport * as monaco from '@theia/monaco-editor-core';\nimport { LanguageSelector } from '@theia/monaco-editor-core/esm/vs/editor/common/languageSelector';\nimport { provideSuggestionItems, CompletionOptions } from '@theia/monaco-editor-core/esm/vs/editor/contrib/suggest/browser/suggest';\nimport { IDecorationOptions } from '@theia/monaco-editor-core/esm/vs/editor/common/editorCommon';\nimport { CompletionItemKind, CompletionContext } from '@theia/monaco-editor-core/esm/vs/editor/common/languages';\nimport { ILanguageFeaturesService } from '@theia/monaco-editor-core/esm/vs/editor/common/services/languageFeatures';\nimport { StandaloneServices } from '@theia/monaco-editor-core/esm/vs/editor/standalone/browser/standaloneServices';\nimport { TextModel } from '@theia/monaco-editor-core/esm/vs/editor/common/model/textModel';\nimport { SelectComponent, SelectOption } from '@theia/core/lib/browser/widgets/select-component';\n\nexport type ShowDebugBreakpointOptions = DebugSourceBreakpoint | {\n    position: monaco.Position,\n    context: DebugBreakpointWidget.Context\n} | {\n    breakpoint: DebugSourceBreakpoint,\n    context: DebugBreakpointWidget.Context\n};\n\nexport const BREAKPOINT_INPUT_SCHEME = 'breakpointinput';\n\n@injectable()\nexport class DebugBreakpointWidget implements Disposable {\n\n    @inject(DebugEditor)\n    readonly editor: DebugEditor;\n\n    @inject(MonacoEditorProvider)\n    protected readonly editorProvider: MonacoEditorProvider;\n\n    @inject(InMemoryResources)\n    protected readonly resources: InMemoryResources;\n\n    protected selectNode: HTMLDivElement;\n    protected selectNodeRoot: Root;\n    protected uri: URI;\n\n    protected zone: MonacoEditorZoneWidget;\n\n    protected readonly toDispose = new DisposableCollection();\n\n    protected context: DebugBreakpointWidget.Context = 'condition';\n    protected _values: {\n        [context in DebugBreakpointWidget.Context]?: string\n    } = {};\n    get values(): {\n        [context in DebugBreakpointWidget.Context]?: string\n    } | undefined {\n        if (!this._input) {\n            return undefined;\n        }\n        return {\n            ...this._values,\n            [this.context]: this._input.getControl().getValue()\n        };\n    }\n\n    protected _input: SimpleMonacoEditor | undefined;\n    get input(): SimpleMonacoEditor | undefined {\n        return this._input;\n    }\n    // eslint-disable-next-line no-null/no-null\n    set inputSize(dimension: Dimension | null) {\n        if (this._input) {\n            if (dimension) {\n                this._input.setSize(dimension);\n            } else {\n                this._input.resizeToFit();\n            }\n        }\n    }\n\n    private readonly selectComponentRef = React.createRef<SelectComponent>();\n\n    @postConstruct()\n    protected init(): void {\n        this.doInit();\n    }\n\n    protected async doInit(): Promise<void> {\n        this.uri = new URI().withScheme(BREAKPOINT_INPUT_SCHEME).withPath(this.editor.getControl().getId());\n        this.toDispose.push(this.resources.add(this.uri, ''));\n        this.toDispose.push(this.zone = new MonacoEditorZoneWidget(this.editor.getControl()));\n        this.zone.containerNode.classList.add('theia-debug-breakpoint-widget');\n\n        const selectNode = this.selectNode = document.createElement('div');\n        selectNode.classList.add('theia-debug-breakpoint-select');\n        this.zone.containerNode.appendChild(selectNode);\n        this.selectNodeRoot = createRoot(this.selectNode);\n        this.toDispose.push(Disposable.create(() => this.selectNodeRoot.unmount()));\n\n        const inputNode = document.createElement('div');\n        inputNode.classList.add('theia-debug-breakpoint-input');\n        this.zone.containerNode.appendChild(inputNode);\n\n        const input = this._input = await this.createInput(inputNode);\n        if (this.toDispose.disposed) {\n            input.dispose();\n            return;\n        }\n        this.toDispose.push(input);\n        this.toDispose.push((monaco.languages.registerCompletionItemProvider as (languageId: LanguageSelector, provider: monaco.languages.CompletionItemProvider) => Disposable)\n            ({ scheme: input.uri.scheme }, {\n                provideCompletionItems: async (model, position, context, token): Promise<monaco.languages.CompletionList> => {\n                    const editor = this.editor.getControl();\n                    const editorModel = editor.getModel() as unknown as TextModel | undefined;\n                    const suggestions: monaco.languages.CompletionItem[] = [];\n                    if (editorModel && (this.context === 'condition' || this.context === 'logMessage')\n                        && input.uri.toString() === model.uri.toString()) {\n                        const completions = await provideSuggestionItems(\n                            StandaloneServices.get(ILanguageFeaturesService).completionProvider,\n                            editorModel,\n                            new monaco.Position(editor.getPosition()!.lineNumber, 1),\n                            new CompletionOptions(undefined, new Set<CompletionItemKind>().add(CompletionItemKind.Snippet)),\n                            context as unknown as CompletionContext, token);\n                        let overwriteBefore = 0;\n                        if (this.context === 'condition') {\n                            overwriteBefore = position.column - 1;\n                        } else {\n                            // Inside the curly brackets, need to count how many useful characters are behind the position so they would all be taken into account\n                            const value = editor.getModel()!.getValue();\n                            while ((position.column - 2 - overwriteBefore >= 0)\n                                && value[position.column - 2 - overwriteBefore] !== '{' && value[position.column - 2 - overwriteBefore] !== ' ') {\n                                overwriteBefore++;\n                            }\n                        }\n                        for (const { completion } of completions.items) {\n                            completion.range = monaco.Range.fromPositions(position.delta(0, -overwriteBefore), position);\n                            suggestions.push(completion as unknown as monaco.languages.CompletionItem);\n                        }\n                    }\n                    return { suggestions };\n                }\n            }));\n        this.toDispose.push(this.zone.onDidLayoutChange(dimension => this.layout(dimension)));\n        this.toDispose.push(this.editor.getControl().onDidChangeModel(() => {\n            this.zone.hide();\n        }));\n        this.toDispose.push(input.getControl().onDidChangeModelContent(() => {\n            const heightInLines = (input.getControl().getModel()?.getLineCount() || 0) + 1;\n            this.zone.layout(heightInLines);\n            this.updatePlaceholder();\n        }));\n        this._input.getControl().contextKeyService.createKey<boolean>('breakpointWidgetFocus', true);\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    get position(): monaco.Position | undefined {\n        const options = this.zone.options;\n        return options && new monaco.Position(options.afterLineNumber, options.afterColumn || -1);\n    }\n\n    show(options: ShowDebugBreakpointOptions): void {\n        if (!this._input) {\n            return;\n        }\n        const breakpoint = options instanceof DebugSourceBreakpoint ? options : 'breakpoint' in options ? options.breakpoint : undefined;\n        this._values = breakpoint ? {\n            condition: breakpoint.condition,\n            hitCondition: breakpoint.hitCondition,\n            logMessage: breakpoint.logMessage\n        } : {};\n        if (options instanceof DebugSourceBreakpoint) {\n            if (options.logMessage) {\n                this.context = 'logMessage';\n            } else if (options.hitCondition && !options.condition) {\n                this.context = 'hitCondition';\n            } else {\n                this.context = 'condition';\n            }\n        } else {\n            this.context = options.context;\n        }\n        this.render();\n        const position = 'position' in options ? options.position : undefined;\n        const afterLineNumber = breakpoint ? breakpoint.line : position!.lineNumber;\n        const afterColumn = breakpoint ? breakpoint.column : position!.column;\n        const editor = this._input.getControl();\n        const editorModel = editor.getModel();\n        const heightInLines = (editorModel?.getLineCount() || 0) + 1;\n        this.zone.show({ afterLineNumber, afterColumn, heightInLines, frameWidth: 1 });\n        if (editorModel) {\n            editor.setPosition(editorModel.getPositionAt(editorModel.getValueLength()));\n        }\n        this._input.focus();\n        this.editor.getControl().createContextKey<boolean>('isBreakpointWidgetVisible', true);\n    }\n\n    hide(): void {\n        this.zone.hide();\n        this.editor.getControl().createContextKey<boolean>('isBreakpointWidgetVisible', false);\n        this.editor.focus();\n    }\n\n    protected layout(dimension: monaco.editor.IDimension): void {\n        if (this._input) {\n            this._input.getControl().layout(dimension);\n        }\n    }\n\n    protected createInput(node: HTMLElement): Promise<SimpleMonacoEditor> {\n        return this.editorProvider.createSimpleInline(this.uri, node, {\n            autoSizing: false\n        });\n    }\n\n    protected render(): void {\n        const value = this._values[this.context] || '';\n        this.resources.update(this.uri, value);\n        if (this._input) {\n            this._input.getControl().setValue(value);\n        }\n        const selectComponent = this.selectComponentRef.current;\n        if (selectComponent && selectComponent.value !== this.context) {\n            selectComponent.value = this.context;\n        }\n        this.selectNodeRoot.render(<SelectComponent\n            defaultValue={this.context} onChange={this.updateInput}\n            options={[\n                { value: 'condition', label: nls.localizeByDefault('Expression') },\n                { value: 'hitCondition', label: nls.localizeByDefault('Hit Count') },\n                { value: 'logMessage', label: nls.localizeByDefault('Log Message') },\n            ]}\n            ref={this.selectComponentRef}\n        />);\n    }\n\n    protected readonly updateInput = (option: SelectOption) => {\n        if (this._input) {\n            this._values[this.context] = this._input.getControl().getValue();\n        }\n        this.context = option.value as DebugBreakpointWidget.Context;\n        this.render();\n        if (this._input) {\n            this._input.focus();\n        }\n    };\n\n    static PLACEHOLDER_DECORATION = 'placeholderDecoration';\n    protected updatePlaceholder(): void {\n        if (!this._input) {\n            return;\n        }\n        const value = this._input.getControl().getValue();\n        const decorations: IDecorationOptions[] = !!value ? [] : [{\n            range: {\n                startLineNumber: 0,\n                endLineNumber: 0,\n                startColumn: 0,\n                endColumn: 1\n            },\n            renderOptions: {\n                after: {\n                    contentText: this.placeholder,\n                    opacity: '0.4'\n                }\n            }\n        }];\n        this._input.getControl().setDecorationsByType('Debug breakpoint placeholder', DebugBreakpointWidget.PLACEHOLDER_DECORATION, decorations);\n    }\n    protected get placeholder(): string {\n        const acceptString = 'Enter';\n        const closeString = 'Escape';\n        if (this.context === 'logMessage') {\n            return nls.localizeByDefault(\n                \"Message to log when breakpoint is hit. Expressions within {} are interpolated. '{0}' to accept, '{1}' to cancel.\", acceptString, closeString\n            );\n        }\n        if (this.context === 'hitCondition') {\n            return nls.localizeByDefault(\"Break when hit count condition is met. '{0}' to accept, '{1}' to cancel.\", acceptString, closeString);\n        }\n        return nls.localizeByDefault(\"Break when expression evaluates to true. '{0}' to accept, '{1}' to cancel.\", acceptString, closeString);\n    }\n\n}\nexport namespace DebugBreakpointWidget {\n    export type Context = keyof Pick<DebugProtocol.SourceBreakpoint, 'condition' | 'hitCondition' | 'logMessage'>;\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport debounce = require('p-debounce');\nimport { injectable, inject, postConstruct, interfaces, Container } from '@theia/core/shared/inversify';\nimport * as monaco from '@theia/monaco-editor-core';\nimport { StandaloneCodeEditor } from '@theia/monaco-editor-core/esm/vs/editor/standalone/browser/standaloneCodeEditor';\nimport { IDecorationOptions } from '@theia/monaco-editor-core/esm/vs/editor/common/editorCommon';\nimport URI from '@theia/core/lib/common/uri';\nimport { Disposable, DisposableCollection, MenuPath, isOSX } from '@theia/core';\nimport { ContextMenuRenderer } from '@theia/core/lib/browser';\nimport { BreakpointManager, SourceBreakpointsChangeEvent } from '../breakpoint/breakpoint-manager';\nimport { DebugSourceBreakpoint } from '../model/debug-source-breakpoint';\nimport { DebugSessionManager } from '../debug-session-manager';\nimport { SourceBreakpoint } from '../breakpoint/breakpoint-marker';\nimport { DebugEditor } from './debug-editor';\nimport { DebugHoverWidget, createDebugHoverWidgetContainer } from './debug-hover-widget';\nimport { DebugBreakpointWidget } from './debug-breakpoint-widget';\nimport { DebugExceptionWidget } from './debug-exception-widget';\nimport { DebugProtocol } from '@vscode/debugprotocol';\nimport { DebugInlineValueDecorator, INLINE_VALUE_DECORATION_KEY } from './debug-inline-value-decorator';\n\nexport const DebugEditorModelFactory = Symbol('DebugEditorModelFactory');\nexport type DebugEditorModelFactory = (editor: DebugEditor) => DebugEditorModel;\n\n@injectable()\nexport class DebugEditorModel implements Disposable {\n\n    static createContainer(parent: interfaces.Container, editor: DebugEditor): Container {\n        const child = createDebugHoverWidgetContainer(parent, editor);\n        child.bind(DebugEditorModel).toSelf();\n        child.bind(DebugBreakpointWidget).toSelf();\n        child.bind(DebugExceptionWidget).toSelf();\n        return child;\n    }\n    static createModel(parent: interfaces.Container, editor: DebugEditor): DebugEditorModel {\n        return DebugEditorModel.createContainer(parent, editor).get(DebugEditorModel);\n    }\n\n    static CONTEXT_MENU: MenuPath = ['debug-editor-context-menu'];\n\n    protected readonly toDispose = new DisposableCollection();\n    protected readonly toDisposeOnUpdate = new DisposableCollection();\n\n    protected uri: URI;\n\n    protected breakpointDecorations: string[] = [];\n    protected breakpointRanges = new Map<string, [monaco.Range, SourceBreakpoint]>();\n\n    protected currentBreakpointDecorations: string[] = [];\n\n    protected editorDecorations: string[] = [];\n\n    protected updatingDecorations = false;\n    protected toDisposeOnModelChange = new DisposableCollection();\n\n    @inject(DebugHoverWidget)\n    readonly hover: DebugHoverWidget;\n\n    @inject(DebugEditor)\n    readonly editor: DebugEditor;\n\n    @inject(BreakpointManager)\n    readonly breakpoints: BreakpointManager;\n\n    @inject(DebugSessionManager)\n    readonly sessions: DebugSessionManager;\n\n    @inject(ContextMenuRenderer)\n    readonly contextMenu: ContextMenuRenderer;\n\n    @inject(DebugBreakpointWidget)\n    readonly breakpointWidget: DebugBreakpointWidget;\n\n    @inject(DebugExceptionWidget)\n    readonly exceptionWidget: DebugExceptionWidget;\n\n    @inject(DebugInlineValueDecorator)\n    readonly inlineValueDecorator: DebugInlineValueDecorator;\n\n    @inject(DebugSessionManager)\n    protected readonly sessionManager: DebugSessionManager;\n\n    @postConstruct()\n    protected init(): void {\n        this.uri = new URI(this.editor.getResourceUri().toString());\n        this.toDispose.pushAll([\n            this.hover,\n            this.breakpointWidget,\n            this.exceptionWidget,\n            this.editor.getControl().onMouseDown(event => this.handleMouseDown(event)),\n            this.editor.getControl().onMouseMove(event => this.handleMouseMove(event)),\n            this.editor.getControl().onMouseLeave(event => this.handleMouseLeave(event)),\n            this.editor.getControl().onKeyDown(() => this.hover.hide({ immediate: false })),\n            this.editor.getControl().onDidChangeModelContent(() => this.update()),\n            this.editor.getControl().onDidChangeModel(e => this.updateModel()),\n            this.editor.onDidResize(e => this.breakpointWidget.inputSize = e),\n            this.sessions.onDidChange(() => this.update()),\n            this.toDisposeOnUpdate,\n            this.sessionManager.onDidChangeBreakpoints(({ session, uri }) => {\n                if ((!session || session === this.sessionManager.currentSession) && uri.isEqual(this.uri)) {\n                    this.render();\n                }\n            }),\n            this.breakpoints.onDidChangeBreakpoints(event => this.closeBreakpointIfAffected(event)),\n        ]);\n        this.updateModel();\n    }\n\n    protected updateModel(): void {\n        this.toDisposeOnModelChange.dispose();\n        this.toDisposeOnModelChange = new DisposableCollection();\n        const model = this.editor.getControl().getModel();\n        if (model) {\n            this.toDisposeOnModelChange.push(model.onDidChangeDecorations(() => this.updateBreakpoints()));\n        }\n        this.update();\n        this.render();\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    protected readonly update = debounce(async () => {\n        if (this.toDispose.disposed) {\n            return;\n        }\n        this.toDisposeOnUpdate.dispose();\n        this.toggleExceptionWidget();\n        await this.updateEditorDecorations();\n    }, 100);\n\n    protected async updateEditorDecorations(): Promise<void> {\n        const [newFrameDecorations, inlineValueDecorations] = await Promise.all([\n            this.createFrameDecorations(),\n            this.createInlineValueDecorations()\n        ]);\n        const codeEditor = this.editor.getControl() as unknown as StandaloneCodeEditor;\n        codeEditor.removeDecorations([INLINE_VALUE_DECORATION_KEY]);\n        codeEditor.setDecorationsByType('Inline debug decorations', INLINE_VALUE_DECORATION_KEY, inlineValueDecorations);\n        this.editorDecorations = this.deltaDecorations(this.editorDecorations, newFrameDecorations);\n    }\n\n    protected async createInlineValueDecorations(): Promise<IDecorationOptions[]> {\n        if (!this.sessions.isCurrentEditorFrame(this.uri)) {\n            return [];\n        }\n        const { currentFrame } = this.sessions;\n        return this.inlineValueDecorator.calculateDecorations(this, currentFrame);\n    }\n\n    protected createFrameDecorations(): monaco.editor.IModelDeltaDecoration[] {\n        const { currentFrame, topFrame } = this.sessions;\n        if (!currentFrame) {\n            return [];\n        }\n\n        if (!currentFrame.thread.stopped) {\n            return [];\n        }\n\n        if (!this.sessions.isCurrentEditorFrame(this.uri)) {\n            return [];\n        }\n\n        const decorations: monaco.editor.IModelDeltaDecoration[] = [];\n        const columnUntilEOLRange = new monaco.Range(currentFrame.raw.line, currentFrame.raw.column, currentFrame.raw.line, 1 << 30);\n        const range = new monaco.Range(currentFrame.raw.line, currentFrame.raw.column, currentFrame.raw.line, currentFrame.raw.column + 1);\n\n        if (topFrame === currentFrame) {\n            decorations.push({\n                options: DebugEditorModel.TOP_STACK_FRAME_MARGIN,\n                range\n            });\n            decorations.push({\n                options: DebugEditorModel.TOP_STACK_FRAME_DECORATION,\n                range: columnUntilEOLRange\n            });\n            const firstNonWhitespaceColumn = this.editor.document.textEditorModel.getLineFirstNonWhitespaceColumn(currentFrame.raw.line);\n            if (currentFrame.raw.column > firstNonWhitespaceColumn) {\n                decorations.push({\n                    options: DebugEditorModel.TOP_STACK_FRAME_INLINE_DECORATION,\n                    range: columnUntilEOLRange\n                });\n            }\n        } else {\n            decorations.push({\n                options: DebugEditorModel.FOCUSED_STACK_FRAME_MARGIN,\n                range\n            });\n            decorations.push({\n                options: DebugEditorModel.FOCUSED_STACK_FRAME_DECORATION,\n                range: columnUntilEOLRange\n            });\n        }\n        return decorations;\n    }\n\n    protected async toggleExceptionWidget(): Promise<void> {\n        const { currentFrame } = this.sessions;\n        if (!currentFrame) {\n            return;\n        }\n        if (!this.sessions.isCurrentEditorFrame(this.uri)) {\n            this.exceptionWidget.hide();\n            return;\n        }\n        const info = await currentFrame.thread.getExceptionInfo();\n        if (!info) {\n            this.exceptionWidget.hide();\n            return;\n        }\n        this.exceptionWidget.show({\n            info,\n            lineNumber: currentFrame.raw.line,\n            column: currentFrame.raw.column\n        });\n    }\n\n    render(): void {\n        this.renderBreakpoints();\n        this.renderCurrentBreakpoints();\n    }\n    protected renderBreakpoints(): void {\n        const breakpoints = this.breakpoints.getBreakpoints(this.uri);\n        const decorations = this.createBreakpointDecorations(breakpoints);\n        this.breakpointDecorations = this.deltaDecorations(this.breakpointDecorations, decorations);\n        this.updateBreakpointRanges(breakpoints);\n    }\n    protected createBreakpointDecorations(breakpoints: SourceBreakpoint[]): monaco.editor.IModelDeltaDecoration[] {\n        return breakpoints.map(breakpoint => this.createBreakpointDecoration(breakpoint));\n    }\n    protected createBreakpointDecoration(breakpoint: SourceBreakpoint): monaco.editor.IModelDeltaDecoration {\n        const lineNumber = breakpoint.raw.line;\n        const column = breakpoint.raw.column;\n        const range = typeof column === 'number' ? new monaco.Range(lineNumber, column, lineNumber, column + 1) : new monaco.Range(lineNumber, 1, lineNumber, 2);\n        return {\n            range,\n            options: {\n                stickiness: DebugEditorModel.STICKINESS\n            }\n        };\n    }\n\n    protected updateBreakpointRanges(breakpoints: SourceBreakpoint[]): void {\n        this.breakpointRanges.clear();\n        for (let i = 0; i < this.breakpointDecorations.length; i++) {\n            const decoration = this.breakpointDecorations[i];\n            const breakpoint = breakpoints[i];\n            const range = this.editor.getControl().getModel()?.getDecorationRange(decoration);\n            if (range) {\n                this.breakpointRanges.set(decoration, [range, breakpoint]);\n            }\n        }\n    }\n\n    protected renderCurrentBreakpoints(): void {\n        const decorations = this.createCurrentBreakpointDecorations();\n        this.currentBreakpointDecorations = this.deltaDecorations(this.currentBreakpointDecorations, decorations);\n    }\n    protected createCurrentBreakpointDecorations(): monaco.editor.IModelDeltaDecoration[] {\n        const breakpoints = this.sessions.getBreakpoints(this.uri);\n        return breakpoints.map(breakpoint => this.createCurrentBreakpointDecoration(breakpoint));\n    }\n    protected createCurrentBreakpointDecoration(breakpoint: DebugSourceBreakpoint): monaco.editor.IModelDeltaDecoration {\n        const lineNumber = breakpoint.line;\n        const column = breakpoint.column;\n        const range = typeof column === 'number' ? new monaco.Range(lineNumber, column, lineNumber, column + 1) : new monaco.Range(lineNumber, 1, lineNumber, 1);\n        const { className, message } = breakpoint.getDecoration();\n        const renderInline = typeof column === 'number' && (column > (this.editor.getControl().getModel()?.getLineFirstNonWhitespaceColumn(lineNumber) || 0));\n        return {\n            range,\n            options: {\n                glyphMarginClassName: className,\n                glyphMarginHoverMessage: message.map(value => ({ value })),\n                stickiness: DebugEditorModel.STICKINESS,\n                beforeContentClassName: renderInline ? `theia-debug-breakpoint-column codicon ${className}` : undefined\n            }\n        };\n    }\n\n    protected updateBreakpoints(): void {\n        if (this.areBreakpointsAffected()) {\n            const breakpoints = this.createBreakpoints();\n            this.breakpoints.setBreakpoints(this.uri, breakpoints);\n        }\n    }\n    protected areBreakpointsAffected(): boolean {\n        if (this.updatingDecorations || !this.editor.getControl().getModel()) {\n            return false;\n        }\n        for (const decoration of this.breakpointDecorations) {\n            const range = this.editor.getControl().getModel()?.getDecorationRange(decoration);\n            const oldRange = this.breakpointRanges.get(decoration)![0];\n            if (!range || !range.equalsRange(oldRange)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    protected createBreakpoints(): SourceBreakpoint[] {\n        const { uri } = this;\n        const lines = new Set<number>();\n        const breakpoints: SourceBreakpoint[] = [];\n        for (const decoration of this.breakpointDecorations) {\n            const range = this.editor.getControl().getModel()?.getDecorationRange(decoration);\n            if (range && !lines.has(range.startLineNumber)) {\n                const line = range.startLineNumber;\n                const column = range.startColumn;\n                const oldBreakpoint = this.breakpointRanges.get(decoration)?.[1];\n                const isLineBreakpoint = oldBreakpoint?.raw.line !== undefined && oldBreakpoint?.raw.column === undefined;\n                const change = isLineBreakpoint ? { line } : { line, column };\n                const breakpoint = SourceBreakpoint.create(uri, change, oldBreakpoint);\n                breakpoints.push(breakpoint);\n                lines.add(line);\n            }\n        }\n        return breakpoints;\n    }\n\n    get position(): monaco.Position {\n        return this.editor.getControl().getPosition()!;\n    }\n    getBreakpoint(position: monaco.Position = this.position): DebugSourceBreakpoint | undefined {\n        return this.getInlineBreakpoint(position) || this.getLineBreakpoints(position)[0];\n    }\n\n    getInlineBreakpoint(position: monaco.Position = this.position): DebugSourceBreakpoint | undefined {\n        return this.sessions.getInlineBreakpoint(this.uri, position.lineNumber, position.column);\n    }\n\n    protected getLineBreakpoints(position: monaco.Position = this.position): DebugSourceBreakpoint[] {\n        return this.sessions.getLineBreakpoints(this.uri, position.lineNumber);\n    }\n\n    protected addBreakpoint(raw: DebugProtocol.SourceBreakpoint): void {\n        this.breakpoints.addBreakpoint(SourceBreakpoint.create(this.uri, raw));\n    }\n\n    toggleBreakpoint(position: monaco.Position = this.position): void {\n        const { lineNumber } = position;\n        const breakpoints = this.getLineBreakpoints(position);\n        if (breakpoints.length) {\n            for (const breakpoint of breakpoints) {\n                breakpoint.remove();\n            }\n        } else {\n            this.addBreakpoint({ line: lineNumber });\n        }\n    }\n\n    addInlineBreakpoint(): void {\n        const { position } = this;\n        const { lineNumber, column } = position;\n        const breakpoint = this.getInlineBreakpoint(position);\n        if (breakpoint) {\n            return;\n        }\n        this.addBreakpoint({ line: lineNumber, column });\n    }\n\n    acceptBreakpoint(): void {\n        const { position, values } = this.breakpointWidget;\n        if (position && values) {\n            const breakpoint = position.column > 0 ? this.getInlineBreakpoint(position) : this.getLineBreakpoints(position)[0];\n            if (breakpoint) {\n                breakpoint.updateOrigins(values);\n            } else {\n                const { lineNumber } = position;\n                const column = position.column > 0 ? position.column : undefined;\n                this.addBreakpoint({ line: lineNumber, column, ...values });\n            }\n            this.breakpointWidget.hide();\n        }\n    }\n\n    protected handleMouseDown(event: monaco.editor.IEditorMouseEvent): void {\n        if (event.target && event.target.type === monaco.editor.MouseTargetType.GUTTER_GLYPH_MARGIN) {\n            if (!event.event.rightButton) {\n                this.toggleBreakpoint(event.target.position!);\n            }\n        }\n        this.hintBreakpoint(event);\n    }\n    protected handleMouseMove(event: monaco.editor.IEditorMouseEvent): void {\n        this.showHover(event);\n        this.hintBreakpoint(event);\n    }\n    protected handleMouseLeave(event: monaco.editor.IPartialEditorMouseEvent): void {\n        this.hideHover(event);\n        this.deltaHintDecorations([]);\n    }\n\n    protected hintDecorations: string[] = [];\n    protected hintBreakpoint(event: monaco.editor.IEditorMouseEvent): void {\n        const hintDecorations = this.createHintDecorations(event);\n        this.deltaHintDecorations(hintDecorations);\n    }\n    protected deltaHintDecorations(hintDecorations: monaco.editor.IModelDeltaDecoration[]): void {\n        this.hintDecorations = this.deltaDecorations(this.hintDecorations, hintDecorations);\n    }\n    protected createHintDecorations(event: monaco.editor.IEditorMouseEvent): monaco.editor.IModelDeltaDecoration[] {\n        if (event.target && event.target.type === monaco.editor.MouseTargetType.GUTTER_GLYPH_MARGIN && event.target.position) {\n            const lineNumber = event.target.position.lineNumber;\n            if (this.getLineBreakpoints(event.target.position).length) {\n                return [];\n            }\n            return [{\n                range: new monaco.Range(lineNumber, 1, lineNumber, 1),\n                options: DebugEditorModel.BREAKPOINT_HINT_DECORATION\n            }];\n        }\n        return [];\n    }\n\n    protected closeBreakpointIfAffected({ uri, removed }: SourceBreakpointsChangeEvent): void {\n        if (!uri.isEqual(this.uri)) {\n            return;\n        }\n        const position = this.breakpointWidget.position;\n        if (!position) {\n            return;\n        }\n        for (const breakpoint of removed) {\n            if (breakpoint.raw.line === position.lineNumber) {\n                this.breakpointWidget.hide();\n                break;\n            }\n        }\n    }\n\n    protected showHover(mouseEvent: monaco.editor.IEditorMouseEvent): void {\n        const targetType = mouseEvent.target.type;\n        const stopKey = isOSX ? 'metaKey' : 'ctrlKey';\n\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (targetType === monaco.editor.MouseTargetType.CONTENT_WIDGET && mouseEvent.target.detail === this.hover.getId() && !(<any>mouseEvent.event)[stopKey]) {\n            // mouse moved on top of debug hover widget\n            return;\n        }\n        if (targetType === monaco.editor.MouseTargetType.CONTENT_TEXT) {\n            this.hover.show({\n                selection: mouseEvent.target.range!,\n                immediate: false\n            });\n        } else {\n            this.hover.hide({ immediate: false });\n        }\n    }\n    protected hideHover({ event }: monaco.editor.IPartialEditorMouseEvent): void {\n        const rect = this.hover.getDomNode().getBoundingClientRect();\n        if (event.posx < rect.left || event.posx > rect.right || event.posy < rect.top || event.posy > rect.bottom) {\n            this.hover.hide({ immediate: false });\n        }\n    }\n\n    protected deltaDecorations(oldDecorations: string[], newDecorations: monaco.editor.IModelDeltaDecoration[]): string[] {\n        this.updatingDecorations = true;\n        try {\n            return this.editor.getControl().deltaDecorations(oldDecorations, newDecorations);\n        } finally {\n            this.updatingDecorations = false;\n        }\n    }\n\n    static STICKINESS = monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges;\n\n    static BREAKPOINT_HINT_DECORATION: monaco.editor.IModelDecorationOptions = {\n        glyphMarginClassName: 'codicon-debug-hint',\n        stickiness: DebugEditorModel.STICKINESS\n    };\n\n    static TOP_STACK_FRAME_MARGIN: monaco.editor.IModelDecorationOptions = {\n        glyphMarginClassName: 'codicon-debug-stackframe',\n        stickiness: DebugEditorModel.STICKINESS\n    };\n    static FOCUSED_STACK_FRAME_MARGIN: monaco.editor.IModelDecorationOptions = {\n        glyphMarginClassName: 'codicon-debug-stackframe-focused',\n        stickiness: DebugEditorModel.STICKINESS\n    };\n    static TOP_STACK_FRAME_DECORATION: monaco.editor.IModelDecorationOptions = {\n        isWholeLine: true,\n        className: 'theia-debug-top-stack-frame-line',\n        stickiness: DebugEditorModel.STICKINESS\n    };\n    static TOP_STACK_FRAME_INLINE_DECORATION: monaco.editor.IModelDecorationOptions = {\n        beforeContentClassName: 'theia-debug-top-stack-frame-column'\n    };\n    static FOCUSED_STACK_FRAME_DECORATION: monaco.editor.IModelDecorationOptions = {\n        isWholeLine: true,\n        className: 'theia-debug-focused-stack-frame-line',\n        stickiness: DebugEditorModel.STICKINESS\n    };\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport * as monaco from '@theia/monaco-editor-core';\nimport { EditorManager, EditorWidget } from '@theia/editor/lib/browser';\nimport { ContextMenuRenderer } from '@theia/core/lib/browser';\nimport { MonacoEditor } from '@theia/monaco/lib/browser/monaco-editor';\nimport { DebugSessionManager } from '../debug-session-manager';\nimport { DebugEditorModel, DebugEditorModelFactory } from './debug-editor-model';\nimport { BreakpointManager } from '../breakpoint/breakpoint-manager';\nimport { DebugSourceBreakpoint } from '../model/debug-source-breakpoint';\nimport { DebugBreakpointWidget } from './debug-breakpoint-widget';\nimport URI from '@theia/core/lib/common/uri';\n\n@injectable()\nexport class DebugEditorService {\n\n    @inject(EditorManager)\n    protected readonly editors: EditorManager;\n\n    @inject(BreakpointManager)\n    protected readonly breakpoints: BreakpointManager;\n\n    @inject(DebugSessionManager)\n    protected readonly sessionManager: DebugSessionManager;\n\n    @inject(ContextMenuRenderer)\n    protected readonly contextMenu: ContextMenuRenderer;\n\n    @inject(DebugEditorModelFactory)\n    protected readonly factory: DebugEditorModelFactory;\n\n    protected readonly models = new Map<MonacoEditor, DebugEditorModel>();\n\n    @postConstruct()\n    protected init(): void {\n        this.editors.all.forEach(widget => this.push(widget));\n        this.editors.onCreated(widget => this.push(widget));\n    }\n\n    protected push(widget: EditorWidget): void {\n        const editor = MonacoEditor.get(widget);\n        if (!editor) {\n            return;\n        }\n        const debugModel = this.factory(editor);\n        this.models.set(editor, debugModel);\n        widget.onDispose(() => {\n            debugModel.dispose();\n            this.models.delete(editor);\n        });\n    }\n\n    get model(): DebugEditorModel | undefined {\n        const { currentEditor } = this.editors;\n        return currentEditor && this.models.get(currentEditor.editor as MonacoEditor);\n    }\n\n    get currentUri(): URI | undefined {\n        const { currentEditor } = this.editors;\n        return currentEditor && currentEditor.getResourceUri();\n    }\n\n    getLogpoint(position: monaco.Position): DebugSourceBreakpoint | undefined {\n        const logpoint = this.anyBreakpoint(position);\n        return logpoint && logpoint.logMessage ? logpoint : undefined;\n    }\n    getLogpointEnabled(position: monaco.Position): boolean | undefined {\n        const logpoint = this.getLogpoint(position);\n        return logpoint && logpoint.enabled;\n    }\n\n    getBreakpoint(position: monaco.Position): DebugSourceBreakpoint | undefined {\n        const breakpoint = this.anyBreakpoint(position);\n        return breakpoint && breakpoint.logMessage ? undefined : breakpoint;\n    }\n    getBreakpointEnabled(position: monaco.Position): boolean | undefined {\n        const breakpoint = this.getBreakpoint(position);\n        return breakpoint && breakpoint.enabled;\n    }\n\n    anyBreakpoint(position?: monaco.Position): DebugSourceBreakpoint | undefined {\n        return this.model && this.model.getBreakpoint(position);\n    }\n\n    getInlineBreakpoint(position?: monaco.Position): DebugSourceBreakpoint | undefined {\n        return this.model && this.model.getInlineBreakpoint(position);\n    }\n\n    toggleBreakpoint(position?: monaco.Position): void {\n        const { model } = this;\n        if (model) {\n            model.toggleBreakpoint(position);\n        }\n    }\n    setBreakpointEnabled(position: monaco.Position, enabled: boolean): void {\n        const breakpoint = this.anyBreakpoint(position);\n        if (breakpoint) {\n            breakpoint.setEnabled(enabled);\n        }\n    }\n\n    addInlineBreakpoint(): void {\n        const { model } = this;\n        if (model) {\n            model.addInlineBreakpoint();\n        }\n    }\n\n    showHover(): void {\n        const { model } = this;\n        if (model) {\n            const selection = model.editor.getControl().getSelection()!;\n            model.hover.show({ selection, focus: true });\n        }\n    }\n    canShowHover(): boolean {\n        const { model } = this;\n        if (model) {\n            const selection = model.editor.getControl().getSelection()!;\n            return !!model.editor.getControl().getModel()?.getWordAtPosition(selection.getStartPosition());\n        }\n        return false;\n    }\n\n    addBreakpoint(context: DebugBreakpointWidget.Context, position?: monaco.Position): void {\n        const { model } = this;\n        if (model) {\n            position = position || model.position;\n            const breakpoint = model.getBreakpoint(position);\n            if (breakpoint) {\n                model.breakpointWidget.show({ breakpoint, context });\n            } else {\n                model.breakpointWidget.show({\n                    position,\n                    context\n                });\n            }\n        }\n    }\n    async editBreakpoint(breakpointOrPosition?: DebugSourceBreakpoint | monaco.Position): Promise<void> {\n        if (breakpointOrPosition instanceof monaco.Position) {\n            breakpointOrPosition = this.anyBreakpoint(breakpointOrPosition);\n        }\n\n        if (breakpointOrPosition) {\n            const editor = await breakpointOrPosition.open();\n            const model = this.models.get(editor.editor as MonacoEditor);\n            if (model) {\n                model.breakpointWidget.show(breakpointOrPosition);\n            }\n        }\n    }\n    closeBreakpoint(): void {\n        const { model } = this;\n        if (model) {\n            model.breakpointWidget.hide();\n        }\n    }\n    acceptBreakpoint(): void {\n        const { model } = this;\n        if (model) {\n            model.acceptBreakpoint();\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { MonacoEditor } from '@theia/monaco/lib/browser/monaco-editor';\n\nexport const DebugEditor = Symbol('DebugEditor');\nexport type DebugEditor = MonacoEditor;\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from '@theia/core/shared/react';\nimport { createRoot, Root } from '@theia/core/shared/react-dom/client';\nimport * as monaco from '@theia/monaco-editor-core';\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { MonacoEditorZoneWidget } from '@theia/monaco/lib/browser/monaco-editor-zone-widget';\nimport { DebugEditor } from './debug-editor';\nimport { DebugExceptionInfo } from '../model/debug-thread';\nimport { nls } from '@theia/core/lib/common/nls';\nimport { codicon } from '@theia/core/lib/browser/widgets';\n\nexport interface ShowDebugExceptionParams {\n    info: DebugExceptionInfo\n    lineNumber: number\n    column: number\n}\n\nexport class DebugExceptionMonacoEditorZoneWidget extends MonacoEditorZoneWidget {\n\n    protected override computeContainerHeight(zoneHeight: number): {\n        height: number,\n        frameWidth: number\n    } {\n        // reset height to match it to the content\n        this.containerNode.style.height = 'initial';\n        const height = this.containerNode.offsetHeight;\n        const result = super.computeContainerHeight(zoneHeight);\n        result.height = height;\n        return result;\n    }\n\n}\n\n@injectable()\nexport class DebugExceptionWidget implements Disposable {\n\n    @inject(DebugEditor)\n    readonly editor: DebugEditor;\n\n    protected zone: MonacoEditorZoneWidget;\n    protected containerNodeRoot: Root;\n\n    protected readonly toDispose = new DisposableCollection();\n\n    @postConstruct()\n    protected init(): void {\n        this.doInit();\n    }\n\n    protected async doInit(): Promise<void> {\n        this.toDispose.push(this.zone = new DebugExceptionMonacoEditorZoneWidget(this.editor.getControl()));\n        this.zone.containerNode.classList.add('theia-debug-exception-widget');\n        this.containerNodeRoot = createRoot(this.zone.containerNode);\n        this.toDispose.push(Disposable.create(() => this.containerNodeRoot.unmount()));\n        this.toDispose.push(this.editor.getControl().onDidLayoutChange(() => this.layout()));\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    show({ info, lineNumber, column }: ShowDebugExceptionParams): void {\n        this.render(info, () => {\n            const fontInfo = this.editor.getControl().getOption(monaco.editor.EditorOption.fontInfo);\n            this.zone.containerNode.style.fontSize = `${fontInfo.fontSize}px`;\n            this.zone.containerNode.style.lineHeight = `${fontInfo.lineHeight}px`;\n\n            if (lineNumber !== undefined && column !== undefined) {\n                const afterLineNumber = lineNumber;\n                const afterColumn = column;\n                this.zone.show({ showFrame: true, afterLineNumber, afterColumn, heightInLines: 0, frameWidth: 1 });\n            }\n\n            this.layout();\n        });\n    }\n\n    hide(): void {\n        this.zone.hide();\n    }\n\n    protected render(info: DebugExceptionInfo, cb: () => void): void {\n        const stackTrace = info.details && info.details.stackTrace;\n        const exceptionTitle = info.id ?\n            nls.localizeByDefault('Exception has occurred: {0}', info.id) :\n            nls.localizeByDefault('Exception has occurred.');\n        this.containerNodeRoot.render(<React.Fragment>\n            <div className='title' ref={cb}>\n                {exceptionTitle}\n                <span id=\"exception-close\" className={codicon('close', true)} onClick={() => this.hide()} title={nls.localizeByDefault('Close')}></span>\n            </div>\n            {info.description && <div className='description'>{info.description}</div>}\n            {stackTrace && <div className='stack-trace'>{stackTrace}</div>}\n        </React.Fragment>);\n    }\n\n    protected layout(): void {\n        // reset height to match it to the content\n        this.zone.containerNode.style.height = 'initial';\n\n        const lineHeight = this.editor.getControl().getOption(monaco.editor.EditorOption.lineHeight);\n        const heightInLines = Math.ceil(this.zone.containerNode.offsetHeight / lineHeight);\n        this.zone.layout(heightInLines);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation and others. All rights reserved.\n *  Licensed under the MIT License. See https://github.com/Microsoft/vscode/blob/master/LICENSE.txt for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport * as monaco from '@theia/monaco-editor-core';\n\n/**\n * TODO: introduce a new request to LSP to look up an expression range: https://github.com/Microsoft/language-server-protocol/issues/462\n */\n@injectable()\nexport class DebugExpressionProvider {\n    get(model: monaco.editor.IModel, selection: monaco.IRange): string {\n        const lineContent = model.getLineContent(selection.startLineNumber);\n        const { start, end } = this.getExactExpressionStartAndEnd(lineContent, selection.startColumn, selection.endColumn);\n        return lineContent.substring(start - 1, end);\n    }\n    protected getExactExpressionStartAndEnd(lineContent: string, looseStart: number, looseEnd: number): { start: number, end: number } {\n        let matchingExpression: string | undefined = undefined;\n        let startOffset = 0;\n\n        // Some example supported expressions: myVar.prop, a.b.c.d, myVar?.prop, myVar->prop, MyClass::StaticProp, *myVar\n        // Match any character except a set of characters which often break interesting sub-expressions\n        const expression = /([^()\\[\\]{}<>\\s+\\-/%~#^;=|,`!]|\\->)+/g;\n        // eslint-disable-next-line no-null/no-null\n        let result: RegExpExecArray | null = null;\n\n        // First find the full expression under the cursor\n        while (result = expression.exec(lineContent)) {\n            const start = result.index + 1;\n            const end = start + result[0].length;\n\n            if (start <= looseStart && end >= looseEnd) {\n                matchingExpression = result[0];\n                startOffset = start;\n                break;\n            }\n        }\n\n        // If there are non-word characters after the cursor, we want to truncate the expression then.\n        // For example in expression 'a.b.c.d', if the focus was under 'b', 'a.b' would be evaluated.\n        if (matchingExpression) {\n            const subExpression: RegExp = /\\w+/g;\n            // eslint-disable-next-line no-null/no-null\n            let subExpressionResult: RegExpExecArray | null = null;\n            while (subExpressionResult = subExpression.exec(matchingExpression)) {\n                const subEnd = subExpressionResult.index + 1 + startOffset + subExpressionResult[0].length;\n                if (subEnd >= looseEnd) {\n                    break;\n                }\n            }\n\n            if (subExpressionResult) {\n                matchingExpression = matchingExpression.substring(0, subExpression.lastIndex);\n            }\n        }\n\n        return matchingExpression ?\n            { start: startOffset, end: startOffset + matchingExpression.length - 1 } :\n            { start: 0, end: 0 };\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from '@theia/core/shared/react';\nimport { TreeSource, TreeElement } from '@theia/core/lib/browser/source-tree';\nimport { ExpressionContainer, ExpressionItem, DebugVariable } from '../console/debug-console-items';\nimport { DebugSessionManager } from '../debug-session-manager';\nimport { injectable, inject } from '@theia/core/shared/inversify';\n\n@injectable()\nexport class DebugHoverSource extends TreeSource {\n\n    @inject(DebugSessionManager)\n    protected readonly sessions: DebugSessionManager;\n\n    protected _expression: ExpressionItem | DebugVariable | undefined;\n    get expression(): ExpressionItem | DebugVariable | undefined {\n        return this._expression;\n    }\n\n    protected elements: TreeElement[] = [];\n    getElements(): IterableIterator<TreeElement> {\n        return this.elements[Symbol.iterator]();\n    }\n\n    protected renderTitle(element: ExpressionItem | DebugVariable): React.ReactNode {\n        return <div className='theia-debug-hover-title' title={element.value}>{element.value}</div>;\n    }\n\n    reset(): void {\n        this._expression = undefined;\n        this.elements = [];\n        this.fireDidChange();\n    }\n\n    async evaluate(expression: string): Promise<ExpressionItem | DebugVariable | undefined> {\n        const evaluated = await this.doEvaluate(expression);\n        const elements = evaluated && await evaluated.getElements();\n        this._expression = evaluated;\n        this.elements = elements ? [...elements] : [];\n        this.fireDidChange();\n        return evaluated;\n    }\n    protected async doEvaluate(expression: string): Promise<ExpressionItem | DebugVariable | undefined> {\n        const { currentSession } = this.sessions;\n        if (!currentSession) {\n            return undefined;\n        }\n        if (currentSession.capabilities.supportsEvaluateForHovers) {\n            const item = new ExpressionItem(expression, () => currentSession);\n            await item.evaluate('hover');\n            return item.available && item || undefined;\n        }\n        return this.findVariable(expression.split('.').map(word => word.trim()).filter(word => !!word));\n    }\n    protected async findVariable(namesToFind: string[]): Promise<DebugVariable | undefined> {\n        const { currentFrame } = this.sessions;\n        if (!currentFrame) {\n            return undefined;\n        }\n        let variable: DebugVariable | undefined;\n        const scopes = await currentFrame.getScopes();\n        for (const scope of scopes) {\n            const found = await this.doFindVariable(scope, namesToFind);\n            if (!variable) {\n                variable = found;\n            } else if (found && found.value !== variable.value) {\n                // only show if all expressions found have the same value\n                return undefined;\n            }\n        }\n        return variable;\n    }\n    protected async doFindVariable(owner: ExpressionContainer, namesToFind: string[]): Promise<DebugVariable | undefined> {\n        const elements = await owner.getElements();\n        const variables: DebugVariable[] = [];\n        for (const element of elements) {\n            if (element instanceof DebugVariable && element.name === namesToFind[0]) {\n                variables.push(element);\n            }\n        }\n        if (variables.length !== 1) {\n            return undefined;\n        }\n        if (namesToFind.length === 1) {\n            return variables[0];\n        } else {\n            return this.doFindVariable(variables[0], namesToFind.slice(1));\n        }\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport debounce = require('@theia/core/shared/lodash.debounce');\n\nimport { ArrayUtils } from '@theia/core';\nimport { Key } from '@theia/core/lib/browser';\nimport { SourceTreeWidget } from '@theia/core/lib/browser/source-tree';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { Message } from '@theia/core/shared/@lumino/messaging';\nimport { Widget } from '@theia/core/shared/@lumino/widgets';\nimport { Container, inject, injectable, interfaces, postConstruct } from '@theia/core/shared/inversify';\nimport { URI as CodeUri } from '@theia/core/shared/vscode-uri';\nimport * as monaco from '@theia/monaco-editor-core';\nimport { CancellationTokenSource } from '@theia/monaco-editor-core/esm/vs/base/common/cancellation';\nimport { IEditorHoverOptions } from '@theia/monaco-editor-core/esm/vs/editor/common/config/editorOptions';\nimport { Position } from '@theia/monaco-editor-core/esm/vs/editor/common/core/position';\nimport { ILanguageFeaturesService } from '@theia/monaco-editor-core/esm/vs/editor/common/services/languageFeatures';\nimport { StandaloneServices } from '@theia/monaco-editor-core/esm/vs/editor/standalone/browser/standaloneServices';\nimport { IConfigurationService } from '@theia/monaco-editor-core/esm/vs/platform/configuration/common/configuration';\nimport { DebugVariable } from '../console/debug-console-items';\nimport { DebugSessionManager } from '../debug-session-manager';\nimport { DebugEditor } from './debug-editor';\nimport { DebugExpressionProvider } from './debug-expression-provider';\nimport { DebugHoverSource } from './debug-hover-source';\n\nexport interface ShowDebugHoverOptions {\n    selection: monaco.Range\n    /** default: false */\n    focus?: boolean\n    /** default: true */\n    immediate?: boolean\n}\n\nexport interface HideDebugHoverOptions {\n    /** default: true */\n    immediate?: boolean\n}\n\nexport function createDebugHoverWidgetContainer(parent: interfaces.Container, editor: DebugEditor): Container {\n    const child = SourceTreeWidget.createContainer(parent, {\n        virtualized: false\n    });\n    child.bind(DebugEditor).toConstantValue(editor);\n    child.bind(DebugHoverSource).toSelf();\n    child.unbind(SourceTreeWidget);\n    child.bind(DebugExpressionProvider).toSelf();\n    child.bind(DebugHoverWidget).toSelf();\n    return child;\n}\n\n@injectable()\nexport class DebugHoverWidget extends SourceTreeWidget implements monaco.editor.IContentWidget {\n\n    @inject(DebugEditor)\n    protected readonly editor: DebugEditor;\n\n    @inject(DebugSessionManager)\n    protected readonly sessions: DebugSessionManager;\n\n    @inject(DebugHoverSource)\n    protected readonly hoverSource: DebugHoverSource;\n\n    @inject(DebugExpressionProvider)\n    protected readonly expressionProvider: DebugExpressionProvider;\n\n    allowEditorOverflow = true;\n\n    protected suppressEditorHoverToDispose = new DisposableCollection();\n\n    static ID = 'debug.editor.hover';\n    getId(): string {\n        return DebugHoverWidget.ID;\n    }\n\n    protected readonly domNode = document.createElement('div');\n    protected readonly titleNode = document.createElement('div');\n    protected readonly contentNode = document.createElement('div');\n    getDomNode(): HTMLElement {\n        return this.domNode;\n    }\n\n    @postConstruct()\n    protected override init(): void {\n        super.init();\n        this.domNode.className = 'theia-debug-hover';\n        this.titleNode.className = 'theia-debug-hover-title';\n        this.domNode.appendChild(this.titleNode);\n        this.contentNode.className = 'theia-debug-hover-content';\n        this.domNode.appendChild(this.contentNode);\n\n        // for stopping scroll events from contentNode going to the editor\n        this.contentNode.addEventListener('wheel', e => e.stopPropagation());\n\n        this.editor.getControl().addContentWidget(this);\n        this.source = this.hoverSource;\n        this.toDispose.pushAll([\n            this.hoverSource,\n            Disposable.create(() => this.editor.getControl().removeContentWidget(this)),\n            Disposable.create(() => this.hide()),\n            this.sessions.onDidChange(() => {\n                if (!this.isEditorFrame()) {\n                    this.hide();\n                }\n            })\n        ]);\n    }\n\n    override dispose(): void {\n        this.suppressEditorHoverToDispose.dispose();\n        this.toDispose.dispose();\n    }\n\n    override show(options?: ShowDebugHoverOptions): void {\n        this.schedule(() => this.doShow(options), options && options.immediate);\n    }\n\n    override hide(options?: HideDebugHoverOptions): void {\n        this.schedule(() => this.doHide(), options && options.immediate);\n    }\n\n    protected readonly doSchedule = debounce((fn: () => void) => fn(), 300);\n    protected schedule(fn: () => void, immediate: boolean = true): void {\n        if (immediate) {\n            this.doSchedule.cancel();\n            fn();\n        } else {\n            this.doSchedule(fn);\n        }\n    }\n\n    protected options: ShowDebugHoverOptions | undefined;\n    protected doHide(): void {\n        if (!this.isVisible) {\n            return;\n        }\n        this.suppressEditorHoverToDispose.dispose();\n\n        if (this.domNode.contains(document.activeElement)) {\n            this.editor.getControl().focus();\n        }\n        if (this.isAttached) {\n            Widget.detach(this);\n        }\n        this.hoverSource.reset();\n        super.hide();\n        this.options = undefined;\n        this.editor.getControl().layoutContentWidget(this);\n    }\n\n    protected async doShow(options: ShowDebugHoverOptions | undefined = this.options): Promise<void> {\n        const cancellationSource = new CancellationTokenSource();\n\n        if (!this.isEditorFrame()) {\n            this.hide();\n            return;\n        }\n        if (!options) {\n            this.hide();\n            return;\n        }\n        if (this.options && this.options.selection.equalsRange(options.selection)) {\n            return;\n        }\n        if (!this.isAttached) {\n            Widget.attach(this, this.contentNode);\n        }\n\n        this.options = options;\n        let matchingExpression: string | undefined;\n\n        const pluginExpressionProvider = StandaloneServices.get(ILanguageFeaturesService).evaluatableExpressionProvider;\n        const textEditorModel = this.editor.document.textEditorModel;\n\n        if (pluginExpressionProvider && pluginExpressionProvider.has(textEditorModel)) {\n            const registeredProviders = pluginExpressionProvider.ordered(textEditorModel);\n            const position = new Position(this.options!.selection.startLineNumber, this.options!.selection.startColumn);\n\n            const promises = registeredProviders.map(support =>\n                Promise.resolve(support.provideEvaluatableExpression(textEditorModel, position, cancellationSource.token))\n            );\n\n            const results = await Promise.all(promises).then(ArrayUtils.coalesce);\n            if (results.length > 0) {\n                matchingExpression = results[0].expression;\n                const range = results[0].range;\n\n                if (!matchingExpression) {\n                    const lineContent = textEditorModel.getLineContent(position.lineNumber);\n                    matchingExpression = lineContent.substring(range.startColumn - 1, range.endColumn - 1);\n                }\n            }\n        } else { // use fallback if no provider was registered\n            const model = this.editor.getControl().getModel();\n            if (model) {\n\n                matchingExpression = this.expressionProvider.get(model, options.selection);\n                if (matchingExpression) {\n                    const expressionLineContent = model.getLineContent(this.options.selection.startLineNumber);\n                    const startColumn =\n                        expressionLineContent.indexOf(\n                            matchingExpression,\n                            this.options.selection.startColumn - matchingExpression.length\n                        ) + 1;\n                    const endColumn = startColumn + matchingExpression.length;\n                    this.options.selection = new monaco.Range(\n                        this.options.selection.startLineNumber,\n                        startColumn,\n                        this.options.selection.startLineNumber,\n                        endColumn\n                    );\n                }\n            }\n        }\n\n        if (!matchingExpression) {\n            this.hide();\n            return;\n        }\n        const toFocus = new DisposableCollection();\n        if (this.options.focus === true) {\n            toFocus.push(this.model.onNodeRefreshed(() => {\n                toFocus.dispose();\n                this.activate();\n            }));\n        }\n        const expression = await this.hoverSource.evaluate(matchingExpression);\n        if (!expression) {\n            toFocus.dispose();\n            this.hide();\n            return;\n        }\n\n        this.contentNode.hidden = false;\n        ['number', 'boolean', 'string'].forEach(token => this.titleNode.classList.remove(token));\n        this.domNode.classList.remove('complex-value');\n        if (expression.hasElements) {\n            this.domNode.classList.add('complex-value');\n        } else {\n            this.contentNode.hidden = true;\n            if (expression.type === 'number' || expression.type === 'boolean' || expression.type === 'string') {\n                this.titleNode.classList.add(expression.type);\n            } else if (!isNaN(+expression.value)) {\n                this.titleNode.classList.add('number');\n            } else if (DebugVariable.booleanRegex.test(expression.value)) {\n                this.titleNode.classList.add('boolean');\n            } else if (DebugVariable.stringRegex.test(expression.value)) {\n                this.titleNode.classList.add('string');\n            }\n        }\n\n        this.suppressEditorHover();\n\n        super.show();\n        await new Promise<void>(resolve => {\n            setTimeout(() => window.requestAnimationFrame(() => {\n                this.editor.getControl().layoutContentWidget(this);\n                resolve();\n            }), 0);\n        });\n    }\n\n    /**\n     * Suppress the default editor-contribution hover from Code.\n     * Otherwise, both `textdocument/hover` and the debug hovers are visible\n     * at the same time when hovering over a symbol.\n     * This will priorize the debug hover over the editor hover.\n     */\n    protected suppressEditorHover(): void {\n        const codeEditor = this.editor.getControl();\n        codeEditor.updateOptions({ hover: { enabled: false } });\n        this.suppressEditorHoverToDispose.push(Disposable.create(() => {\n            const model = codeEditor.getModel();\n            const overrides = {\n                resource: CodeUri.parse(this.editor.getResourceUri().toString()),\n                overrideIdentifier: model?.getLanguageId(),\n            };\n            const { enabled, delay, sticky } = StandaloneServices.get(IConfigurationService).getValue<IEditorHoverOptions>('editor.hover', overrides);\n            codeEditor.updateOptions({\n                hover: {\n                    enabled,\n                    delay,\n                    sticky\n                }\n            });\n        }));\n    }\n\n    protected isEditorFrame(): boolean {\n        return this.sessions.isCurrentEditorFrame(this.editor.getResourceUri());\n    }\n\n    getPosition(): monaco.editor.IContentWidgetPosition {\n        if (!this.isVisible) {\n            return undefined!;\n        }\n        const position = this.options && this.options.selection.getStartPosition();\n        return position\n            ? {\n                position: new monaco.Position(position.lineNumber, position.column),\n                preference: [\n                    monaco.editor.ContentWidgetPositionPreference.ABOVE,\n                    monaco.editor.ContentWidgetPositionPreference.BELOW,\n                ],\n            }\n            : undefined!;\n    }\n\n    protected override onUpdateRequest(msg: Message): void {\n        super.onUpdateRequest(msg);\n        const { expression } = this.hoverSource;\n        const value = expression && expression.value || '';\n        this.titleNode.textContent = value;\n        this.titleNode.title = value;\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        super.onAfterAttach(msg);\n        this.addKeyListener(this.domNode, Key.ESCAPE, () => this.hide());\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// Based on https://github.com/theia-ide/vscode/blob/standalone/0.19.x/src/vs/workbench/contrib/debug/browser/debugEditorContribution.ts\n\nimport { FrontendApplicationContribution } from '@theia/core/lib/browser/frontend-application-contribution';\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport * as monaco from '@theia/monaco-editor-core';\nimport { CancellationTokenSource } from '@theia/monaco-editor-core/esm/vs/base/common/cancellation';\nimport { DEFAULT_WORD_REGEXP } from '@theia/monaco-editor-core/esm/vs/editor/common/core/wordHelper';\nimport { IDecorationOptions } from '@theia/monaco-editor-core/esm/vs/editor/common/editorCommon';\nimport { StandardTokenType } from '@theia/monaco-editor-core/esm/vs/editor/common/encodedTokenAttributes';\nimport { InlineValueContext } from '@theia/monaco-editor-core/esm/vs/editor/common/languages';\nimport { ITextModel } from '@theia/monaco-editor-core/esm/vs/editor/common/model';\nimport { ILanguageFeaturesService } from '@theia/monaco-editor-core/esm/vs/editor/common/services/languageFeatures';\nimport { StandaloneServices } from '@theia/monaco-editor-core/esm/vs/editor/standalone/browser/standaloneServices';\nimport { DebugVariable, ExpressionContainer, ExpressionItem } from '../console/debug-console-items';\nimport { DebugPreferences } from '../debug-preferences';\nimport { DebugStackFrame } from '../model/debug-stack-frame';\nimport { DebugEditorModel } from './debug-editor-model';\nimport { ICodeEditorService } from '@theia/monaco-editor-core/esm/vs/editor/browser/services/codeEditorService';\n\n// https://github.com/theia-ide/vscode/blob/standalone/0.19.x/src/vs/workbench/contrib/debug/browser/debugEditorContribution.ts#L40-L43\nexport const INLINE_VALUE_DECORATION_KEY = 'inlinevaluedecoration';\nconst MAX_NUM_INLINE_VALUES = 100; // JS Global scope can have 700+ entries. We want to limit ourselves for perf reasons\nconst MAX_INLINE_DECORATOR_LENGTH = 150; // Max string length of each inline decorator when debugging. If exceeded ... is added\nconst MAX_TOKENIZATION_LINE_LEN = 500; // If line is too long, then inline values for the line are skipped\n\n/**\n * MAX SMI (SMall Integer) as defined in v8.\n * one bit is lost for boxing/unboxing flag.\n * one bit is lost for sign flag.\n * See https://thibaultlaurens.github.io/javascript/2013/04/29/how-the-v8-engine-works/#tagged-values\n */\n// https://github.com/theia-ide/vscode/blob/standalone/0.19.x/src/vs/base/common/uint.ts#L7-L13\nconst MAX_SAFE_SMALL_INTEGER = 1 << 30;\n\nclass InlineSegment {\n    constructor(public column: number, public text: string) {\n    }\n}\n\n@injectable()\nexport class DebugInlineValueDecorator implements FrontendApplicationContribution {\n    @inject(DebugPreferences)\n    protected readonly preferences: DebugPreferences;\n\n    protected enabled = false;\n    protected wordToLineNumbersMap: Map<string, monaco.Position[]> | undefined = new Map();\n\n    onStart(): void {\n        StandaloneServices.get(ICodeEditorService).registerDecorationType('Inline debug decorations', INLINE_VALUE_DECORATION_KEY, {});\n        this.enabled = !!this.preferences['debug.inlineValues'];\n        this.preferences.onPreferenceChanged(({ preferenceName, newValue }) => {\n            if (preferenceName === 'debug.inlineValues' && !!newValue !== this.enabled) {\n                this.enabled = !!newValue;\n            }\n        });\n    }\n\n    async calculateDecorations(debugEditorModel: DebugEditorModel, stackFrame: DebugStackFrame | undefined): Promise<IDecorationOptions[]> {\n        this.wordToLineNumbersMap = undefined;\n        const model = debugEditorModel.editor.getControl().getModel() || undefined;\n        return this.updateInlineValueDecorations(debugEditorModel, model, stackFrame);\n    }\n\n    // https://github.com/theia-ide/vscode/blob/standalone/0.19.x/src/vs/workbench/contrib/debug/browser/debugEditorContribution.ts#L382-L408\n    protected async updateInlineValueDecorations(\n        debugEditorModel: DebugEditorModel,\n        model: monaco.editor.ITextModel | undefined,\n        stackFrame: DebugStackFrame | undefined): Promise<IDecorationOptions[]> {\n\n        if (!this.enabled || !model || !stackFrame || !stackFrame.source || model.uri.toString() !== stackFrame.source.uri.toString()) {\n            return [];\n        }\n\n        // XXX: Here is a difference between the VS Code's `IStackFrame` and the `DebugProtocol.StackFrame`.\n        // In DAP, `source` is optional, hence `range` is optional too.\n        const { range: stackFrameRange } = stackFrame;\n        if (!stackFrameRange) {\n            return [];\n        }\n\n        const scopes = await stackFrame.getMostSpecificScopes(stackFrameRange);\n        // Get all top level children in the scope chain\n        const decorationsPerScope = await Promise.all(scopes.map(async scope => {\n            const children = Array.from(await scope.getElements());\n            let range = new monaco.Range(0, 0, stackFrameRange.startLineNumber, stackFrameRange.startColumn);\n            if (scope.range) {\n                range = range.setStartPosition(scope.range.startLineNumber, scope.range.startColumn);\n            }\n\n            return this.createInlineValueDecorationsInsideRange(children, range, model, debugEditorModel, stackFrame);\n        }));\n\n        return decorationsPerScope.reduce((previous, current) => previous.concat(current), []);\n    }\n\n    // https://github.com/theia-ide/vscode/blob/standalone/0.19.x/src/vs/workbench/contrib/debug/browser/debugEditorContribution.ts#L410-L452\n    private async createInlineValueDecorationsInsideRange(\n        expressions: ReadonlyArray<ExpressionContainer>,\n        range: monaco.Range,\n        model: monaco.editor.ITextModel,\n        debugEditorModel: DebugEditorModel,\n        stackFrame: DebugStackFrame): Promise<IDecorationOptions[]> {\n\n        const decorations: IDecorationOptions[] = [];\n\n        const inlineValuesProvider = StandaloneServices.get(ILanguageFeaturesService).inlineValuesProvider;\n        const textEditorModel = debugEditorModel.editor.document.textEditorModel;\n\n        if (inlineValuesProvider && inlineValuesProvider.has(textEditorModel)) {\n\n            const findVariable = async (variableName: string, caseSensitiveLookup: boolean): Promise<DebugVariable | undefined> => {\n                const scopes = await stackFrame.getMostSpecificScopes(stackFrame.range!);\n                const key = caseSensitiveLookup ? variableName : variableName.toLowerCase();\n                for (const scope of scopes) {\n                    const expressionContainers = await scope.getElements();\n                    let container = expressionContainers.next();\n                    while (!container.done) {\n                        const debugVariable = container.value;\n                        if (debugVariable && debugVariable instanceof DebugVariable) {\n                            if (caseSensitiveLookup) {\n                                if (debugVariable.name === key) {\n                                    return debugVariable;\n                                }\n                            } else {\n                                if (debugVariable.name.toLowerCase() === key) {\n                                    return debugVariable;\n                                }\n                            }\n                        }\n                        container = expressionContainers.next();\n                    }\n                }\n                return undefined;\n            };\n\n            const context: InlineValueContext = {\n                frameId: stackFrame.raw.id,\n                stoppedLocation: range\n            };\n\n            const cancellationToken = new CancellationTokenSource().token;\n            const registeredProviders = inlineValuesProvider.ordered(textEditorModel).reverse();\n            const visibleRanges = debugEditorModel.editor.getControl().getVisibleRanges();\n\n            const lineDecorations = new Map<number, InlineSegment[]>();\n\n            for (const provider of registeredProviders) {\n                for (const visibleRange of visibleRanges) {\n                    const result = await provider.provideInlineValues(textEditorModel, visibleRange, context, cancellationToken);\n                    if (result) {\n                        for (const inlineValue of result) {\n                            let text: string | undefined = undefined;\n                            switch (inlineValue.type) {\n                                case 'text':\n                                    text = inlineValue.text;\n                                    break;\n                                case 'variable': {\n                                    let varName = inlineValue.variableName;\n                                    if (!varName) {\n                                        const lineContent = model.getLineContent(inlineValue.range.startLineNumber);\n                                        varName = lineContent.substring(inlineValue.range.startColumn - 1, inlineValue.range.endColumn - 1);\n                                    }\n                                    const variable = await findVariable(varName, inlineValue.caseSensitiveLookup);\n                                    if (variable) {\n                                        text = this.formatInlineValue(varName, variable.value);\n                                    }\n                                    break;\n                                }\n                                case 'expression': {\n                                    let expr = inlineValue.expression;\n                                    if (!expr) {\n                                        const lineContent = model.getLineContent(inlineValue.range.startLineNumber);\n                                        expr = lineContent.substring(inlineValue.range.startColumn - 1, inlineValue.range.endColumn - 1);\n                                    }\n                                    if (expr) {\n                                        const expression = new ExpressionItem(expr, () => stackFrame.thread.session);\n                                        await expression.evaluate('watch');\n                                        if (expression.available) {\n                                            text = this.formatInlineValue(expr, expression.value);\n                                        }\n                                    }\n                                    break;\n                                }\n                            }\n\n                            if (text) {\n                                const line = inlineValue.range.startLineNumber;\n                                let lineSegments = lineDecorations.get(line);\n                                if (!lineSegments) {\n                                    lineSegments = [];\n                                    lineDecorations.set(line, lineSegments);\n                                }\n                                if (!lineSegments.some(segment => segment.text === text)) {\n                                    lineSegments.push(new InlineSegment(inlineValue.range.startColumn, text));\n                                }\n                            }\n                        }\n                    }\n                }\n            };\n\n            // sort line segments and concatenate them into a decoration\n            const separator = ', ';\n            lineDecorations.forEach((segments, line) => {\n                if (segments.length > 0) {\n                    segments = segments.sort((a, b) => a.column - b.column);\n                    const text = segments.map(s => s.text).join(separator);\n                    decorations.push(this.createInlineValueDecoration(line, text));\n                }\n            });\n\n        } else { // use fallback if no provider was registered\n            const lineToNamesMap: Map<number, string[]> = new Map<number, string[]>();\n            const nameValueMap = new Map<string, string>();\n            for (const expr of expressions) {\n                if (expr instanceof DebugVariable) { // XXX: VS Code uses `IExpression` that has `name` and `value`.\n                    nameValueMap.set(expr.name, expr.value);\n                }\n                // Limit the size of map. Too large can have a perf impact\n                if (nameValueMap.size >= MAX_NUM_INLINE_VALUES) {\n                    break;\n                }\n            }\n\n            const wordToPositionsMap = this.getWordToPositionsMap(model);\n\n            // Compute unique set of names on each line\n            nameValueMap.forEach((_, name) => {\n                const positions = wordToPositionsMap.get(name);\n                if (positions) {\n                    for (const position of positions) {\n                        if (range.containsPosition(position)) {\n                            if (!lineToNamesMap.has(position.lineNumber)) {\n                                lineToNamesMap.set(position.lineNumber, []);\n                            }\n\n                            if (lineToNamesMap.get(position.lineNumber)!.indexOf(name) === -1) {\n                                lineToNamesMap.get(position.lineNumber)!.push(name);\n                            }\n                        }\n                    }\n                }\n            });\n\n            // Compute decorators for each line\n            lineToNamesMap.forEach((names, line) => {\n                const contentText = names.sort((first, second) => {\n                    const content = model.getLineContent(line);\n                    return content.indexOf(first) - content.indexOf(second);\n                }).map(name => `${name} = ${nameValueMap.get(name)}`).join(', ');\n                decorations.push(this.createInlineValueDecoration(line, contentText));\n            });\n        }\n\n        return decorations;\n    }\n\n    protected formatInlineValue(...args: string[]): string {\n        const valuePattern = '{0} = {1}';\n        const formatRegExp = /{(\\d+)}/g;\n        if (args.length === 0) {\n            return valuePattern;\n        }\n        return valuePattern.replace(formatRegExp, (match, group) => {\n            const idx = parseInt(group, 10);\n            return isNaN(idx) || idx < 0 || idx >= args.length ?\n                match :\n                args[idx];\n        });\n    }\n\n    // https://github.com/theia-ide/vscode/blob/standalone/0.19.x/src/vs/workbench/contrib/debug/browser/debugEditorContribution.ts#L454-L485\n    private createInlineValueDecoration(lineNumber: number, contentText: string): IDecorationOptions {\n        // If decoratorText is too long, trim and add ellipses. This could happen for minified files with everything on a single line\n        if (contentText.length > MAX_INLINE_DECORATOR_LENGTH) {\n            contentText = contentText.substring(0, MAX_INLINE_DECORATOR_LENGTH) + '...';\n        }\n\n        return {\n            range: {\n                startLineNumber: lineNumber,\n                endLineNumber: lineNumber,\n                startColumn: MAX_SAFE_SMALL_INTEGER,\n                endColumn: MAX_SAFE_SMALL_INTEGER\n            },\n            renderOptions: {\n                after: {\n                    contentText,\n                    backgroundColor: 'rgba(255, 200, 0, 0.2)',\n                    margin: '10px'\n                },\n                dark: {\n                    after: {\n                        color: 'rgba(255, 255, 255, 0.5)',\n                    }\n                },\n                light: {\n                    after: {\n                        color: 'rgba(0, 0, 0, 0.5)',\n                    }\n                }\n            }\n        };\n    }\n\n    // https://github.com/theia-ide/vscode/blob/standalone/0.19.x/src/vs/workbench/contrib/debug/browser/debugEditorContribution.ts#L487-L531\n    private getWordToPositionsMap(model: monaco.editor.ITextModel | ITextModel): Map<string, monaco.Position[]> {\n        model = model as ITextModel;\n        if (!this.wordToLineNumbersMap) {\n            this.wordToLineNumbersMap = new Map<string, monaco.Position[]>();\n            if (!model) {\n                return this.wordToLineNumbersMap;\n            }\n\n            // For every word in every line, map its ranges for fast lookup\n            for (let lineNumber = 1, len = model.getLineCount(); lineNumber <= len; ++lineNumber) {\n                const lineContent = model.getLineContent(lineNumber);\n\n                // If line is too long then skip the line\n                if (lineContent.length > MAX_TOKENIZATION_LINE_LEN) {\n                    continue;\n                }\n\n                model.tokenization.forceTokenization(lineNumber);\n                const lineTokens = model.tokenization.getLineTokens(lineNumber);\n                for (let tokenIndex = 0, tokenCount = lineTokens.getCount(); tokenIndex < tokenCount; tokenIndex++) {\n                    const tokenStartOffset = lineTokens.getStartOffset(tokenIndex);\n                    const tokenEndOffset = lineTokens.getEndOffset(tokenIndex);\n                    const tokenType = lineTokens.getStandardTokenType(tokenIndex);\n                    const tokenStr = lineContent.substring(tokenStartOffset, tokenEndOffset);\n\n                    // Token is a word and not a comment\n                    if (tokenType === StandardTokenType.Other) {\n                        DEFAULT_WORD_REGEXP.lastIndex = 0; // We assume tokens will usually map 1:1 to words if they match\n                        const wordMatch = DEFAULT_WORD_REGEXP.exec(tokenStr);\n\n                        if (wordMatch) {\n                            const word = wordMatch[0];\n                            if (!this.wordToLineNumbersMap.has(word)) {\n                                this.wordToLineNumbersMap.set(word, []);\n                            }\n\n                            this.wordToLineNumbersMap.get(word)!.push(new monaco.Position(lineNumber, tokenStartOffset));\n                        }\n                    }\n                }\n            }\n        }\n\n        return this.wordToLineNumbersMap;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from '@theia/core/shared/react';\nimport { DebugProtocol } from '@vscode/debugprotocol/lib/debugProtocol';\nimport URI from '@theia/core/lib/common/uri';\nimport { EditorManager } from '@theia/editor/lib/browser';\nimport { LabelProvider, DISABLED_CLASS } from '@theia/core/lib/browser';\nimport { TreeElement } from '@theia/core/lib/browser/source-tree';\nimport { DebugSession } from '../debug-session';\nimport { BaseBreakpoint } from '../breakpoint/breakpoint-marker';\nimport { BreakpointManager } from '../breakpoint/breakpoint-manager';\n\nexport class DebugBreakpointData {\n    readonly raw?: DebugProtocol.Breakpoint;\n}\n\nexport class DebugBreakpointOptions {\n    readonly labelProvider: LabelProvider;\n    readonly breakpoints: BreakpointManager;\n    readonly editorManager: EditorManager;\n    readonly session?: DebugSession;\n}\n\nexport class DebugBreakpointDecoration {\n    readonly className: string;\n    readonly message: string[];\n}\n\nexport abstract class DebugBreakpoint<T extends BaseBreakpoint = BaseBreakpoint> extends DebugBreakpointOptions implements TreeElement {\n\n    readonly raw?: DebugProtocol.Breakpoint;\n\n    constructor(\n        readonly uri: URI,\n        options: DebugBreakpointOptions\n    ) {\n        super();\n        Object.assign(this, options);\n    }\n\n    abstract get origin(): T;\n\n    update(data: DebugBreakpointData): void {\n        Object.assign(this, data);\n    }\n\n    get idFromAdapter(): number | undefined {\n        return this.raw && this.raw.id;\n    }\n\n    get id(): string {\n        return this.origin.id;\n    }\n\n    get enabled(): boolean {\n        return this.breakpoints.breakpointsEnabled && this.origin.enabled;\n    }\n\n    get installed(): boolean {\n        return !!this.raw;\n    }\n\n    get verified(): boolean {\n        return !!this.raw ? this.raw.verified : true;\n    }\n\n    get message(): string {\n        return this.raw && this.raw.message || '';\n    }\n\n    abstract setEnabled(enabled: boolean): void;\n\n    abstract remove(): void;\n\n    protected readonly setBreakpointEnabled = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setEnabled(event.target.checked);\n    };\n\n    render(): React.ReactNode {\n        const classNames = ['theia-source-breakpoint'];\n        if (!this.isEnabled()) {\n            classNames.push(DISABLED_CLASS);\n        }\n        const decoration = this.getDecoration();\n        return <div title={decoration.message.join('\\n')} className={classNames.join(' ')}>\n            <span className={'theia-debug-breakpoint-icon codicon ' + decoration.className} />\n            <input className='theia-input' type='checkbox' checked={this.origin.enabled} onChange={this.setBreakpointEnabled} />\n            {this.doRender()}\n        </div>;\n    }\n\n    protected isEnabled(): boolean {\n        return this.breakpoints.breakpointsEnabled && this.verified;\n    }\n\n    protected abstract doRender(): React.ReactNode;\n\n    getDecoration(): DebugBreakpointDecoration {\n        if (!this.enabled) {\n            return this.getDisabledBreakpointDecoration();\n        }\n        if (this.installed && !this.verified) {\n            return this.getUnverifiedBreakpointDecoration();\n        }\n        return this.doGetDecoration();\n    }\n\n    protected getUnverifiedBreakpointDecoration(): DebugBreakpointDecoration {\n        const decoration = this.getBreakpointDecoration();\n        return {\n            className: decoration.className + '-unverified',\n            message: [this.message || 'Unverified ' + decoration.message[0]]\n        };\n    }\n\n    protected getDisabledBreakpointDecoration(message?: string): DebugBreakpointDecoration {\n        const decoration = this.getBreakpointDecoration();\n        return {\n            className: decoration.className + '-disabled',\n            message: [message || ('Disabled ' + decoration.message[0])]\n        };\n    }\n\n    protected doGetDecoration(messages: string[] = []): DebugBreakpointDecoration {\n        if (this.message) {\n            if (messages.length) {\n                messages[messages.length - 1].concat(', ' + this.message);\n            } else {\n                messages.push(this.message);\n            }\n        }\n        return this.getBreakpointDecoration(messages);\n    }\n\n    protected abstract getBreakpointDecoration(message?: string[]): DebugBreakpointDecoration;\n\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from '@theia/core/shared/react';\nimport { TreeElement } from '@theia/core/lib/browser/source-tree';\nimport { FunctionBreakpoint } from '../breakpoint/breakpoint-marker';\nimport { BreakpointManager } from '../breakpoint/breakpoint-manager';\nimport { DebugBreakpoint, DebugBreakpointOptions, DebugBreakpointDecoration } from './debug-breakpoint';\nimport { SingleTextInputDialog } from '@theia/core/lib/browser/dialogs';\nimport { nls } from '@theia/core';\n\nexport class DebugFunctionBreakpoint extends DebugBreakpoint<FunctionBreakpoint> implements TreeElement {\n\n    constructor(readonly origin: FunctionBreakpoint, options: DebugBreakpointOptions) {\n        super(BreakpointManager.FUNCTION_URI, options);\n    }\n\n    setEnabled(enabled: boolean): void {\n        const breakpoints = this.breakpoints.getFunctionBreakpoints();\n        const breakpoint = breakpoints.find(b => b.id === this.id);\n        if (breakpoint && breakpoint.enabled !== enabled) {\n            breakpoint.enabled = enabled;\n            this.breakpoints.setFunctionBreakpoints(breakpoints);\n        }\n    }\n\n    protected override isEnabled(): boolean {\n        return super.isEnabled() && this.isSupported();\n    }\n\n    protected isSupported(): boolean {\n        const { session } = this;\n        return !session || !!session.capabilities.supportsFunctionBreakpoints;\n    }\n\n    remove(): void {\n        const breakpoints = this.breakpoints.getFunctionBreakpoints();\n        const newBreakpoints = breakpoints.filter(b => b.id !== this.id);\n        if (breakpoints.length !== newBreakpoints.length) {\n            this.breakpoints.setFunctionBreakpoints(newBreakpoints);\n        }\n    }\n\n    get name(): string {\n        return this.origin.raw.name;\n    }\n\n    protected doRender(): React.ReactNode {\n        return <span className='line-info'>{this.name}</span>;\n    }\n\n    protected override doGetDecoration(): DebugBreakpointDecoration {\n        if (!this.isSupported()) {\n            return this.getDisabledBreakpointDecoration(nls.localizeByDefault('Function breakpoints are not supported by this debug type'));\n        }\n        return super.doGetDecoration();\n    }\n\n    protected getBreakpointDecoration(message?: string[]): DebugBreakpointDecoration {\n        return {\n            className: 'codicon-debug-breakpoint-function',\n            message: message || [nls.localizeByDefault('Function Breakpoint')]\n        };\n    }\n\n    async open(): Promise<void> {\n        const input = new SingleTextInputDialog({\n            title: nls.localizeByDefault('Add Function Breakpoint'),\n            initialValue: this.name\n        });\n        const newValue = await input.open();\n        if (newValue !== undefined && newValue !== this.name) {\n            const breakpoints = this.breakpoints.getFunctionBreakpoints();\n            const breakpoint = breakpoints.find(b => b.id === this.id);\n            if (breakpoint) {\n                if (breakpoint.raw.name !== newValue) {\n                    breakpoint.raw.name = newValue;\n                    this.breakpoints.setFunctionBreakpoints(breakpoints);\n                }\n            } else {\n                this.origin.raw.name = newValue;\n                breakpoints.push(this.origin);\n                this.breakpoints.setFunctionBreakpoints(breakpoints);\n            }\n        }\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { nls } from '@theia/core';\nimport * as React from '@theia/core/shared/react';\nimport { BreakpointManager } from '../breakpoint/breakpoint-manager';\nimport { InstructionBreakpoint } from '../breakpoint/breakpoint-marker';\nimport { DebugBreakpoint, DebugBreakpointDecoration, DebugBreakpointOptions } from './debug-breakpoint';\n\nexport class DebugInstructionBreakpoint extends DebugBreakpoint<InstructionBreakpoint> {\n    constructor(readonly origin: InstructionBreakpoint, options: DebugBreakpointOptions) {\n        super(BreakpointManager.INSTRUCTION_URI, options);\n    }\n\n    setEnabled(enabled: boolean): void {\n        if (enabled !== this.origin.enabled) {\n            this.breakpoints.updateInstructionBreakpoint(this.origin.id, { enabled });\n        }\n    }\n\n    protected override isEnabled(): boolean {\n        return super.isEnabled() && this.isSupported();\n    }\n\n    protected isSupported(): boolean {\n        return Boolean(this.session?.capabilities.supportsInstructionBreakpoints);\n    }\n\n    remove(): void {\n        this.breakpoints.removeInstructionBreakpoint(this.origin.instructionReference);\n    }\n\n    protected doRender(): React.ReactNode {\n        return <span className=\"line-info\">{this.origin.instructionReference}</span>;\n    }\n\n    protected getBreakpointDecoration(message?: string[]): DebugBreakpointDecoration {\n        if (!this.isSupported()) {\n            return {\n                className: 'codicon-debug-breakpoint-unsupported',\n                message: message ?? [nls.localize('theia/debug/instruction-breakpoint', 'Instruction Breakpoint')],\n            };\n        }\n        if (this.origin.condition || this.origin.hitCondition) {\n            return {\n                className: 'codicon-debug-breakpoint-conditional',\n                message: message || [nls.localizeByDefault('Conditional Breakpoint...')]\n            };\n        }\n        return {\n            className: 'codicon-debug-breakpoint',\n            message: message || [nls.localize('theia/debug/instruction-breakpoint', 'Instruction Breakpoint')]\n        };\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from '@theia/core/shared/react';\nimport { DebugProtocol } from '@vscode/debugprotocol/lib/debugProtocol';\nimport { RecursivePartial } from '@theia/core';\nimport URI from '@theia/core/lib/common/uri';\nimport { EditorWidget, Range } from '@theia/editor/lib/browser';\nimport { TREE_NODE_INFO_CLASS, WidgetOpenerOptions } from '@theia/core/lib/browser';\nimport { TreeElement } from '@theia/core/lib/browser/source-tree';\nimport { SourceBreakpoint } from '../breakpoint/breakpoint-marker';\nimport { DebugSource } from './debug-source';\nimport { DebugBreakpoint, DebugBreakpointOptions, DebugBreakpointData, DebugBreakpointDecoration } from './debug-breakpoint';\n\nexport class DebugSourceBreakpointData extends DebugBreakpointData {\n    readonly origins: SourceBreakpoint[];\n}\n\nexport class DebugSourceBreakpoint extends DebugBreakpoint<SourceBreakpoint> implements TreeElement {\n\n    readonly origins: SourceBreakpoint[];\n\n    constructor(origin: SourceBreakpoint, options: DebugBreakpointOptions) {\n        super(new URI(origin.uri), options);\n        this.origins = [origin];\n    }\n\n    override update(data: Partial<DebugSourceBreakpointData>): void {\n        super.update(data);\n    }\n\n    get origin(): SourceBreakpoint {\n        return this.origins[0];\n    }\n\n    setEnabled(enabled: boolean): void {\n        const { uri, raw } = this;\n        let shouldUpdate = false;\n        let breakpoints = raw && this.doRemove(this.origins.filter(origin => !(origin.raw.line === raw.line && origin.raw.column === raw.column)));\n        // Check for breakpoints array with at least one entry\n        if (breakpoints && breakpoints.length) {\n            shouldUpdate = true;\n        } else {\n            breakpoints = this.breakpoints.getBreakpoints(uri);\n        }\n        for (const breakpoint of breakpoints) {\n            if (breakpoint.raw.line === this.origin.raw.line && breakpoint.raw.column === this.origin.raw.column && breakpoint.enabled !== enabled) {\n                breakpoint.enabled = enabled;\n                shouldUpdate = true;\n            }\n        }\n        if (shouldUpdate) {\n            this.breakpoints.setBreakpoints(this.uri, breakpoints);\n        }\n    }\n\n    updateOrigins(data: Partial<DebugProtocol.SourceBreakpoint>): void {\n        const breakpoints = this.breakpoints.getBreakpoints(this.uri);\n        let shouldUpdate = false;\n        const originPositions = new Set();\n        this.origins.forEach(origin => originPositions.add(origin.raw.line + ':' + origin.raw.column));\n        for (const breakpoint of breakpoints) {\n            if (originPositions.has(breakpoint.raw.line + ':' + breakpoint.raw.column)) {\n                Object.assign(breakpoint.raw, data);\n                shouldUpdate = true;\n            }\n        }\n        if (shouldUpdate) {\n            this.breakpoints.setBreakpoints(this.uri, breakpoints);\n        }\n    }\n\n    /** 1-based */\n    get line(): number {\n        return this.raw && this.raw.line || this.origins[0].raw.line;\n    }\n    get column(): number | undefined {\n        return this.raw && this.raw.column || this.origins[0].raw.column;\n    }\n    get endLine(): number | undefined {\n        return this.raw && this.raw.endLine;\n    }\n    get endColumn(): number | undefined {\n        return this.raw && this.raw.endColumn;\n    }\n\n    get condition(): string | undefined {\n        return this.origin.raw.condition;\n    }\n    get hitCondition(): string | undefined {\n        return this.origin.raw.hitCondition;\n    }\n    get logMessage(): string | undefined {\n        return this.origin.raw.logMessage;\n    }\n\n    get source(): DebugSource | undefined {\n        return this.raw && this.raw.source && this.session && this.session.getSource(this.raw.source);\n    }\n\n    async open(options: WidgetOpenerOptions = {\n        mode: 'reveal'\n    }): Promise<EditorWidget> {\n        const { line, column, endLine, endColumn } = this;\n        const selection: RecursivePartial<Range> = {\n            start: {\n                line: line - 1,\n                character: typeof column === 'number' ? column - 1 : undefined\n            }\n        };\n        if (typeof endLine === 'number') {\n            selection.end = {\n                line: endLine - 1,\n                character: typeof endColumn === 'number' ? endColumn - 1 : undefined\n            };\n        }\n        if (this.source) {\n            return await this.source.open({\n                ...options,\n                selection\n            });\n        } else {\n            return await this.editorManager.open(this.uri, {\n                ...options,\n                selection\n            });\n        }\n    }\n\n    protected override setBreakpointEnabled = (event: React.ChangeEvent<HTMLInputElement>) => {\n        this.setEnabled(event.target.checked);\n    };\n\n    protected doRender(): React.ReactNode {\n        return <React.Fragment>\n            <span className='line-info' title={this.labelProvider.getLongName(this.uri)}>\n                <span className='name'>{this.labelProvider.getName(this.uri)} </span>\n                <span className={'path ' + TREE_NODE_INFO_CLASS}>{this.labelProvider.getLongName(this.uri.parent)} </span>\n            </span>\n            <span className='line'>{this.renderPosition()}</span>\n        </React.Fragment>;\n    }\n\n    renderPosition(): string {\n        return this.line + (typeof this.column === 'number' ? ':' + this.column : '');\n    }\n\n    override doGetDecoration(messages: string[] = []): DebugBreakpointDecoration {\n        if (this.logMessage || this.condition || this.hitCondition) {\n            const { session } = this;\n            if (this.logMessage) {\n                if (session && !session.capabilities.supportsLogPoints) {\n                    return this.getUnsupportedBreakpointDecoration('Logpoints not supported by this debug type');\n                }\n                messages.push('Log Message: ' + this.logMessage);\n            }\n            if (this.condition) {\n                if (session && !session.capabilities.supportsConditionalBreakpoints) {\n                    return this.getUnsupportedBreakpointDecoration('Conditional breakpoints not supported by this debug type');\n                }\n                messages.push('Expression: ' + this.condition);\n            }\n            if (this.hitCondition) {\n                if (session && !session.capabilities.supportsHitConditionalBreakpoints) {\n                    return this.getUnsupportedBreakpointDecoration('Hit conditional breakpoints not supported by this debug type');\n                }\n                messages.push('Hit Count: ' + this.hitCondition);\n            }\n        }\n        return super.doGetDecoration(messages);\n    }\n\n    protected getUnsupportedBreakpointDecoration(message: string): DebugBreakpointDecoration {\n        return {\n            className: 'codicon-debug-breakpoint-unsupported',\n            message: [message]\n        };\n    }\n\n    protected getBreakpointDecoration(message?: string[]): DebugBreakpointDecoration {\n        if (this.logMessage) {\n            return {\n                className: 'codicon-debug-breakpoint-log',\n                message: message || ['Logpoint']\n            };\n        }\n        if (this.condition || this.hitCondition) {\n            return {\n                className: 'codicon-debug-breakpoint-conditional',\n                message: message || ['Conditional Breakpoint']\n            };\n        }\n        return {\n            className: 'codicon-debug-breakpoint',\n            message: message || ['Breakpoint']\n        };\n    }\n\n    remove(): void {\n        const breakpoints = this.doRemove(this.origins);\n        if (breakpoints) {\n            this.breakpoints.setBreakpoints(this.uri, breakpoints);\n        }\n    }\n    protected doRemove(origins: SourceBreakpoint[]): SourceBreakpoint[] | undefined {\n        if (!origins.length) {\n            return undefined;\n        }\n        const { uri } = this;\n        const toRemove = new Set();\n        origins.forEach(origin => toRemove.add(origin.raw.line + ':' + origin.raw.column));\n        let shouldUpdate = false;\n        const breakpoints = this.breakpoints.findMarkers({\n            uri,\n            dataFilter: data => {\n                const result = !toRemove.has(data.raw.line + ':' + data.raw.column);\n                shouldUpdate = shouldUpdate || !result;\n                return result;\n            }\n        }).map(({ data }) => data);\n        return shouldUpdate && breakpoints || undefined;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { LabelProvider } from '@theia/core/lib/browser';\nimport { EditorManager, EditorOpenerOptions, EditorWidget } from '@theia/editor/lib/browser';\nimport URI from '@theia/core/lib/common/uri';\nimport { DebugProtocol } from '@vscode/debugprotocol/lib/debugProtocol';\nimport { DebugSession } from '../debug-session';\nimport { URI as Uri } from '@theia/core/shared/vscode-uri';\nimport { DEBUG_SCHEME, SCHEME_PATTERN } from '../../common/debug-uri-utils';\n\nexport class DebugSourceData {\n    readonly raw: DebugProtocol.Source;\n}\n\nexport class DebugSource extends DebugSourceData {\n\n    constructor(\n        protected readonly session: DebugSession,\n        protected readonly editorManager: EditorManager,\n        protected readonly labelProvider: LabelProvider\n    ) {\n        super();\n    }\n\n    get uri(): URI {\n        return DebugSource.toUri(this.raw);\n    }\n\n    update(data: Partial<DebugSourceData>): void {\n        Object.assign(this, data);\n    }\n\n    open(options?: EditorOpenerOptions): Promise<EditorWidget> {\n        return this.editorManager.open(this.uri, options);\n    }\n\n    async load(): Promise<string> {\n        const source = this.raw;\n        const sourceReference = source.sourceReference!;\n        const response = await this.session.sendRequest('source', {\n            sourceReference,\n            source\n        });\n        return response.body.content;\n    }\n\n    get inMemory(): boolean {\n        return this.uri.scheme === DEBUG_SCHEME;\n    }\n\n    get name(): string {\n        if (this.inMemory) {\n            return this.raw.name || this.uri.path.base || this.uri.path.fsPath();\n        }\n        return this.labelProvider.getName(this.uri);\n    }\n\n    get longName(): string {\n        if (this.inMemory) {\n            return this.name;\n        }\n        return this.labelProvider.getLongName(this.uri);\n    }\n\n    static SCHEME = DEBUG_SCHEME;\n    static SCHEME_PATTERN = SCHEME_PATTERN;\n    static toUri(raw: DebugProtocol.Source): URI {\n        if (raw.sourceReference && raw.sourceReference > 0) {\n            return new URI().withScheme(DEBUG_SCHEME).withPath(raw.name!).withQuery(String(raw.sourceReference));\n        }\n        if (!raw.path) {\n            throw new Error('Unrecognized source type: ' + JSON.stringify(raw));\n        }\n        if (raw.path.match(SCHEME_PATTERN)) {\n            return new URI(raw.path);\n        }\n        return new URI(Uri.file(raw.path));\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// Based on https://github.com/theia-ide/vscode/blob/standalone/0.19.x/src/vs/workbench/contrib/debug/common/debugModel.ts\n\nimport * as React from '@theia/core/shared/react';\nimport { WidgetOpenerOptions, DISABLED_CLASS } from '@theia/core/lib/browser';\nimport { EditorWidget, Range, Position } from '@theia/editor/lib/browser';\nimport { DebugProtocol } from '@vscode/debugprotocol/lib/debugProtocol';\nimport { TreeElement } from '@theia/core/lib/browser/source-tree';\nimport { DebugScope } from '../console/debug-console-items';\nimport { DebugSource } from './debug-source';\nimport { RecursivePartial } from '@theia/core';\nimport { DebugSession } from '../debug-session';\nimport { DebugThread } from './debug-thread';\nimport * as monaco from '@theia/monaco-editor-core';\n\nexport class DebugStackFrameData {\n    readonly raw: DebugProtocol.StackFrame;\n}\n\nexport class DebugStackFrame extends DebugStackFrameData implements TreeElement {\n\n    constructor(\n        readonly thread: DebugThread,\n        readonly session: DebugSession\n    ) {\n        super();\n    }\n\n    get id(): string {\n        return this.session.id + ':' + this.thread.id + ':' + this.raw.id;\n    }\n\n    /**\n     * Returns the frame identifier from the debug protocol.\n     */\n    get frameId(): number {\n        return this.raw.id;\n    }\n\n    protected _source: DebugSource | undefined;\n    get source(): DebugSource | undefined {\n        return this._source;\n    }\n    update(data: Partial<DebugStackFrameData>): void {\n        Object.assign(this, data);\n        this._source = this.raw.source && this.session.getSource(this.raw.source);\n    }\n\n    async restart(): Promise<void> {\n        await this.session.sendRequest('restartFrame', this.toArgs({\n            threadId: this.thread.id\n        }));\n    }\n\n    async open(options?: WidgetOpenerOptions): Promise<EditorWidget | undefined> {\n        if (!this.source) {\n            return undefined;\n        }\n        const { line, column, endLine, endColumn } = this.raw;\n        const selection: RecursivePartial<Range> = {\n            start: Position.create(this.clampPositive(line - 1), this.clampPositive(column - 1))\n        };\n        if (typeof endLine === 'number') {\n            selection.end = {\n                line: this.clampPositive(endLine - 1),\n                character: typeof endColumn === 'number' ? this.clampPositive(endColumn - 1) : undefined\n            };\n        }\n        this.source.open({\n            mode: 'reveal',\n            ...options,\n            selection\n        });\n    }\n\n    /**\n     * Debugger can send `column: 0` value despite of initializing the debug session with `columnsStartAt1: true`.\n     * This method can be used to ensure that neither `column` nor `column` are negative numbers.\n     * See https://github.com/microsoft/vscode-mock-debug/issues/85.\n     */\n    protected clampPositive(value: number): number {\n        return Math.max(value, 0);\n    }\n\n    protected scopes: Promise<DebugScope[]> | undefined;\n    getScopes(): Promise<DebugScope[]> {\n        return this.scopes || (this.scopes = this.doGetScopes());\n    }\n    protected async doGetScopes(): Promise<DebugScope[]> {\n        let response;\n        try {\n            response = await this.session.sendRequest('scopes', this.toArgs());\n        } catch {\n            // no-op: ignore debug adapter errors\n        }\n        if (!response) {\n            return [];\n        }\n        return response.body.scopes.map(raw => new DebugScope(raw, () => this.session));\n    }\n\n    // https://github.com/theia-ide/vscode/blob/standalone/0.19.x/src/vs/workbench/contrib/debug/common/debugModel.ts#L324-L335\n    async getMostSpecificScopes(range: monaco.IRange): Promise<DebugScope[]> {\n        const scopes = await this.getScopes();\n        const nonExpensiveScopes = scopes.filter(s => !s.expensive);\n        const haveRangeInfo = nonExpensiveScopes.some(s => !!s.range);\n        if (!haveRangeInfo) {\n            return nonExpensiveScopes;\n        }\n\n        const scopesContainingRange = nonExpensiveScopes.filter(scope => scope.range && monaco.Range.containsRange(scope.range, range))\n            .sort((first, second) => (first.range!.endLineNumber - first.range!.startLineNumber) - (second.range!.endLineNumber - second.range!.startLineNumber));\n        return scopesContainingRange.length ? scopesContainingRange : nonExpensiveScopes;\n    }\n\n    protected toArgs<T extends object>(arg?: T): { frameId: number } & T {\n        return Object.assign({}, arg, {\n            frameId: this.raw.id\n        });\n    }\n\n    render(): React.ReactNode {\n        const classNames = ['theia-debug-stack-frame'];\n        if (this.raw.presentationHint === 'label') {\n            classNames.push('label');\n        }\n        if (this.raw.presentationHint === 'subtle') {\n            classNames.push('subtle');\n        }\n        if (!this.source || this.source.raw.presentationHint === 'deemphasize') {\n            classNames.push(DISABLED_CLASS);\n        }\n        return <div className={classNames.join(' ')}>\n            <span className='expression' title={this.raw.name}>{this.raw.name}</span>\n            {this.renderFile()}\n        </div>;\n    }\n    protected renderFile(): React.ReactNode {\n        const { source } = this;\n        if (!source) {\n            return undefined;\n        }\n        const origin = source.raw.origin && `\\n${source.raw.origin}` || '';\n        return <span className='file' title={source.longName + origin}>\n            <span className='name'>{source.name}</span>\n            <span className='line'>{this.raw.line}:{this.raw.column}</span>\n        </span>;\n    }\n\n    get range(): monaco.IRange | undefined {\n        const { source, line: startLine, column: startColumn, endLine, endColumn } = this.raw;\n        if (source) {\n            return new monaco.Range(startLine, startColumn, endLine || startLine, endColumn || startColumn);\n        }\n        return undefined;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from '@theia/core/shared/react';\nimport { CancellationTokenSource, Emitter, Event, MessageType, nls } from '@theia/core';\nimport { DebugProtocol } from '@vscode/debugprotocol/lib/debugProtocol';\nimport { TreeElement } from '@theia/core/lib/browser/source-tree';\nimport { DebugStackFrame } from './debug-stack-frame';\nimport { DebugSession } from '../debug-session';\nimport * as monaco from '@theia/monaco-editor-core';\nimport URI from '@theia/core/lib/common/uri';\n\nexport type StoppedDetails = DebugProtocol.StoppedEvent['body'] & {\n    framesErrorMessage?: string\n    totalFrames?: number\n};\n\nexport class DebugThreadData {\n    readonly raw: DebugProtocol.Thread;\n    readonly stoppedDetails: StoppedDetails | undefined;\n}\n\nexport interface DebugExceptionInfo {\n    id?: string\n    description?: string\n    details?: DebugProtocol.ExceptionDetails\n}\n\nexport class DebugThread extends DebugThreadData implements TreeElement {\n\n    protected readonly onDidChangedEmitter = new Emitter<void>();\n    readonly onDidChanged: Event<void> = this.onDidChangedEmitter.event;\n    protected readonly onDidFocusStackFrameEmitter = new Emitter<DebugStackFrame | undefined>();\n    get onDidFocusStackFrame(): Event<DebugStackFrame | undefined> {\n        return this.onDidFocusStackFrameEmitter.event;\n    }\n\n    constructor(\n        readonly session: DebugSession\n    ) {\n        super();\n    }\n\n    get id(): string {\n        return this.session.id + ':' + this.raw.id;\n    }\n\n    get threadId(): number {\n        return this.raw.id;\n    }\n\n    protected _currentFrame: DebugStackFrame | undefined;\n    get currentFrame(): DebugStackFrame | undefined {\n        return this._currentFrame;\n    }\n    set currentFrame(frame: DebugStackFrame | undefined) {\n        if (this._currentFrame?.id === frame?.id) {\n            return;\n        }\n        this._currentFrame = frame;\n        this.onDidChangedEmitter.fire(undefined);\n        this.onDidFocusStackFrameEmitter.fire(frame);\n    }\n\n    get stopped(): boolean {\n        return !!this.stoppedDetails;\n    }\n\n    update(data: Partial<DebugThreadData>): void {\n        Object.assign(this, data);\n        if ('stoppedDetails' in data) {\n            this.clearFrames();\n        }\n    }\n\n    clear(): void {\n        this.update({\n            raw: this.raw,\n            stoppedDetails: undefined\n        });\n    }\n\n    continue(): Promise<DebugProtocol.ContinueResponse> {\n        return this.session.sendRequest('continue', this.toArgs());\n    }\n\n    stepOver(): Promise<DebugProtocol.NextResponse> {\n        return this.session.sendRequest('next', this.toArgs());\n    }\n\n    stepIn(): Promise<DebugProtocol.StepInResponse> {\n        return this.session.sendRequest('stepIn', this.toArgs());\n    }\n\n    stepOut(): Promise<DebugProtocol.StepOutResponse> {\n        return this.session.sendRequest('stepOut', this.toArgs());\n    }\n\n    pause(): Promise<DebugProtocol.PauseResponse> {\n        return this.session.sendRequest('pause', this.toArgs());\n    }\n\n    get supportsGoto(): boolean {\n        return !!this.session.capabilities.supportsGotoTargetsRequest;\n    }\n\n    async jumpToCursor(uri: URI, position: monaco.Position): Promise<DebugProtocol.GotoResponse | undefined> {\n        const source = await this.session?.toDebugSource(uri);\n\n        if (!source) {\n            return undefined;\n        }\n\n        const response: DebugProtocol.GotoTargetsResponse = await this.session.sendRequest('gotoTargets', { source, line: position.lineNumber, column: position.column });\n\n        if (response && response.body.targets.length === 0) {\n            this.session.showMessage(MessageType.Warning, 'No executable code is associated at the current cursor position.');\n            return;\n        }\n\n        const targetId = response.body.targets[0].id;\n        return this.session.sendRequest('goto', this.toArgs({ targetId }));\n    }\n\n    async getExceptionInfo(): Promise<DebugExceptionInfo | undefined> {\n        if (this.stoppedDetails && this.stoppedDetails.reason === 'exception') {\n            if (this.session.capabilities.supportsExceptionInfoRequest) {\n                const response = await this.session.sendRequest('exceptionInfo', this.toArgs());\n                return {\n                    id: response.body.exceptionId,\n                    description: response.body.description,\n                    details: response.body.details\n                };\n            }\n            return {\n                description: this.stoppedDetails.text\n            };\n        }\n        return undefined;\n    }\n\n    get supportsTerminate(): boolean {\n        return !!this.session.capabilities.supportsTerminateThreadsRequest;\n    }\n\n    async terminate(): Promise<void> {\n        if (this.supportsTerminate) {\n            await this.session.sendRequest('terminateThreads', {\n                threadIds: [this.raw.id]\n            });\n        }\n    }\n\n    protected readonly _frames = new Map<number, DebugStackFrame>();\n    get frames(): IterableIterator<DebugStackFrame> {\n        return this._frames.values();\n    }\n    get topFrame(): DebugStackFrame | undefined {\n        return this.frames.next().value;\n    }\n    get frameCount(): number {\n        return this._frames.size;\n    }\n\n    protected pendingFetch = Promise.resolve<DebugStackFrame[]>([]);\n    protected _pendingFetchCount: number = 0;\n    protected pendingFetchCancel = new CancellationTokenSource();\n    async fetchFrames(levels: number = 20): Promise<DebugStackFrame[]> {\n        const cancel = this.pendingFetchCancel.token;\n        this._pendingFetchCount += 1;\n\n        return this.pendingFetch = this.pendingFetch.then(async () => {\n            try {\n                const start = this.frameCount;\n                const frames = await this.doFetchFrames(start, levels);\n                if (cancel.isCancellationRequested) {\n                    return [];\n                }\n                return this.doUpdateFrames(frames);\n            } catch (e) {\n                console.error('fetchFrames failed:', e);\n                return [];\n            } finally {\n                if (!cancel.isCancellationRequested) {\n                    this._pendingFetchCount -= 1;\n                }\n            }\n        });\n    }\n    get pendingFrameCount(): number {\n        return this._pendingFetchCount;\n    }\n    protected async doFetchFrames(startFrame: number, levels: number): Promise<DebugProtocol.StackFrame[]> {\n        try {\n            const response = await this.session.sendRequest('stackTrace',\n                this.toArgs<Partial<DebugProtocol.StackTraceArguments>>({ startFrame, levels })\n            );\n            if (this.stoppedDetails) {\n                this.stoppedDetails.totalFrames = response.body.totalFrames;\n            }\n            return response.body.stackFrames;\n        } catch (e) {\n            if (this.stoppedDetails) {\n                this.stoppedDetails.framesErrorMessage = e.message;\n            }\n            return [];\n        }\n    }\n    protected doUpdateFrames(frames: DebugProtocol.StackFrame[]): DebugStackFrame[] {\n        const result = new Set<DebugStackFrame>();\n        for (const raw of frames) {\n            const id = raw.id;\n            const frame = this._frames.get(id) || new DebugStackFrame(this, this.session);\n            this._frames.set(id, frame);\n            frame.update({ raw });\n            result.add(frame);\n        }\n        this.updateCurrentFrame();\n        return [...result.values()];\n    }\n    protected clearFrames(): void {\n        // Clear all frames\n        this._frames.clear();\n\n        // Cancel all request promises\n        this.pendingFetchCancel.cancel();\n        this.pendingFetchCancel = new CancellationTokenSource();\n\n        // Empty all current requests\n        this.pendingFetch = Promise.resolve([]);\n        this._pendingFetchCount = 0;\n\n        this.updateCurrentFrame();\n    }\n    protected updateCurrentFrame(): void {\n        const { currentFrame } = this;\n        const frameId = currentFrame && currentFrame.raw.id;\n        this.currentFrame = typeof frameId === 'number' &&\n            this._frames.get(frameId) ||\n            this._frames.values().next().value;\n    }\n\n    protected toArgs<T extends object>(arg?: T): { threadId: number } & T {\n        return Object.assign({}, arg, {\n            threadId: this.raw.id\n        });\n    }\n\n    render(): React.ReactNode {\n        return (\n            <div className=\"theia-debug-thread\" title={nls.localizeByDefault('Session')}>\n                <span className=\"label\">{this.raw.name}</span>\n                <span className=\"status\">{this.threadStatus()}</span>\n            </div>\n        );\n    }\n\n    protected threadStatus(): string {\n\n        if (!this.stoppedDetails) {\n            return nls.localizeByDefault('Running');\n        }\n\n        const description = this.stoppedDetails.description;\n\n        if (description) {\n            // According to DAP we must show description as is. Translation is made by debug adapter\n            return description;\n        }\n\n        const reason = this.stoppedDetails.reason;\n        const localizedReason = this.getLocalizedReason(reason);\n\n        return reason\n            ? nls.localizeByDefault('Paused on {0}', localizedReason)\n            : nls.localizeByDefault('Paused');\n    }\n\n    protected getLocalizedReason(reason: string | undefined): string {\n        switch (reason) {\n            case 'step':\n                return nls.localize('theia/debug/step', 'step');\n            case 'breakpoint':\n                return nls.localize('theia/debug/breakpoint', 'breakpoint');\n            case 'exception':\n                return nls.localize('theia/debug/exception', 'exception');\n            case 'pause':\n                return nls.localize('theia/debug/pause', 'pause');\n            case 'entry':\n                return nls.localize('theia/debug/entry', 'entry');\n            case 'goto':\n                return nls.localize('theia/debug/goto', 'goto');\n            case 'function breakpoint':\n                return nls.localize('theia/debug/functionBreakpoint', 'function breakpoint');\n            case 'data breakpoint':\n                return nls.localize('theia/debug/dataBreakpoint', 'data breakpoint');\n            case 'instruction breakpoint':\n                return nls.localize('theia/debug/instructionBreakpoint', 'instruction breakpoint');\n            default:\n                return '';\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from '@theia/core/shared/react';\nimport { codiconArray, DISABLED_CLASS } from '@theia/core/lib/browser';\nimport { MenuPath } from '@theia/core';\n\nexport class DebugAction extends React.Component<DebugAction.Props> {\n\n    override render(): React.ReactNode {\n        const { enabled, label, iconClass } = this.props;\n        const classNames = ['debug-action'];\n        if (iconClass) {\n            classNames.push(...codiconArray(iconClass, true));\n        }\n        if (enabled === false) {\n            classNames.push(DISABLED_CLASS);\n        }\n        return <span tabIndex={0}\n            className={classNames.join(' ')}\n            title={label}\n            onClick={() => { this.props.run([]); }}\n            ref={this.setRef} >\n            {!iconClass && <div>{label}</div>}\n        </span>;\n    }\n\n    focus(): void {\n        if (this.ref) {\n            this.ref.focus();\n        }\n    }\n\n    protected ref: HTMLElement | undefined;\n    protected setRef = (ref: HTMLElement | null) => this.ref = ref || undefined;\n\n}\nexport namespace DebugAction {\n    export interface Props {\n        label: string\n        iconClass: string\n        run: (effectiveMenuPath: MenuPath) => void\n        enabled?: boolean\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { TreeSource, TreeElement } from '@theia/core/lib/browser/source-tree';\nimport { DebugViewModel } from './debug-view-model';\nimport { BreakpointManager } from '../breakpoint/breakpoint-manager';\nimport { DebugExceptionBreakpoint } from './debug-exception-breakpoint';\n\n@injectable()\nexport class DebugBreakpointsSource extends TreeSource {\n\n    @inject(DebugViewModel)\n    protected readonly model: DebugViewModel;\n\n    @inject(BreakpointManager)\n    protected readonly breakpoints: BreakpointManager;\n\n    @postConstruct()\n    protected init(): void {\n        this.fireDidChange();\n        this.toDispose.push(this.model.onDidChangeBreakpoints(() => this.fireDidChange()));\n    }\n\n    *getElements(): IterableIterator<TreeElement> {\n        for (const exceptionBreakpoint of this.breakpoints.getExceptionBreakpoints()) {\n            yield new DebugExceptionBreakpoint(exceptionBreakpoint, this.breakpoints);\n        }\n        for (const functionBreakpoint of this.model.functionBreakpoints) {\n            yield functionBreakpoint;\n        }\n        for (const instructionBreakpoint of this.model.instructionBreakpoints) {\n            yield instructionBreakpoint;\n        }\n        for (const breakpoint of this.model.breakpoints) {\n            yield breakpoint;\n        }\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct, interfaces, Container } from '@theia/core/shared/inversify';\nimport { MenuPath } from '@theia/core/lib/common';\nimport { TreeNode, NodeProps } from '@theia/core/lib/browser';\nimport { SourceTreeWidget } from '@theia/core/lib/browser/source-tree';\nimport { DebugBreakpointsSource } from './debug-breakpoints-source';\nimport { BreakpointManager } from '../breakpoint/breakpoint-manager';\nimport { DebugViewModel } from './debug-view-model';\nimport { nls } from '@theia/core/lib/common/nls';\n\n@injectable()\nexport class DebugBreakpointsWidget extends SourceTreeWidget {\n\n    static CONTEXT_MENU: MenuPath = ['debug-breakpoints-context-menu'];\n    static EDIT_MENU = [...DebugBreakpointsWidget.CONTEXT_MENU, 'a_edit'];\n    static REMOVE_MENU = [...DebugBreakpointsWidget.CONTEXT_MENU, 'b_remove'];\n    static ENABLE_MENU = [...DebugBreakpointsWidget.CONTEXT_MENU, 'c_enable'];\n    static FACTORY_ID = 'debug:breakpoints';\n    static override createContainer(parent: interfaces.Container): Container {\n        const child = SourceTreeWidget.createContainer(parent, {\n            contextMenuPath: DebugBreakpointsWidget.CONTEXT_MENU,\n            virtualized: false,\n            scrollIfActive: true\n        });\n        child.bind(DebugBreakpointsSource).toSelf();\n        child.unbind(SourceTreeWidget);\n        child.bind(DebugBreakpointsWidget).toSelf();\n        return child;\n    }\n    static createWidget(parent: interfaces.Container): DebugBreakpointsWidget {\n        return DebugBreakpointsWidget.createContainer(parent).get(DebugBreakpointsWidget);\n    }\n\n    @inject(DebugViewModel)\n    protected readonly viewModel: DebugViewModel;\n\n    @inject(BreakpointManager)\n    protected readonly breakpoints: BreakpointManager;\n\n    @inject(DebugBreakpointsSource)\n    protected readonly breakpointsSource: DebugBreakpointsSource;\n\n    @postConstruct()\n    protected override init(): void {\n        super.init();\n        this.id = DebugBreakpointsWidget.FACTORY_ID + ':' + this.viewModel.id;\n        this.title.label = nls.localizeByDefault('Breakpoints');\n        this.toDispose.push(this.breakpointsSource);\n        this.source = this.breakpointsSource;\n    }\n\n    protected override getDefaultNodeStyle(node: TreeNode, props: NodeProps): React.CSSProperties | undefined {\n        return undefined;\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2021 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport URI from '@theia/core/lib/common/uri';\nimport * as React from '@theia/core/shared/react';\nimport { DebugConfigurationManager } from '../debug-configuration-manager';\nimport { DebugSessionOptions } from '../debug-session-options';\nimport { SelectComponent, SelectOption } from '@theia/core/lib/browser/widgets/select-component';\nimport { QuickInputService } from '@theia/core/lib/browser';\nimport { nls } from '@theia/core/lib/common/nls';\nimport { DebugSessionConfigurationLabelProvider } from '../debug-session-configuration-label-provider';\n\ninterface DynamicPickItem { label: string, configurationType: string, request: string, providerType: string, workspaceFolderUri?: string }\n\nexport interface DebugConfigurationSelectProps {\n    manager: DebugConfigurationManager,\n    quickInputService: QuickInputService,\n    labelProvider: DebugSessionConfigurationLabelProvider,\n    isMultiRoot: boolean\n}\n\nexport interface DebugProviderSelectState {\n    providerTypes: string[],\n    currentValue: string | undefined\n}\n\nexport class DebugConfigurationSelect extends React.Component<DebugConfigurationSelectProps, DebugProviderSelectState> {\n    protected static readonly SEPARATOR = '';\n    protected static readonly PICK = '__PICK__';\n    protected static readonly NO_CONFIGURATION = '__NO_CONF__';\n    protected static readonly ADD_CONFIGURATION = '__ADD_CONF__';\n    protected static readonly CONFIG_MARKER = '__CONFIG__';\n\n    private readonly selectRef = React.createRef<SelectComponent>();\n    private manager: DebugConfigurationManager;\n    private quickInputService: QuickInputService;\n\n    constructor(props: DebugConfigurationSelectProps) {\n        super(props);\n        this.manager = props.manager;\n        this.quickInputService = props.quickInputService;\n        this.state = {\n            providerTypes: [],\n            currentValue: undefined\n        };\n        this.manager.onDidChangeConfigurationProviders(() => {\n            this.refreshDebugConfigurations();\n        });\n    }\n\n    override componentDidUpdate(): void {\n        // synchronize the currentValue with the selectComponent value\n        if (this.selectRef.current?.value !== this.currentValue) {\n            this.refreshDebugConfigurations();\n        }\n    }\n\n    override componentDidMount(): void {\n        this.refreshDebugConfigurations();\n    }\n\n    override render(): React.ReactNode {\n        return <SelectComponent\n            options={this.renderOptions()}\n            defaultValue={this.state.currentValue}\n            onChange={option => this.setCurrentConfiguration(option)}\n            onFocus={() => this.refreshDebugConfigurations()}\n            onBlur={() => this.refreshDebugConfigurations()}\n            ref={this.selectRef}\n        />;\n    }\n\n    protected get currentValue(): string {\n        const { current } = this.manager;\n        const matchingOption = this.getCurrentOption(current);\n        return matchingOption ? matchingOption.value! : current ? JSON.stringify(current) : DebugConfigurationSelect.NO_CONFIGURATION;\n    }\n\n    protected getCurrentOption(current: DebugSessionOptions | undefined): SelectOption | undefined {\n        if (!current || !this.selectRef.current) {\n            return;\n        }\n        const matchingOption = this.selectRef.current!.options.find(option =>\n            option.userData === DebugConfigurationSelect.CONFIG_MARKER\n            && this.matchesOption(JSON.parse(option.value!), current)\n        );\n        return matchingOption;\n    }\n\n    protected matchesOption(sessionOption: DebugSessionOptions, current: DebugSessionOptions): boolean {\n        const matchesNameAndWorkspace = sessionOption.name === current.name && sessionOption.workspaceFolderUri === current.workspaceFolderUri;\n        return DebugSessionOptions.isConfiguration(sessionOption) && DebugSessionOptions.isConfiguration(current)\n            ? matchesNameAndWorkspace && sessionOption.providerType === current.providerType\n            : matchesNameAndWorkspace;\n    }\n\n    protected readonly setCurrentConfiguration = (option: SelectOption) => {\n        const value = option.value;\n        if (!value) {\n            return false;\n        } else if (value === DebugConfigurationSelect.ADD_CONFIGURATION) {\n            setTimeout(() => this.manager.addConfiguration());\n        } else if (value.startsWith(DebugConfigurationSelect.PICK)) {\n            const providerType = this.parsePickValue(value);\n            this.selectDynamicConfigFromQuickPick(providerType);\n        } else {\n            const data = JSON.parse(value) as DebugSessionOptions;\n            this.manager.current = data;\n            this.refreshDebugConfigurations();\n        }\n    };\n\n    protected toPickValue(providerType: string): string {\n        return DebugConfigurationSelect.PICK + providerType;\n    }\n\n    protected parsePickValue(value: string): string {\n        return value.slice(DebugConfigurationSelect.PICK.length);\n    }\n\n    protected async resolveDynamicConfigurationPicks(providerType: string): Promise<DynamicPickItem[]> {\n        const configurationsOfProviderType =\n            (await this.manager.provideDynamicDebugConfigurations())[providerType];\n\n        if (!configurationsOfProviderType) {\n            return [];\n        }\n\n        return configurationsOfProviderType.map(options => ({\n            label: options.configuration.name,\n            configurationType: options.configuration.type,\n            request: options.configuration.request,\n            providerType: options.providerType,\n            description: this.toBaseName(options.workspaceFolderUri),\n            workspaceFolderUri: options.workspaceFolderUri\n        }));\n    }\n\n    protected async selectDynamicConfigFromQuickPick(providerType: string): Promise<void> {\n        const picks: DynamicPickItem[] = await this.resolveDynamicConfigurationPicks(providerType);\n\n        if (picks.length === 0) {\n            return;\n        }\n\n        const selected: DynamicPickItem | undefined = await this.quickInputService.showQuickPick(\n            picks,\n            {\n                placeholder: nls.localizeByDefault('Select Launch Configuration')\n            }\n        );\n\n        if (!selected) {\n            return;\n        }\n\n        const selectedConfiguration = {\n            name: selected.label,\n            type: selected.configurationType,\n            request: selected.request\n        };\n        this.manager.current = this.manager.find(selectedConfiguration, selected.workspaceFolderUri, selected.providerType);\n        this.refreshDebugConfigurations();\n    }\n\n    protected refreshDebugConfigurations = async () => {\n        const configsOptionsPerType = await this.manager.provideDynamicDebugConfigurations();\n        const providerTypes = [];\n        for (const [type, configurationsOptions] of Object.entries(configsOptionsPerType)) {\n            if (configurationsOptions.length > 0) {\n                providerTypes.push(type);\n            }\n        }\n\n        const value = this.currentValue;\n        this.selectRef.current!.value = value;\n        this.setState({ providerTypes, currentValue: value });\n    };\n\n    protected renderOptions(): SelectOption[] {\n        const options: SelectOption[] = [];\n\n        // Add non dynamic debug configurations\n        for (const config of this.manager.all) {\n            const value = JSON.stringify(config);\n            options.push({\n                value,\n                label: this.toName(config, this.props.isMultiRoot),\n                userData: DebugConfigurationSelect.CONFIG_MARKER\n            });\n        }\n\n        // Add recently used dynamic debug configurations\n        const { recentDynamicOptions } = this.manager;\n        if (recentDynamicOptions.length > 0) {\n            if (options.length > 0) {\n                options.push({\n                    separator: true\n                });\n            }\n            for (const dynamicOption of recentDynamicOptions) {\n                const value = JSON.stringify(dynamicOption);\n                options.push({\n                    value,\n                    label: this.toName(dynamicOption, this.props.isMultiRoot) + ' (' + dynamicOption.providerType + ')',\n                    userData: DebugConfigurationSelect.CONFIG_MARKER\n                });\n            }\n        }\n\n        // Placing a 'No Configuration' entry enables proper functioning of the 'onChange' event, by\n        // having an entry to switch from (E.g. a case where only one dynamic configuration type is available)\n        if (options.length === 0) {\n            const value = DebugConfigurationSelect.NO_CONFIGURATION;\n            options.push({\n                value,\n                label: nls.localizeByDefault('No Configurations')\n            });\n        }\n\n        // Add dynamic configuration types for quick pick selection\n        const types = this.state.providerTypes;\n        if (types.length > 0) {\n            options.push({\n                separator: true\n            });\n            for (const type of types) {\n                const value = this.toPickValue(type);\n                options.push({\n                    value,\n                    label: type + '...'\n                });\n            }\n        }\n\n        options.push({\n            separator: true\n        });\n        options.push({\n            value: DebugConfigurationSelect.ADD_CONFIGURATION,\n            label: nls.localizeByDefault('Add Configuration...')\n        });\n\n        return options;\n    }\n\n    protected toName(options: DebugSessionOptions, multiRoot: boolean): string {\n        return this.props.labelProvider.getLabel(options, multiRoot);\n    }\n\n    protected toBaseName(uri: string | undefined): string {\n        return uri ? new URI(uri).path.base : '';\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { ReactWidget, QuickInputService } from '@theia/core/lib/browser';\nimport { CommandRegistry, Disposable, DisposableCollection, MessageService } from '@theia/core/lib/common';\nimport { inject, injectable, postConstruct } from '@theia/core/shared/inversify';\nimport * as React from '@theia/core/shared/react';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport { DebugConsoleContribution } from '../console/debug-console-contribution';\nimport { DebugConfigurationManager } from '../debug-configuration-manager';\nimport { DebugCommands } from '../debug-frontend-application-contribution';\nimport { DebugSessionManager } from '../debug-session-manager';\nimport { DebugAction } from './debug-action';\nimport { DebugConfigurationSelect } from './debug-configuration-select';\nimport { DebugViewModel } from './debug-view-model';\nimport { nls } from '@theia/core/lib/common/nls';\nimport { DebugSessionOptions } from '../debug-session-options';\nimport { DebugSessionConfigurationLabelProvider } from '../debug-session-configuration-label-provider';\n\n@injectable()\nexport class DebugConfigurationWidget extends ReactWidget {\n\n    @inject(CommandRegistry)\n    protected readonly commandRegistry: CommandRegistry;\n\n    @inject(DebugViewModel)\n    protected readonly viewModel: DebugViewModel;\n\n    @inject(DebugConfigurationManager)\n    protected readonly manager: DebugConfigurationManager;\n\n    @inject(DebugSessionManager)\n    protected readonly sessionManager: DebugSessionManager;\n\n    @inject(DebugConsoleContribution)\n    protected readonly debugConsole: DebugConsoleContribution;\n\n    @inject(QuickInputService)\n    protected readonly quickInputService: QuickInputService;\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    @inject(MessageService)\n    protected readonly messageService: MessageService;\n\n    @inject(DebugSessionConfigurationLabelProvider)\n    protected readonly sessionConfigurationLabelProvider: DebugSessionConfigurationLabelProvider;\n\n    protected readonly onRender = new DisposableCollection();\n\n    @postConstruct()\n    protected init(): void {\n        this.addClass('debug-toolbar');\n        this.toDispose.push(this.manager.onDidChange(() => this.update()));\n        this.toDispose.push(this.workspaceService.onWorkspaceChanged(() => this.update()));\n        this.toDispose.push(this.workspaceService.onWorkspaceLocationChanged(() => this.update()));\n        this.scrollOptions = undefined;\n        this.update();\n    }\n\n    focus(): void {\n        if (!this.doFocus()) {\n            this.onRender.push(Disposable.create(() => this.doFocus()));\n            this.update();\n        }\n    }\n    protected doFocus(): boolean {\n        if (!this.stepRef) {\n            return false;\n        }\n        this.stepRef.focus();\n        return true;\n    }\n\n    protected stepRef: DebugAction | undefined;\n    protected setStepRef = (stepRef: DebugAction | null) => {\n        this.stepRef = stepRef || undefined;\n        this.onRender.dispose();\n    };\n\n    render(): React.ReactNode {\n        return <React.Fragment>\n            <DebugAction run={this.start} label={nls.localizeByDefault('Start Debugging')} iconClass='debug-start' ref={this.setStepRef} />\n            <DebugConfigurationSelect\n                manager={this.manager}\n                quickInputService={this.quickInputService}\n                isMultiRoot={this.workspaceService.isMultiRootWorkspaceOpened}\n                labelProvider={this.sessionConfigurationLabelProvider}\n            />\n            <DebugAction run={this.openConfiguration} label={nls.localizeByDefault('Open {0}', '\"launch.json\"')}\n                iconClass='settings-gear' />\n            <DebugAction run={this.openConsole} label={nls.localizeByDefault('Debug Console')} iconClass='terminal' />\n        </React.Fragment>;\n    }\n\n    protected readonly start = async () => {\n        let configuration;\n        try {\n            configuration = await this.manager.getSelectedConfiguration();\n        } catch (e) {\n            this.messageService.error(e.message);\n            return;\n        }\n\n        if (DebugSessionOptions.isConfiguration(configuration)) {\n            configuration.startedByUser = true;\n        }\n\n        this.commandRegistry.executeCommand(DebugCommands.START.id, configuration);\n    };\n\n    protected readonly openConfiguration = () => this.manager.openConfiguration();\n    protected readonly openConsole = () => this.debugConsole.openView({\n        activate: true\n    });\n\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from '@theia/core/shared/react';\nimport { TreeElement } from '@theia/core/lib/browser/source-tree';\nimport { BreakpointManager } from '../breakpoint/breakpoint-manager';\nimport { ExceptionBreakpoint } from '../breakpoint/breakpoint-marker';\nimport { SingleTextInputDialog } from '@theia/core/lib/browser/dialogs';\nimport { TREE_NODE_INFO_CLASS } from '@theia/core/lib/browser';\nimport { nls } from '@theia/core';\n\nexport class DebugExceptionBreakpoint implements TreeElement {\n\n    readonly id: string;\n\n    constructor(\n        readonly data: ExceptionBreakpoint,\n        readonly breakpoints: BreakpointManager\n    ) {\n        this.id = data.raw.filter + ':' + data.raw.label;\n    }\n\n    render(): React.ReactNode {\n        return <div title={this.data.raw.description || this.data.raw.label} className='theia-source-breakpoint'>\n            <span className='theia-debug-breakpoint-icon' />\n            <input type='checkbox' checked={this.data.enabled} onChange={this.toggle} />\n            <span className='line-info'>\n                <span className='name'>{this.data.raw.label} </span>\n                {this.data.condition &&\n                    <span title={nls.localizeByDefault('Expression condition: {0}', this.data.condition)}\n                        className={'path ' + TREE_NODE_INFO_CLASS}>{this.data.condition} </span>}\n            </span>\n        </div>;\n    }\n\n    protected toggle = () => this.breakpoints.toggleExceptionBreakpoint(this.data.raw.filter);\n\n    async editCondition(): Promise<void> {\n        const inputDialog = new SingleTextInputDialog({\n            title: this.data.raw.label,\n            placeholder: this.data.raw.conditionDescription,\n            initialValue: this.data.condition\n        });\n        let condition = await inputDialog.open();\n        if (condition === undefined) {\n            return;\n        }\n        if (condition === '') {\n            condition = undefined;\n        }\n        if (condition !== this.data.condition) {\n            this.breakpoints.updateExceptionBreakpoint(this.data.raw.filter, { condition });\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, postConstruct, interfaces, Container } from '@theia/core/shared/inversify';\nimport {\n    Message, ApplicationShell, Widget, BaseWidget, PanelLayout, StatefulWidget, ViewContainer, codicon, ViewContainerTitleOptions, WidgetManager\n} from '@theia/core/lib/browser';\nimport { DebugThreadsWidget } from './debug-threads-widget';\nimport { DebugStackFramesWidget } from './debug-stack-frames-widget';\nimport { DebugBreakpointsWidget } from './debug-breakpoints-widget';\nimport { DebugVariablesWidget } from './debug-variables-widget';\nimport { DebugToolBar } from './debug-toolbar-widget';\nimport { DebugViewModel } from './debug-view-model';\nimport { DebugWatchWidget } from './debug-watch-widget';\nimport { FrontendApplicationStateService } from '@theia/core/lib/browser/frontend-application-state';\n\nexport const DEBUG_VIEW_CONTAINER_TITLE_OPTIONS: ViewContainerTitleOptions = {\n    label: 'debug',\n    iconClass: codicon('debug-alt'),\n    closeable: true\n};\n\n@injectable()\nexport class DebugSessionWidget extends BaseWidget implements StatefulWidget, ApplicationShell.TrackableWidgetProvider {\n\n    static createContainer(parent: interfaces.Container): Container {\n        const child = new Container({ defaultScope: 'Singleton' });\n        child.parent = parent;\n        child.bind(DebugViewModel).toSelf();\n        child.bind(DebugToolBar).toSelf();\n        child.bind(DebugSessionWidget).toSelf();\n        return child;\n    }\n\n    static createWidget(parent: interfaces.Container): DebugSessionWidget {\n        return DebugSessionWidget.createContainer(parent).get(DebugSessionWidget);\n    }\n\n    static subwidgets = [DebugThreadsWidget, DebugStackFramesWidget, DebugVariablesWidget, DebugWatchWidget, DebugBreakpointsWidget];\n\n    protected viewContainer: ViewContainer;\n\n    @inject(ViewContainer.Factory)\n    protected readonly viewContainerFactory: ViewContainer.Factory;\n\n    @inject(DebugViewModel)\n    readonly model: DebugViewModel;\n\n    @inject(DebugToolBar)\n    protected readonly toolbar: DebugToolBar;\n\n    @inject(WidgetManager) protected readonly widgetManager: WidgetManager;\n    @inject(FrontendApplicationStateService) protected readonly stateService: FrontendApplicationStateService;\n\n    @postConstruct()\n    protected init(): void {\n        this.id = 'debug:session:' + this.model.id;\n        this.title.label = this.model.label;\n        this.title.caption = this.model.label;\n        this.title.closable = true;\n        this.title.iconClass = codicon('debug-alt');\n        this.addClass('theia-session-container');\n\n        this.viewContainer = this.viewContainerFactory({\n            id: 'debug:view-container:' + this.model.id\n        });\n        this.viewContainer.setTitleOptions(DEBUG_VIEW_CONTAINER_TITLE_OPTIONS);\n        this.stateService.reachedState('initialized_layout').then(() => {\n            for (const subwidget of DebugSessionWidget.subwidgets) {\n                const widgetPromises = [];\n                const existingWidget = this.widgetManager.tryGetPendingWidget(subwidget.FACTORY_ID);\n                // No other view container instantiated this widget during startup.\n                if (!existingWidget) {\n                    widgetPromises.push(this.widgetManager.getOrCreateWidget(subwidget.FACTORY_ID));\n                }\n                Promise.all(widgetPromises).then(widgets => widgets.forEach(widget => this.viewContainer.addWidget(widget)));\n            }\n        });\n\n        this.toDispose.pushAll([\n            this.toolbar,\n            this.viewContainer\n        ]);\n\n        const layout = this.layout = new PanelLayout();\n        layout.addWidget(this.toolbar);\n        layout.addWidget(this.viewContainer);\n    }\n\n    protected override onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        this.toolbar.focus();\n    }\n\n    protected override onAfterShow(msg: Message): void {\n        super.onAfterShow(msg);\n        this.getTrackableWidgets().forEach(w => w.update());\n    }\n\n    getTrackableWidgets(): Widget[] {\n        return [this.viewContainer];\n    }\n\n    storeState(): object {\n        return this.viewContainer.storeState();\n    }\n\n    restoreState(oldState: ViewContainer.State): void {\n        this.viewContainer.restoreState(oldState);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from '@theia/core/shared/react';\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { TreeSource, TreeElement } from '@theia/core/lib/browser/source-tree';\nimport { DebugThread } from '../model/debug-thread';\nimport { DebugViewModel } from './debug-view-model';\nimport debounce = require('p-debounce');\n\n@injectable()\nexport class DebugStackFramesSource extends TreeSource {\n\n    @inject(DebugViewModel)\n    protected readonly model: DebugViewModel;\n\n    @postConstruct()\n    protected init(): void {\n        this.refresh();\n        this.toDispose.push(this.model.onDidChange(() => this.refresh()));\n    }\n\n    protected readonly refresh = debounce(() => this.fireDidChange(), 100);\n\n    *getElements(): IterableIterator<TreeElement> {\n        const thread = this.model.currentThread;\n        if (!thread) {\n            return;\n        }\n        yield* thread.frames;\n        if (thread.stoppedDetails) {\n            const { framesErrorMessage, totalFrames } = thread.stoppedDetails;\n            if (framesErrorMessage) {\n                yield {\n                    render: () => <span title={framesErrorMessage}>{framesErrorMessage}</span>\n                };\n            }\n            if (totalFrames && totalFrames > thread.frameCount) {\n                yield new LoadMoreStackFrames(thread);\n            }\n        }\n    }\n}\n\nexport class LoadMoreStackFrames implements TreeElement {\n\n    constructor(\n        readonly thread: DebugThread\n    ) { }\n\n    render(): React.ReactNode {\n        return <span className='theia-load-more-frames'>Load More Stack Frames</span>;\n    }\n\n    async open(): Promise<void> {\n        const frames = await this.thread.fetchFrames();\n        if (frames[0]) {\n            this.thread.currentFrame = frames[0];\n        }\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct, interfaces, Container } from '@theia/core/shared/inversify';\nimport { MenuPath } from '@theia/core';\nimport { TreeNode, NodeProps, SelectableTreeNode } from '@theia/core/lib/browser';\nimport { SourceTreeWidget, TreeElementNode } from '@theia/core/lib/browser/source-tree';\nimport { DebugStackFramesSource, LoadMoreStackFrames } from './debug-stack-frames-source';\nimport { DebugStackFrame } from '../model/debug-stack-frame';\nimport { DebugViewModel } from './debug-view-model';\nimport { DebugCallStackItemTypeKey } from '../debug-call-stack-item-type-key';\nimport { nls } from '@theia/core/lib/common/nls';\n\n@injectable()\nexport class DebugStackFramesWidget extends SourceTreeWidget {\n\n    static CONTEXT_MENU: MenuPath = ['debug-frames-context-menu'];\n    static FACTORY_ID = 'debug:frames';\n    static override createContainer(parent: interfaces.Container): Container {\n        const child = SourceTreeWidget.createContainer(parent, {\n            contextMenuPath: DebugStackFramesWidget.CONTEXT_MENU,\n            virtualized: false,\n            scrollIfActive: true\n        });\n        child.bind(DebugStackFramesSource).toSelf();\n        child.unbind(SourceTreeWidget);\n        child.bind(DebugStackFramesWidget).toSelf();\n        return child;\n    }\n    static createWidget(parent: interfaces.Container): DebugStackFramesWidget {\n        return DebugStackFramesWidget.createContainer(parent).get(DebugStackFramesWidget);\n    }\n\n    @inject(DebugStackFramesSource)\n    protected readonly frames: DebugStackFramesSource;\n\n    @inject(DebugViewModel)\n    protected readonly viewModel: DebugViewModel;\n\n    @inject(DebugCallStackItemTypeKey)\n    protected readonly debugCallStackItemTypeKey: DebugCallStackItemTypeKey;\n\n    @postConstruct()\n    protected override init(): void {\n        super.init();\n        this.id = DebugStackFramesWidget.FACTORY_ID + ':' + this.viewModel.id;\n        this.title.label = nls.localizeByDefault('Call Stack');\n        this.toDispose.push(this.frames);\n        this.source = this.frames;\n\n        this.toDispose.push(this.viewModel.onDidChange(() => this.updateWidgetSelection()));\n        this.toDispose.push(this.model.onNodeRefreshed(() => this.updateWidgetSelection()));\n        this.toDispose.push(this.model.onSelectionChanged(() => this.updateModelSelection()));\n    }\n\n    protected updatingSelection = false;\n    protected async updateWidgetSelection(): Promise<void> {\n        if (this.updatingSelection) {\n            return;\n        }\n        this.updatingSelection = true;\n        try {\n            const { currentFrame } = this.viewModel;\n            if (currentFrame) {\n                const node = this.model.getNode(currentFrame.id);\n                if (SelectableTreeNode.is(node)) {\n                    this.model.selectNode(node);\n                }\n            }\n        } finally {\n            this.updatingSelection = false;\n        }\n    }\n    protected async updateModelSelection(): Promise<void> {\n        if (this.updatingSelection) {\n            return;\n        }\n        this.updatingSelection = true;\n        try {\n            const node = this.model.selectedNodes[0];\n            if (TreeElementNode.is(node)) {\n                if (node.element instanceof DebugStackFrame) {\n                    node.element.thread.currentFrame = node.element;\n                    this.debugCallStackItemTypeKey.set('stackFrame');\n                }\n            }\n        } finally {\n            this.updatingSelection = false;\n        }\n    }\n\n    protected override toContextMenuArgs(node: SelectableTreeNode): [string | number] | undefined {\n        if (TreeElementNode.is(node)) {\n            if (node.element instanceof DebugStackFrame) {\n                const source = node.element.source;\n                if (source) {\n                    if (source.inMemory) {\n                        const path = source.raw.path || source.raw.sourceReference;\n                        if (path !== undefined) {\n                            return [path];\n                        }\n                    } else {\n                        return [source.uri.toString()];\n                    }\n                }\n            }\n        }\n        return undefined;\n    }\n\n    protected override tapNode(node?: TreeNode): void {\n        if (TreeElementNode.is(node) && node.element instanceof LoadMoreStackFrames) {\n            node.element.open();\n        }\n        super.tapNode(node);\n    }\n\n    protected override getDefaultNodeStyle(node: TreeNode, props: NodeProps): React.CSSProperties | undefined {\n        return undefined;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { TreeSource, TreeElement } from '@theia/core/lib/browser/source-tree';\nimport { DebugViewModel } from './debug-view-model';\n\n@injectable()\nexport class DebugThreadsSource extends TreeSource {\n\n    @inject(DebugViewModel)\n    protected readonly model: DebugViewModel;\n\n    @postConstruct()\n    protected init(): void {\n        this.fireDidChange();\n        this.toDispose.push(this.model.onDidChange(() => this.fireDidChange()));\n    }\n\n    get multiSession(): boolean {\n        return this.model.sessionCount > 1;\n    }\n\n    *getElements(): IterableIterator<TreeElement> {\n        if (this.model.sessionCount === 1 && this.model.session && this.model.session.threadCount) {\n            return yield* this.model.session.threads;\n        }\n        for (const session of this.model.sessions) {\n            if (!session.parentSession) {\n                yield session;\n            }\n        }\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct, interfaces, Container } from '@theia/core/shared/inversify';\nimport { MenuPath } from '@theia/core';\nimport { TreeNode, NodeProps, SelectableTreeNode } from '@theia/core/lib/browser';\nimport { SourceTreeWidget, TreeElementNode } from '@theia/core/lib/browser/source-tree';\nimport { DebugThreadsSource } from './debug-threads-source';\nimport { DebugSession } from '../debug-session';\nimport { DebugThread } from '../model/debug-thread';\nimport { DebugViewModel } from '../view/debug-view-model';\nimport { DebugCallStackItemTypeKey } from '../debug-call-stack-item-type-key';\nimport { nls } from '@theia/core/lib/common/nls';\n\n@injectable()\nexport class DebugThreadsWidget extends SourceTreeWidget {\n\n    static CONTEXT_MENU: MenuPath = ['debug-threads-context-menu'];\n    static CONTROL_MENU = [...DebugThreadsWidget.CONTEXT_MENU, 'a_control'];\n    static TERMINATE_MENU = [...DebugThreadsWidget.CONTEXT_MENU, 'b_terminate'];\n    static OPEN_MENU = [...DebugThreadsWidget.CONTEXT_MENU, 'c_open'];\n    static FACTORY_ID = 'debug:threads';\n    static override createContainer(parent: interfaces.Container): Container {\n        const child = SourceTreeWidget.createContainer(parent, {\n            contextMenuPath: DebugThreadsWidget.CONTEXT_MENU,\n            virtualized: false,\n            scrollIfActive: true\n        });\n        child.bind(DebugThreadsSource).toSelf();\n        child.unbind(SourceTreeWidget);\n        child.bind(DebugThreadsWidget).toSelf();\n        return child;\n    }\n    static createWidget(parent: interfaces.Container): DebugThreadsWidget {\n        return DebugThreadsWidget.createContainer(parent).get(DebugThreadsWidget);\n    }\n\n    @inject(DebugThreadsSource)\n    protected readonly threads: DebugThreadsSource;\n\n    @inject(DebugViewModel)\n    protected readonly viewModel: DebugViewModel;\n\n    @inject(DebugCallStackItemTypeKey)\n    protected readonly debugCallStackItemTypeKey: DebugCallStackItemTypeKey;\n\n    @postConstruct()\n    protected override init(): void {\n        super.init();\n        this.id = DebugThreadsWidget.FACTORY_ID + ':' + this.viewModel.id;\n        this.title.label = nls.localize('theia/debug/threads', 'Threads');\n        this.toDispose.push(this.threads);\n        this.source = this.threads;\n\n        this.toDispose.push(this.viewModel.onDidChange(() => this.updateWidgetSelection()));\n        this.toDispose.push(this.model.onSelectionChanged(() => this.updateModelSelection()));\n    }\n\n    protected updatingSelection = false;\n    protected updateWidgetSelection(): void {\n        if (this.updatingSelection) {\n            return;\n        }\n        this.updatingSelection = true;\n        try {\n            const { currentThread } = this.viewModel;\n            if (currentThread) {\n                const node = this.model.getNode(currentThread.id);\n                if (SelectableTreeNode.is(node)) {\n                    this.model.selectNode(node);\n                }\n            }\n        } finally {\n            this.updatingSelection = false;\n        }\n    }\n    protected updateModelSelection(): void {\n        if (this.updatingSelection) {\n            return;\n        }\n        this.updatingSelection = true;\n        try {\n            const node = this.model.selectedNodes[0];\n            if (TreeElementNode.is(node)) {\n                if (node.element instanceof DebugSession) {\n                    this.viewModel.currentSession = node.element;\n                    this.debugCallStackItemTypeKey.set('session');\n                } else if (node.element instanceof DebugThread) {\n                    this.viewModel.currentSession = node.element.session;\n                    node.element.session.currentThread = node.element;\n                    this.debugCallStackItemTypeKey.set('thread');\n                }\n            }\n        } finally {\n            this.updatingSelection = false;\n        }\n    }\n\n    protected override toContextMenuArgs(node: SelectableTreeNode): [number] | undefined {\n        if (TreeElementNode.is(node) && node.element instanceof DebugThread) {\n            return [node.element.raw.id];\n        }\n        return undefined;\n    }\n\n    protected override getDefaultNodeStyle(node: TreeNode, props: NodeProps): React.CSSProperties | undefined {\n        if (this.threads.multiSession) {\n            return super.getDefaultNodeStyle(node, props);\n        }\n        return undefined;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from '@theia/core/shared/react';\nimport { inject, postConstruct, injectable } from '@theia/core/shared/inversify';\nimport { CommandMenu, CommandRegistry, CompoundMenuNode, Disposable, DisposableCollection, MenuModelRegistry, MenuPath } from '@theia/core';\nimport { ContextKeyService } from '@theia/core/lib/browser/context-key-service';\nimport { ReactWidget } from '@theia/core/lib/browser/widgets';\nimport { DebugViewModel } from './debug-view-model';\nimport { DebugState } from '../debug-session';\nimport { DebugAction } from './debug-action';\nimport { nls } from '@theia/core/lib/common/nls';\n\n@injectable()\nexport class DebugToolBar extends ReactWidget {\n\n    static readonly MENU: MenuPath = ['debug-toolbar-menu'];\n\n    @inject(CommandRegistry) protected readonly commandRegistry: CommandRegistry;\n    @inject(MenuModelRegistry) protected readonly menuModelRegistry: MenuModelRegistry;\n    @inject(ContextKeyService) protected readonly contextKeyService: ContextKeyService;\n    @inject(DebugViewModel) protected readonly model: DebugViewModel;\n\n    protected readonly onRender = new DisposableCollection();\n\n    @postConstruct()\n    protected init(): void {\n        this.id = 'debug:toolbar:' + this.model.id;\n        this.addClass('debug-toolbar');\n        this.toDispose.push(this.model);\n        this.toDispose.push(this.model.onDidChange(() => this.update()));\n        this.scrollOptions = undefined;\n        this.update();\n    }\n\n    focus(): void {\n        if (!this.doFocus()) {\n            this.onRender.push(Disposable.create(() => this.doFocus()));\n            this.update();\n        }\n    }\n    protected doFocus(): boolean {\n        if (!this.stepRef) {\n            return false;\n        }\n        this.stepRef.focus();\n        return true;\n    }\n    protected stepRef: DebugAction | undefined;\n    protected setStepRef = (stepRef: DebugAction | null) => {\n        this.stepRef = stepRef || undefined;\n        this.onRender.dispose();\n    };\n\n    protected render(): React.ReactNode {\n        const { state } = this.model;\n        return <React.Fragment>\n            {this.renderContributedCommands()}\n            {this.renderContinue()}\n            <DebugAction enabled={state === DebugState.Stopped} run={this.stepOver} label={nls.localizeByDefault('Step Over')}\n                iconClass='debug-step-over' ref={this.setStepRef} />\n            <DebugAction enabled={state === DebugState.Stopped} run={this.stepIn} label={nls.localizeByDefault('Step Into')}\n                iconClass='debug-step-into' />\n            <DebugAction enabled={state === DebugState.Stopped} run={this.stepOut} label={nls.localizeByDefault('Step Out')}\n                iconClass='debug-step-out' />\n            <DebugAction enabled={state !== DebugState.Inactive} run={this.restart} label={nls.localizeByDefault('Restart')}\n                iconClass='debug-restart' />\n            {this.renderStart()}\n        </React.Fragment>;\n    }\n\n    protected renderContributedCommands(): React.ReactNode {\n        const debugActions: React.ReactNode[] = [];\n        // first, search for CompoundMenuNodes:\n        this.menuModelRegistry.getMenu(DebugToolBar.MENU)!.children.forEach(compoundMenuNode => {\n            if (CompoundMenuNode.is(compoundMenuNode) && compoundMenuNode.isVisible(DebugToolBar.MENU, this.contextKeyService, this.node)) {\n                // second, search for nested CommandMenuNodes:\n                compoundMenuNode.children.forEach(commandMenuNode => {\n                    if (CommandMenu.is(commandMenuNode) && commandMenuNode.isVisible(DebugToolBar.MENU, this.contextKeyService, this.node)) {\n                        debugActions.push(this.debugAction(commandMenuNode));\n                    }\n                });\n            }\n        });\n        return debugActions;\n    }\n\n    protected debugAction(commandMenuNode: CommandMenu): React.ReactNode {\n        return <DebugAction\n            key={commandMenuNode.id}\n            enabled={true}\n            label={commandMenuNode.label}\n            iconClass={commandMenuNode.icon || ''}\n            run={commandMenuNode.run} />;\n    }\n\n    protected renderStart(): React.ReactNode {\n        const { state } = this.model;\n        if (state === DebugState.Inactive && this.model.sessionCount === 1) {\n            return <DebugAction run={this.start} label={nls.localizeByDefault('Start')} iconClass='debug-start' />;\n        }\n        return <DebugAction enabled={state !== DebugState.Inactive} run={this.stop} label={nls.localizeByDefault('Stop')} iconClass='debug-stop' />;\n    }\n    protected renderContinue(): React.ReactNode {\n        const { state } = this.model;\n        if (state === DebugState.Stopped) {\n            return <DebugAction run={this.continue} label={nls.localizeByDefault('Continue')} iconClass='debug-continue' />;\n        }\n        return <DebugAction enabled={state === DebugState.Running} run={this.pause} label={nls.localizeByDefault('Pause')} iconClass='debug-pause' />;\n    }\n\n    protected start = () => this.model.start({ startedByUser: true });\n    protected restart = () => this.model.restart();\n    protected stop = () => this.model.terminate();\n    protected continue = () => this.model.currentThread && this.model.currentThread.continue();\n    protected pause = () => this.model.currentThread && this.model.currentThread.pause();\n    protected stepOver = () => this.model.currentThread && this.model.currentThread.stepOver();\n    protected stepIn = () => this.model.currentThread && this.model.currentThread.stepIn();\n    protected stepOut = () => this.model.currentThread && this.model.currentThread.stepOut();\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { TreeSource } from '@theia/core/lib/browser/source-tree';\nimport { DebugScope } from '../console/debug-console-items';\nimport { DebugViewModel } from './debug-view-model';\nimport debounce = require('p-debounce');\n\n@injectable()\nexport class DebugVariablesSource extends TreeSource {\n\n    @inject(DebugViewModel)\n    protected readonly model: DebugViewModel;\n\n    @postConstruct()\n    protected init(): void {\n        this.refresh();\n        this.toDispose.push(this.model.onDidChange(() => this.refresh()));\n    }\n\n    protected readonly refresh = debounce(() => this.fireDidChange(), 400);\n\n    async getElements(): Promise<IterableIterator<DebugScope>> {\n        const { currentSession } = this.model;\n        const scopes = currentSession ? await currentSession.getScopes() : [];\n        return scopes[Symbol.iterator]();\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct, interfaces, Container } from '@theia/core/shared/inversify';\nimport { MenuPath } from '@theia/core/lib/common';\nimport { SourceTreeWidget } from '@theia/core/lib/browser/source-tree';\nimport { DebugVariablesSource } from './debug-variables-source';\nimport { DebugViewModel } from './debug-view-model';\nimport { nls } from '@theia/core/lib/common/nls';\n\n@injectable()\nexport class DebugVariablesWidget extends SourceTreeWidget {\n\n    static CONTEXT_MENU: MenuPath = ['debug-variables-context-menu'];\n    static EDIT_MENU: MenuPath = [...DebugVariablesWidget.CONTEXT_MENU, 'a_edit'];\n    static WATCH_MENU: MenuPath = [...DebugVariablesWidget.CONTEXT_MENU, 'b_watch'];\n    static FACTORY_ID = 'debug:variables';\n    static override createContainer(parent: interfaces.Container): Container {\n        const child = SourceTreeWidget.createContainer(parent, {\n            contextMenuPath: DebugVariablesWidget.CONTEXT_MENU,\n            virtualized: false,\n            scrollIfActive: true\n        });\n        child.bind(DebugVariablesSource).toSelf();\n        child.unbind(SourceTreeWidget);\n        child.bind(DebugVariablesWidget).toSelf();\n        return child;\n    }\n    static createWidget(parent: interfaces.Container): DebugVariablesWidget {\n        return DebugVariablesWidget.createContainer(parent).get(DebugVariablesWidget);\n    }\n\n    @inject(DebugViewModel)\n    protected readonly viewModel: DebugViewModel;\n\n    @inject(DebugVariablesSource)\n    protected readonly variables: DebugVariablesSource;\n\n    @postConstruct()\n    protected override init(): void {\n        super.init();\n        this.id = DebugVariablesWidget.FACTORY_ID + ':' + this.viewModel.id;\n        this.title.label = nls.localizeByDefault('Variables');\n        this.toDispose.push(this.variables);\n        this.source = this.variables;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport debounce from 'p-debounce';\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { Disposable, DisposableCollection, Event, Emitter, deepClone } from '@theia/core/lib/common';\nimport URI from '@theia/core/lib/common/uri';\nimport { DebugSession, DebugState } from '../debug-session';\nimport { DebugSessionManager } from '../debug-session-manager';\nimport { DebugThread } from '../model/debug-thread';\nimport { DebugStackFrame } from '../model/debug-stack-frame';\nimport { DebugSourceBreakpoint } from '../model/debug-source-breakpoint';\nimport { DebugWatchExpression } from './debug-watch-expression';\nimport { DebugWatchManager } from '../debug-watch-manager';\nimport { DebugFunctionBreakpoint } from '../model/debug-function-breakpoint';\nimport { DebugInstructionBreakpoint } from '../model/debug-instruction-breakpoint';\nimport { DebugSessionOptionsBase } from '../debug-session-options';\n\n@injectable()\nexport class DebugViewModel implements Disposable {\n\n    protected readonly onDidChangeEmitter = new Emitter<void>();\n    readonly onDidChange: Event<void> = this.onDidChangeEmitter.event;\n    protected fireDidChange(): void {\n        this.refreshWatchExpressions();\n        this.onDidChangeEmitter.fire(undefined);\n    }\n\n    protected readonly onDidChangeBreakpointsEmitter = new Emitter<URI>();\n    readonly onDidChangeBreakpoints: Event<URI> = this.onDidChangeBreakpointsEmitter.event;\n    protected fireDidChangeBreakpoints(uri: URI): void {\n        this.onDidChangeBreakpointsEmitter.fire(uri);\n    }\n\n    protected readonly _watchExpressions = new Map<number, DebugWatchExpression>();\n\n    protected readonly onDidChangeWatchExpressionsEmitter = new Emitter<void>();\n    readonly onDidChangeWatchExpressions = this.onDidChangeWatchExpressionsEmitter.event;\n    protected fireDidChangeWatchExpressions(): void {\n        this.onDidChangeWatchExpressionsEmitter.fire(undefined);\n    }\n\n    protected readonly toDispose = new DisposableCollection(\n        this.onDidChangeEmitter,\n        this.onDidChangeBreakpointsEmitter,\n        this.onDidChangeWatchExpressionsEmitter,\n    );\n\n    @inject(DebugSessionManager)\n    protected readonly manager: DebugSessionManager;\n\n    @inject(DebugWatchManager)\n    protected readonly watch: DebugWatchManager;\n\n    get sessions(): IterableIterator<DebugSession> {\n        return this.manager.sessions[Symbol.iterator]();\n    }\n    get sessionCount(): number {\n        return this.manager.sessions.length;\n    }\n    get session(): DebugSession | undefined {\n        return this.currentSession;\n    }\n    get id(): string {\n        return this.session && this.session.id || '-1';\n    }\n    get label(): string {\n        return this.session && this.session.label || 'Unknown Session';\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.toDispose.push(this.manager.onDidChangeActiveDebugSession(() => {\n            this.fireDidChange();\n        }));\n        this.toDispose.push(this.manager.onDidChange(current => {\n            if (current === this.currentSession) {\n                this.fireDidChange();\n            }\n        }));\n        this.toDispose.push(this.manager.onDidChangeBreakpoints(({ session, uri }) => {\n            if (!session || session === this.currentSession) {\n                this.fireDidChangeBreakpoints(uri);\n            }\n        }));\n        this.updateWatchExpressions();\n        this.toDispose.push(this.watch.onDidChange(() => this.updateWatchExpressions()));\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    get currentSession(): DebugSession | undefined {\n        const { currentSession } = this.manager;\n        return currentSession;\n    }\n    set currentSession(currentSession: DebugSession | undefined) {\n        this.manager.currentSession = currentSession;\n    }\n\n    get state(): DebugState {\n        const { currentSession } = this;\n        return currentSession && currentSession.state || DebugState.Inactive;\n    }\n    get currentThread(): DebugThread | undefined {\n        const { currentSession } = this;\n        return currentSession && currentSession.currentThread;\n    }\n    get currentFrame(): DebugStackFrame | undefined {\n        const { currentThread } = this;\n        return currentThread && currentThread.currentFrame;\n    }\n\n    get breakpoints(): DebugSourceBreakpoint[] {\n        return this.manager.getBreakpoints(this.currentSession);\n    }\n\n    get functionBreakpoints(): DebugFunctionBreakpoint[] {\n        return this.manager.getFunctionBreakpoints(this.currentSession);\n    }\n\n    get instructionBreakpoints(): DebugInstructionBreakpoint[] {\n        return this.manager.getInstructionBreakpoints(this.currentSession);\n    }\n\n    async start(options: Partial<Pick<DebugSessionOptionsBase, 'startedByUser'>> = {}): Promise<void> {\n        const { session } = this;\n        if (!session) {\n            return;\n        }\n        const optionsCopy = deepClone(session.options);\n        const newSession = await this.manager.start(Object.assign(optionsCopy, options));\n        if (newSession) {\n            this.fireDidChange();\n        }\n    }\n\n    async restart(): Promise<void> {\n        const { session } = this;\n        if (!session) {\n            return;\n        }\n        await this.manager.restartSession(session);\n        this.fireDidChange();\n    }\n\n    async terminate(): Promise<void> {\n        this.manager.terminateSession();\n    }\n\n    get watchExpressions(): IterableIterator<DebugWatchExpression> {\n        return this._watchExpressions.values();\n    }\n\n    async addWatchExpression(expression: string = ''): Promise<DebugWatchExpression | undefined> {\n        const watchExpression: DebugWatchExpression = new DebugWatchExpression({\n            id: Number.MAX_SAFE_INTEGER,\n            expression,\n            session: () => this.currentSession,\n            remove: () => this.removeWatchExpression(watchExpression),\n            onDidChange: () => { /* no-op */ },\n        });\n        await watchExpression.open();\n        if (!watchExpression.expression) {\n            return undefined;\n        }\n        const id = this.watch.addWatchExpression(watchExpression.expression);\n        return this._watchExpressions.get(id);\n    }\n\n    removeWatchExpressions(): void {\n        this.watch.removeWatchExpressions();\n    }\n\n    removeWatchExpression(expression: DebugWatchExpression): void {\n        this.watch.removeWatchExpression(expression.id);\n    }\n\n    protected updateWatchExpressions(): void {\n        let added = false;\n        const toRemove = new Set(this._watchExpressions.keys());\n        for (const [id, expression] of this.watch.watchExpressions) {\n            toRemove.delete(id);\n            if (!this._watchExpressions.has(id)) {\n                added = true;\n                const watchExpression: DebugWatchExpression = new DebugWatchExpression({\n                    id,\n                    expression,\n                    session: () => this.currentSession,\n                    remove: () => this.removeWatchExpression(watchExpression),\n                    onDidChange: () => this.fireDidChangeWatchExpressions()\n                });\n                this._watchExpressions.set(id, watchExpression);\n                watchExpression.evaluate();\n            }\n        }\n        for (const id of toRemove) {\n            this._watchExpressions.delete(id);\n        }\n        if (added || toRemove.size) {\n            this.fireDidChangeWatchExpressions();\n        }\n    }\n\n    protected refreshWatchExpressionsQueue = Promise.resolve();\n    protected refreshWatchExpressions = debounce(() => {\n        this.refreshWatchExpressionsQueue = this.refreshWatchExpressionsQueue.then(async () => {\n            try {\n                await Promise.all(Array.from(this.watchExpressions).map(expr => expr.evaluate()));\n            } catch (e) {\n                console.error('Failed to refresh watch expressions: ', e);\n            }\n        });\n    }, 50);\n\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from '@theia/core/shared/react';\nimport { SingleTextInputDialog } from '@theia/core/lib/browser/dialogs';\nimport { ExpressionItem, DebugSessionProvider } from '../console/debug-console-items';\nimport { DebugProtocol } from '@vscode/debugprotocol';\nimport { codicon, TREE_NODE_SEGMENT_GROW_CLASS } from '@theia/core/lib/browser';\nimport { nls } from '@theia/core';\n\nexport class DebugWatchExpression extends ExpressionItem {\n\n    readonly id: number;\n    protected isError: boolean;\n    protected isNotAvailable: boolean;\n\n    constructor(protected readonly options: {\n        id: number,\n        expression: string,\n        session: DebugSessionProvider,\n        remove: () => void,\n        onDidChange: () => void\n    }) {\n        super(options.expression, options.session);\n        this.id = options.id;\n    }\n\n    override async evaluate(): Promise<void> {\n        await super.evaluate('watch');\n    }\n\n    protected override setResult(body?: DebugProtocol.EvaluateResponse['body'], error?: string): void {\n        const session = this.options.session();\n        this.isNotAvailable = false;\n        this.isError = false;\n\n        // not available must be set regardless of the session's availability.\n        // not available is used when there is no session or the current stack frame is not available.\n        if (error === ExpressionItem.notAvailable) {\n            super.setResult(undefined, error);\n            this.isNotAvailable = true;\n        } else if (session) {\n            super.setResult(body, error);\n            this.isError = !!error;\n        }\n        this.options.onDidChange();\n    }\n\n    override render(): React.ReactNode {\n        const valueClass = this.valueClass();\n        return <div className='theia-debug-console-variable theia-debug-watch-expression'>\n            <div className={TREE_NODE_SEGMENT_GROW_CLASS}>\n                <span title={this.type || this._expression} className='name'>{this._expression}: </span>\n                <span title={this._value} ref={this.setValueRef} className={valueClass}>{this._value}</span>\n            </div>\n            <div className={codicon('close', true)} title={nls.localizeByDefault('Remove Expression')} onClick={this.options.remove} />\n        </div>;\n    }\n\n    protected valueClass(): string {\n        if (this.isError) {\n            return 'watch-error';\n        }\n        if (this.isNotAvailable) {\n            return 'watch-not-available';\n        }\n        return '';\n    }\n\n    async open(): Promise<void> {\n        const input = new SingleTextInputDialog({\n            title: nls.localizeByDefault('Edit Expression'),\n            initialValue: this.expression,\n            placeholder: nls.localizeByDefault('Expression to watch')\n        });\n        const newValue = await input.open();\n        if (newValue !== undefined) {\n            this._expression = newValue;\n            await this.evaluate();\n        }\n    }\n\n    get supportCopyValue(): boolean {\n        return !!this.valueRef && document.queryCommandSupported('copy');\n    }\n    copyValue(): void {\n        const selection = document.getSelection();\n        if (this.valueRef && selection) {\n            selection.selectAllChildren(this.valueRef);\n            document.execCommand('copy');\n        }\n    }\n    protected valueRef: HTMLSpanElement | undefined;\n    protected setValueRef = (valueRef: HTMLSpanElement | null) => this.valueRef = valueRef || undefined;\n\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { TreeSource } from '@theia/core/lib/browser/source-tree';\nimport { DebugViewModel } from './debug-view-model';\nimport { DebugWatchExpression } from './debug-watch-expression';\nimport debounce = require('p-debounce');\n\n@injectable()\nexport class DebugWatchSource extends TreeSource {\n\n    @inject(DebugViewModel)\n    protected readonly model: DebugViewModel;\n\n    @postConstruct()\n    protected init(): void {\n        this.refresh();\n        this.toDispose.push(this.model.onDidChangeWatchExpressions(() => this.refresh()));\n    }\n\n    protected readonly refresh = debounce(() => this.fireDidChange(), 100);\n\n    async getElements(): Promise<IterableIterator<DebugWatchExpression>> {\n        return this.model.watchExpressions[Symbol.iterator]();\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct, interfaces, Container } from '@theia/core/shared/inversify';\nimport { MenuPath } from '@theia/core/lib/common';\nimport { SourceTreeWidget } from '@theia/core/lib/browser/source-tree';\nimport { DebugWatchSource } from './debug-watch-source';\nimport { DebugViewModel } from './debug-view-model';\nimport { nls } from '@theia/core/lib/common/nls';\n\n@injectable()\nexport class DebugWatchWidget extends SourceTreeWidget {\n\n    static CONTEXT_MENU: MenuPath = ['debug-watch-context-menu'];\n    static EDIT_MENU = [...DebugWatchWidget.CONTEXT_MENU, 'a_edit'];\n    static REMOVE_MENU = [...DebugWatchWidget.CONTEXT_MENU, 'b_remove'];\n    static FACTORY_ID = 'debug:watch';\n    static override createContainer(parent: interfaces.Container): Container {\n        const child = SourceTreeWidget.createContainer(parent, {\n            contextMenuPath: DebugWatchWidget.CONTEXT_MENU,\n            virtualized: false,\n            scrollIfActive: true\n        });\n        child.bind(DebugWatchSource).toSelf();\n        child.unbind(SourceTreeWidget);\n        child.bind(DebugWatchWidget).toSelf();\n        return child;\n    }\n    static createWidget(parent: interfaces.Container): DebugWatchWidget {\n        return DebugWatchWidget.createContainer(parent).get(DebugWatchWidget);\n    }\n\n    @inject(DebugViewModel)\n    readonly viewModel: DebugViewModel;\n\n    @inject(DebugWatchSource)\n    protected readonly variables: DebugWatchSource;\n\n    @postConstruct()\n    protected override init(): void {\n        super.init();\n        this.id = DebugWatchWidget.FACTORY_ID + ':' + this.viewModel.id;\n        this.title.label = nls.localizeByDefault('Watch');\n        this.toDispose.push(this.variables);\n        this.source = this.variables;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, postConstruct, inject, interfaces, Container } from '@theia/core/shared/inversify';\nimport {\n    BaseWidget, PanelLayout, Message, ApplicationShell, Widget, StatefulWidget, ViewContainer, codicon\n} from '@theia/core/lib/browser';\nimport { DebugSessionWidget } from './debug-session-widget';\nimport { DebugConfigurationWidget } from './debug-configuration-widget';\nimport { DebugViewModel } from './debug-view-model';\nimport { DebugSessionManager } from '../debug-session-manager';\nimport { ProgressBarFactory } from '@theia/core/lib/browser/progress-bar-factory';\nimport { nls } from '@theia/core/lib/common/nls';\n\n@injectable()\nexport class DebugWidget extends BaseWidget implements StatefulWidget, ApplicationShell.TrackableWidgetProvider {\n\n    static createContainer(parent: interfaces.Container): Container {\n        const child = DebugSessionWidget.createContainer(parent);\n        child.bind(DebugConfigurationWidget).toSelf();\n        child.bind(DebugWidget).toSelf();\n        return child;\n    }\n\n    static createWidget(parent: interfaces.Container): DebugWidget {\n        return DebugWidget.createContainer(parent).get(DebugWidget);\n    }\n\n    static ID = 'debug';\n    static LABEL = nls.localizeByDefault('Debug');\n\n    @inject(DebugViewModel)\n    readonly model: DebugViewModel;\n\n    @inject(DebugSessionManager)\n    readonly sessionManager: DebugSessionManager;\n\n    @inject(DebugConfigurationWidget)\n    protected readonly toolbar: DebugConfigurationWidget;\n\n    @inject(DebugSessionWidget)\n    protected readonly sessionWidget: DebugSessionWidget;\n\n    @inject(ProgressBarFactory)\n    protected readonly progressBarFactory: ProgressBarFactory;\n\n    @postConstruct()\n    protected init(): void {\n        this.id = DebugWidget.ID;\n        this.title.label = DebugWidget.LABEL;\n        this.title.caption = DebugWidget.LABEL;\n        this.title.closable = true;\n        this.title.iconClass = codicon('debug-alt');\n        this.addClass('theia-debug-container');\n        this.toDispose.pushAll([\n            this.toolbar,\n            this.sessionWidget,\n        ]);\n\n        const layout = this.layout = new PanelLayout();\n        layout.addWidget(this.toolbar);\n        layout.addWidget(this.sessionWidget);\n\n        this.toDispose.push(this.progressBarFactory({ container: this.node, insertMode: 'prepend', locationId: 'debug' }));\n    }\n\n    protected override onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        this.toolbar.focus();\n    }\n\n    getTrackableWidgets(): Widget[] {\n        return [this.sessionWidget];\n    }\n\n    storeState(): object {\n        return this.sessionWidget.storeState();\n    }\n\n    restoreState(oldState: ViewContainer.State): void {\n        this.sessionWidget.restoreState(oldState);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n// FIXME: refactor extensions to get rid of this file and remove it\n\nexport * from './debug-configuration';\n","// *****************************************************************************\n// Copyright (C) 2022 EclipseSource and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { isObject } from '@theia/core/lib/common';\nimport { TaskIdentifier } from '@theia/task/lib/common';\n\nexport const defaultCompound: DebugCompound = { name: 'Compound', configurations: [] };\n\nexport interface DebugCompound {\n    name: string;\n    stopAll?: boolean;\n    preLaunchTask?: string | TaskIdentifier;\n    configurations: (string | { name: string, folder: string })[];\n}\n\nexport namespace DebugCompound {\n    export function is(arg: unknown): arg is DebugCompound {\n        return isObject(arg) && 'name' in arg && 'configurations' in arg;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nimport { isObject } from '@theia/core/lib/common';\nimport { TaskIdentifier } from '@theia/task/lib/common';\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n/**\n * Configuration for a debug adapter session.\n */\nexport interface DebugConfiguration {\n    /**\n     * The type of the debug adapter session.\n     */\n    type: string;\n\n    /**\n     * The name of the debug adapter session.\n     */\n    name: string;\n\n    /**\n     * Additional debug type specific properties.\n     */\n    [key: string]: any;\n\n    parentSessionId?: string;\n\n    lifecycleManagedByParent?: boolean;\n\n    consoleMode?: DebugConsoleMode;\n\n    compact?: boolean;\n\n    /**\n     * The request type of the debug adapter session.\n     */\n    request: string;\n\n    /**\n     * If noDebug is true the launch request should launch the program without enabling debugging.\n     */\n    noDebug?: boolean;\n\n    /**\n     * Optional data from the previous, restarted session.\n     * The data is sent as the 'restart' attribute of the 'terminated' event.\n     * The client should leave the data intact.\n     */\n    __restart?: boolean;\n\n    /** default: neverOpen */\n    openDebug?: 'neverOpen' | 'openOnSessionStart' | 'openOnFirstSessionStart' | 'openOnDebugBreak';\n\n    /** default: neverOpen */\n    internalConsoleOptions?: 'neverOpen' | 'openOnSessionStart' | 'openOnFirstSessionStart'\n\n    /** Task to run before debug session starts */\n    preLaunchTask?: string | TaskIdentifier;\n\n    /** Task to run after debug session ends */\n    postDebugTask?: string | TaskIdentifier;\n\n    /**\n     * When true, a save will not be triggered for open editors when starting a debug session,\n     * regardless of the value of the `debug.saveBeforeStart` setting.\n     */\n    suppressSaveBeforeStart?: boolean;\n\n    /** When true, the window statusbar color will not be changed for this session. */\n    suppressDebugStatusbar?: boolean;\n\n    /** When true, the debug viewlet will not be automatically revealed for this session. */\n    suppressDebugView?: boolean;\n\n    /** Disable the warning when trying to start the same debug configuration more than once. */\n    suppressMultipleSessionWarning?: boolean;\n}\nexport namespace DebugConfiguration {\n    export function is(arg: unknown): arg is DebugConfiguration {\n        return isObject(arg) && 'type' in arg && 'name' in arg && 'request' in arg;\n    }\n}\n\nexport interface DebugSessionOptions {\n    lifecycleManagedByParent?: boolean;\n    parentSessionId?: string;\n    consoleMode?: DebugConsoleMode;\n    noDebug?: boolean;\n    compact?: boolean;\n    suppressSaveBeforeStart?: boolean;\n    suppressDebugStatusbar?: boolean;\n    suppressDebugView?: boolean;\n    testRun?: {\n        controllerId: string,\n        runId: string\n    }\n}\n\nexport enum DebugConsoleMode {\n    Separate = 0,\n    MergeWithParent = 1\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Channel, Disposable, Emitter, Event } from '@theia/core';\nimport { ApplicationError } from '@theia/core/lib/common/application-error';\nimport { IJSONSchema, IJSONSchemaSnippet } from '@theia/core/lib/common/json-schema';\nimport { CommandIdVariables } from '@theia/variable-resolver/lib/common/variable-types';\nimport { DebugConfiguration } from './debug-configuration';\n\nexport interface DebuggerDescription {\n    type: string\n    label: string\n}\n\n/**\n * The WS endpoint path to the Debug service.\n */\nexport const DebugPath = '/services/debug';\n\n/**\n * DebugService symbol for DI.\n */\nexport const DebugService = Symbol('DebugService');\n\n/**\n * This service provides functionality to configure and to start a new debug adapter session.\n * The workflow is the following. If user wants to debug an application and\n * there is no debug configuration associated with the application then\n * the list of available providers is requested to create suitable debug configuration.\n * When configuration is chosen it is possible to alter the configuration\n * by filling in missing values or by adding/changing/removing attributes. For this purpose the\n * #resolveDebugConfiguration method is invoked. After that the debug adapter session will be started.\n */\nexport interface DebugService extends Disposable {\n    onDidChangeDebuggers?: Event<void>;\n\n    /**\n     * Finds and returns an array of registered debug types.\n     * @returns An array of registered debug types\n     */\n    debugTypes(): Promise<string[]>;\n\n    getDebuggersForLanguage(language: string): Promise<DebuggerDescription[]>;\n\n    /**\n     * Provide debugger contributed variables\n     * see \"variables\" at https://code.visualstudio.com/api/references/contribution-points#contributes.debuggers\n     */\n    provideDebuggerVariables(debugType: string): Promise<CommandIdVariables>;\n\n    /**\n     * Provides the schema attributes.\n     * @param debugType The registered debug type\n     * @returns An JSON Schema describing the configuration attributes for the given debug type\n     */\n    getSchemaAttributes(debugType: string): Promise<IJSONSchema[]>;\n\n    getConfigurationSnippets(): Promise<IJSONSchemaSnippet[]>;\n\n    /**\n     * Provides initial [debug configuration](#DebugConfiguration).\n     * @param debugType The registered debug type\n     * @returns An array of [debug configurations](#DebugConfiguration)\n     */\n    provideDebugConfigurations(debugType: string, workspaceFolderUri: string | undefined): Promise<DebugConfiguration[]>;\n\n    /**\n     * @returns A Record of debug configuration provider types and a corresponding dynamic debug configurations array\n     */\n    provideDynamicDebugConfigurations?(folder?: string): Promise<Record<string, DebugConfiguration[]>>;\n\n    /**\n     * Provides a dynamic debug configuration matching the name and the provider debug type\n     */\n    fetchDynamicDebugConfiguration(name: string, type: string, folder?: string): Promise<DebugConfiguration | undefined>;\n\n    /**\n     * Resolves a [debug configuration](#DebugConfiguration) by filling in missing values\n     * or by adding/changing/removing attributes before variable substitution.\n     * @param debugConfiguration The [debug configuration](#DebugConfiguration) to resolve.\n     * @returns The resolved debug configuration, undefined or null.\n     */\n    resolveDebugConfiguration(\n        config: DebugConfiguration,\n        workspaceFolderUri: string | undefined\n    ): Promise<DebugConfiguration | undefined | null>;\n\n    /**\n     * Resolves a [debug configuration](#DebugConfiguration) by filling in missing values\n     * or by adding/changing/removing attributes with substituted variables.\n     * @param debugConfiguration The [debug configuration](#DebugConfiguration) to resolve.\n     * @returns The resolved debug configuration, undefined or null.\n     */\n    resolveDebugConfigurationWithSubstitutedVariables(\n        config: DebugConfiguration,\n        workspaceFolderUri: string | undefined\n    ): Promise<DebugConfiguration | undefined | null>;\n\n    /**\n     * Creates a new [debug adapter session](#DebugAdapterSession).\n     * @param config The resolved [debug configuration](#DebugConfiguration).\n     * @param workspaceFolderUri The workspace folder for this sessions or undefined when folderless\n     * @returns The identifier of the created [debug adapter session](#DebugAdapterSession).\n     */\n    createDebugSession(config: DebugConfiguration, workspaceFolderUri: string | undefined): Promise<string>;\n\n    /**\n     * Stop a running session for the given session id.\n     */\n    terminateDebugSession(sessionId: string): Promise<void>;\n\n    /**\n     * Event handle to indicate when one or more dynamic debug configuration providers\n     * have been registered or unregistered.\n     */\n    onDidChangeDebugConfigurationProviders: Event<void>;\n}\n\n/**\n * The endpoint path to the debug adapter session.\n */\nexport const DebugAdapterPath = '/services/debug-adapter';\n\nexport namespace DebugError {\n    export const NotFound = ApplicationError.declare(-41000, (type: string) => ({\n        message: `'${type}' debugger type is not supported.`,\n        data: { type }\n    }));\n}\n\n/**\n * A closeable channel to send debug protocol messages over with error/close handling\n */\nexport interface DebugChannel {\n    send(content: string): void;\n    onMessage(cb: (message: string) => void): void;\n    onError(cb: (reason: unknown) => void): void;\n    onClose(cb: (code: number, reason: string) => void): void;\n    close(): void;\n}\n\n/**\n * A {@link DebugChannel} wrapper implementation that sends and receives messages to/from an underlying {@link Channel}.\n */\nexport class ForwardingDebugChannel implements DebugChannel {\n    private onMessageEmitter = new Emitter<string>();\n\n    constructor(private readonly underlyingChannel: Channel) {\n        this.underlyingChannel.onMessage(msg => this.onMessageEmitter.fire(msg().readString()));\n    }\n\n    send(content: string): void {\n        this.underlyingChannel.getWriteBuffer().writeString(content).commit();\n    }\n\n    onMessage(cb: (message: string) => void): void {\n        this.onMessageEmitter.event(cb);\n    }\n    onError(cb: (reason: unknown) => void): void {\n        this.underlyingChannel.onError(cb);\n    }\n    onClose(cb: (code: number, reason: string) => void): void {\n        this.underlyingChannel.onClose(event => cb(event.code ?? -1, event.reason));\n    }\n\n    close(): void {\n        this.underlyingChannel.close();\n        this.onMessageEmitter.dispose();\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2022 STMicroelectronics and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/**\n * The URI scheme for debug URIs.\n */\nexport const DEBUG_SCHEME = 'debug';\n/**\n * The pattern for URI schemes.\n */\nexport const SCHEME_PATTERN = /^[a-zA-Z][a-zA-Z0-9\\+\\-\\.]+:/;\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation and others. All rights reserved.\n *  Licensed under the MIT License. See https://github.com/Microsoft/vscode/blob/master/LICENSE.txt for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable, DisposableCollection, Event, Emitter } from '@theia/core';\nimport { TrackedRangeStickiness } from '@theia/editor/lib/browser';\nimport * as monaco from '@theia/monaco-editor-core';\n\nexport interface MonacoEditorViewZone extends monaco.editor.IViewZone {\n    id: string;\n}\n\nexport class MonacoEditorZoneWidget implements Disposable {\n\n    private arrow: Arrow | undefined;\n\n    readonly zoneNode = document.createElement('div');\n    readonly containerNode = document.createElement('div');\n\n    protected readonly onDidLayoutChangeEmitter = new Emitter<monaco.editor.IDimension>();\n    readonly onDidLayoutChange: Event<monaco.editor.IDimension> = this.onDidLayoutChangeEmitter.event;\n\n    protected viewZone: MonacoEditorViewZone | undefined;\n\n    protected readonly toHide = new DisposableCollection();\n\n    protected readonly toDispose = new DisposableCollection(\n        this.onDidLayoutChangeEmitter,\n        this.toHide\n    );\n\n    editor: monaco.editor.ICodeEditor;\n\n    constructor(\n        editorInstance: monaco.editor.ICodeEditor, readonly showArrow: boolean = true\n    ) {\n        this.editor = editorInstance;\n        this.zoneNode.classList.add('zone-widget');\n        this.containerNode.classList.add('zone-widget-container');\n        this.zoneNode.appendChild(this.containerNode);\n        this.updateWidth();\n        this.toDispose.push(this.editor.onDidLayoutChange(info => this.updateWidth(info)));\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n        this.hide();\n    }\n\n    protected _options: MonacoEditorZoneWidget.Options | undefined;\n    get options(): MonacoEditorZoneWidget.Options | undefined {\n        return this.viewZone ? this._options : undefined;\n    }\n\n    hide(): void {\n        this.toHide.dispose();\n    }\n\n    show(options: MonacoEditorZoneWidget.Options): void {\n        let { afterLineNumber, afterColumn, heightInLines } = this._options = { showFrame: true, ...options };\n        const lineHeight = this.editor.getOption(monaco.editor.EditorOption.lineHeight);\n        // adjust heightInLines to viewport\n        const maxHeightInLines = Math.max(12, (this.editor.getLayoutInfo().height / lineHeight) * 0.8);\n        heightInLines = Math.min(heightInLines, maxHeightInLines);\n        let arrowHeight = 0;\n        this.toHide.dispose();\n        this.editor.changeViewZones(accessor => {\n            this.zoneNode.style.top = '-1000px';\n            const domNode = document.createElement('div');\n            domNode.style.overflow = 'hidden';\n            const zone: monaco.editor.IViewZone = {\n                domNode,\n                afterLineNumber,\n                afterColumn,\n                heightInLines,\n                onDomNodeTop: zoneTop => this.updateTop(zoneTop),\n                onComputedHeight: zoneHeight => this.updateHeight(zoneHeight)\n            };\n            this.viewZone = Object.assign(zone, {\n                id: accessor.addZone(zone)\n            });\n            const id = this.viewZone.id;\n            this.toHide.push(Disposable.create(() => {\n                this.editor.changeViewZones(a => a.removeZone(id));\n                this.viewZone = undefined;\n            }));\n            if (this.showArrow) {\n                this.arrow = new Arrow(this.editor);\n                arrowHeight = Math.round(lineHeight / 3);\n                this.arrow.height = arrowHeight;\n                this.arrow.show({ lineNumber: options.afterLineNumber, column: 0 });\n\n                this.toHide.push(this.arrow);\n            }\n            const widget: monaco.editor.IOverlayWidget = {\n                getId: () => 'editor-zone-widget-' + id,\n                getDomNode: () => this.zoneNode,\n                // eslint-disable-next-line no-null/no-null\n                getPosition: () => null!\n            };\n            this.editor.addOverlayWidget(widget);\n            this.toHide.push(Disposable.create(() => this.editor.removeOverlayWidget(widget)));\n        });\n\n        this.containerNode.style.overflow = 'hidden';\n        this.updateContainerHeight(heightInLines * lineHeight);\n\n        const model = this.editor.getModel();\n        if (model) {\n            const revealLineNumber = Math.min(model.getLineCount(), Math.max(1, afterLineNumber + 1));\n            this.editor.revealLine(revealLineNumber, monaco.editor.ScrollType.Smooth);\n        }\n    }\n\n    layout(heightInLines: number): void {\n        if (this.viewZone && this.viewZone.heightInLines !== heightInLines) {\n            this.viewZone.heightInLines = heightInLines;\n            const id = this.viewZone.id;\n            this.editor.changeViewZones(accessor => accessor.layoutZone(id));\n        }\n    }\n\n    protected updateTop(top: number): void {\n        this.zoneNode.style.top = top + (this.showArrow ? 6 : 0) + 'px';\n    }\n    protected updateHeight(zoneHeight: number): void {\n        this.zoneNode.style.height = zoneHeight + 'px';\n        this.updateContainerHeight(zoneHeight);\n    }\n    protected updateContainerHeight(zoneHeight: number): void {\n        const { frameWidth, height } = this.computeContainerHeight(zoneHeight);\n        this.containerNode.style.height = height + 'px';\n        this.containerNode.style.borderTopWidth = frameWidth + 'px';\n        this.containerNode.style.borderBottomWidth = frameWidth + 'px';\n        const width = this.computeWidth();\n        this.onDidLayoutChangeEmitter.fire({ height, width });\n    }\n    protected computeContainerHeight(zoneHeight: number): {\n        height: number,\n        frameWidth: number\n    } {\n        const lineHeight = this.editor.getOption(monaco.editor.EditorOption.lineHeight);\n        const frameWidth = this._options && this._options.frameWidth;\n        const frameThickness = this._options && this._options.showFrame ? Math.round(lineHeight / 9) : 0;\n        return {\n            frameWidth: frameWidth !== undefined ? frameWidth : frameThickness,\n            height: zoneHeight - 2 * frameThickness\n        };\n    }\n\n    protected updateWidth(info: monaco.editor.EditorLayoutInfo = this.editor.getLayoutInfo()): void {\n        const width = this.computeWidth(info);\n        this.zoneNode.style.width = width + 'px';\n        this.zoneNode.style.left = this.computeLeft(info) + 'px';\n    }\n    protected computeWidth(info: monaco.editor.EditorLayoutInfo = this.editor.getLayoutInfo()): number {\n        return info.width - info.minimap.minimapWidth - info.verticalScrollbarWidth;\n    }\n    protected computeLeft(info: monaco.editor.EditorLayoutInfo = this.editor.getLayoutInfo()): number {\n        // If minimap is to the left, we move beyond it\n        if (info.minimap.minimapWidth > 0 && info.minimap.minimapLeft === 0) {\n            return info.minimap.minimapWidth;\n        }\n        return 0;\n    }\n\n}\n\nclass IdGenerator {\n    private lastId: number;\n    constructor(private prefix: string) {\n        this.lastId = 0;\n    }\n\n    nextId(): string {\n        return this.prefix + (++this.lastId);\n    }\n}\n\nclass Arrow implements Disposable {\n\n    private readonly idGenerator = new IdGenerator('.arrow-decoration-');\n\n    private readonly ruleName = this.idGenerator.nextId();\n    private decorations: string[] = [];\n    private _height: number = -1;\n\n    constructor(\n        private readonly _editor: monaco.editor.ICodeEditor\n    ) { }\n\n    dispose(): void {\n        this.hide();\n    }\n\n    set height(value: number) {\n        if (this._height !== value) {\n            this._height = value;\n            this._updateStyle();\n        }\n    }\n\n    private _updateStyle(): void {\n        const style = document.createElement('style');\n        style.type = 'text/css';\n        style.media = 'screen';\n        document.getElementsByTagName('head')[0].appendChild(style);\n        const selector = `.monaco-editor ${this.ruleName}`;\n        const cssText = `border-style: solid; border-color: transparent transparent var(--theia-peekView-border); border-width:\n            ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `;\n        (<CSSStyleSheet>style.sheet).insertRule(selector + '{' + cssText + '}', 0);\n    }\n\n    show(where: monaco.IPosition): void {\n        this.decorations = this._editor.deltaDecorations(\n            this.decorations,\n            [{ range: monaco.Range.fromPositions(where), options: { className: this.ruleName, stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges } }]\n        );\n    }\n\n    hide(): void {\n        this._editor.deltaDecorations(this.decorations, []);\n    }\n}\n\nexport namespace MonacoEditorZoneWidget {\n    export interface Options {\n        afterLineNumber: number,\n        afterColumn?: number,\n        heightInLines: number,\n        showFrame?: boolean,\n        frameWidth?: number\n    }\n}\n","\"use strict\";\n\n// This file was originally written by @drudru (https://github.com/drudru/ansi_up), MIT, 2011\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ANSI_COLORS = [[{ color: \"0, 0, 0\", \"class\": \"ansi-black\" }, { color: \"187, 0, 0\", \"class\": \"ansi-red\" }, { color: \"0, 187, 0\", \"class\": \"ansi-green\" }, { color: \"187, 187, 0\", \"class\": \"ansi-yellow\" }, { color: \"0, 0, 187\", \"class\": \"ansi-blue\" }, { color: \"187, 0, 187\", \"class\": \"ansi-magenta\" }, { color: \"0, 187, 187\", \"class\": \"ansi-cyan\" }, { color: \"255,255,255\", \"class\": \"ansi-white\" }], [{ color: \"85, 85, 85\", \"class\": \"ansi-bright-black\" }, { color: \"255, 85, 85\", \"class\": \"ansi-bright-red\" }, { color: \"0, 255, 0\", \"class\": \"ansi-bright-green\" }, { color: \"255, 255, 85\", \"class\": \"ansi-bright-yellow\" }, { color: \"85, 85, 255\", \"class\": \"ansi-bright-blue\" }, { color: \"255, 85, 255\", \"class\": \"ansi-bright-magenta\" }, { color: \"85, 255, 255\", \"class\": \"ansi-bright-cyan\" }, { color: \"255, 255, 255\", \"class\": \"ansi-bright-white\" }]];\n// https://datatracker.ietf.org/doc/html/rfc3986#appendix-A\nvar linkRegex = /(https?:\\/\\/(?:[A-Za-z0-9#;/?:@=+$',_.!~*()[\\]-]|&amp;|%[A-Fa-f0-9]{2})+)/gm;\n\nvar Anser = function () {\n    _createClass(Anser, null, [{\n        key: \"escapeForHtml\",\n\n\n        /**\n         * Anser.escapeForHtml\n         * Escape the input HTML.\n         *\n         * This does the minimum escaping of text to make it compliant with HTML.\n         * In particular, the '&','<', and '>' characters are escaped. This should\n         * be run prior to `ansiToHtml`.\n         *\n         * @name Anser.escapeForHtml\n         * @function\n         * @param {String} txt The input text (containing the ANSI snippets).\n         * @returns {String} The escaped html.\n         */\n        value: function escapeForHtml(txt) {\n            return new Anser().escapeForHtml(txt);\n        }\n\n        /**\n         * Anser.linkify\n         * Adds the links in the HTML.\n         *\n         * This replaces any links in the text with anchor tags that display the\n         * link. You should apply this after you have run `ansiToHtml` on the text.\n         *\n         * @name Anser.linkify\n         * @function\n         * @param {String} txt The input text.\n         * @returns {String} The HTML containing the <a> tags (unescaped).\n         */\n\n    }, {\n        key: \"linkify\",\n        value: function linkify(txt) {\n            return new Anser().linkify(txt);\n        }\n\n        /**\n         * Anser.ansiToHtml\n         * This replaces ANSI terminal escape codes with SPAN tags that wrap the\n         * content.\n         *\n         * This function only interprets ANSI SGR (Select Graphic Rendition) codes\n         * that can be represented in HTML.\n         * For example, cursor movement codes are ignored and hidden from output.\n         * The default style uses colors that are very close to the prescribed\n         * standard. The standard assumes that the text will have a black\n         * background. These colors are set as inline styles on the SPAN tags.\n         *\n         * Another option is to set `use_classes: true` in the options argument.\n         * This will instead set classes on the spans so the colors can be set via\n         * CSS. The class names used are of the format `ansi-*-fg/bg` and\n         * `ansi-bright-*-fg/bg` where `*` is the color name,\n         * i.e black/red/green/yellow/blue/magenta/cyan/white.\n         *\n         * @name Anser.ansiToHtml\n         * @function\n         * @param {String} txt The input text.\n         * @param {Object} options The options passed to the ansiToHTML method.\n         * @returns {String} The HTML output.\n         */\n\n    }, {\n        key: \"ansiToHtml\",\n        value: function ansiToHtml(txt, options) {\n            return new Anser().ansiToHtml(txt, options);\n        }\n\n        /**\n         * Anser.ansiToJson\n         * Converts ANSI input into JSON output.\n         *\n         * @name Anser.ansiToJson\n         * @function\n         * @param {String} txt The input text.\n         * @param {Object} options The options passed to the ansiToHTML method.\n         * @returns {String} The HTML output.\n         */\n\n    }, {\n        key: \"ansiToJson\",\n        value: function ansiToJson(txt, options) {\n            return new Anser().ansiToJson(txt, options);\n        }\n\n        /**\n         * Anser.ansiToText\n         * Converts ANSI input into text output.\n         *\n         * @name Anser.ansiToText\n         * @function\n         * @param {String} txt The input text.\n         * @returns {String} The text output.\n         */\n\n    }, {\n        key: \"ansiToText\",\n        value: function ansiToText(txt) {\n            return new Anser().ansiToText(txt);\n        }\n\n        /**\n         * Anser\n         * The `Anser` class.\n         *\n         * @name Anser\n         * @function\n         * @returns {Anser}\n         */\n\n    }]);\n\n    function Anser() {\n        _classCallCheck(this, Anser);\n\n        this.fg = this.bg = this.fg_truecolor = this.bg_truecolor = null;\n        this.bright = 0;\n        this.decorations = [];\n    }\n\n    /**\n     * setupPalette\n     * Sets up the palette.\n     *\n     * @name setupPalette\n     * @function\n     */\n\n\n    _createClass(Anser, [{\n        key: \"setupPalette\",\n        value: function setupPalette() {\n            this.PALETTE_COLORS = [];\n\n            // Index 0..15 : System color\n            for (var i = 0; i < 2; ++i) {\n                for (var j = 0; j < 8; ++j) {\n                    this.PALETTE_COLORS.push(ANSI_COLORS[i][j].color);\n                }\n            }\n\n            // Index 16..231 : RGB 6x6x6\n            // https://gist.github.com/jasonm23/2868981#file-xterm-256color-yaml\n            var levels = [0, 95, 135, 175, 215, 255];\n            var format = function format(r, g, b) {\n                return levels[r] + \", \" + levels[g] + \", \" + levels[b];\n            };\n            var r = void 0,\n                g = void 0,\n                b = void 0;\n            for (var _r = 0; _r < 6; ++_r) {\n                for (var _g = 0; _g < 6; ++_g) {\n                    for (var _b = 0; _b < 6; ++_b) {\n                        this.PALETTE_COLORS.push(format(_r, _g, _b));\n                    }\n                }\n            }\n\n            // Index 232..255 : Grayscale\n            var level = 8;\n            for (var _i = 0; _i < 24; ++_i, level += 10) {\n                this.PALETTE_COLORS.push(format(level, level, level));\n            }\n        }\n\n        /**\n         * escapeForHtml\n         * Escapes the input text.\n         *\n         * @name escapeForHtml\n         * @function\n         * @param {String} txt The input text.\n         * @returns {String} The escpaed HTML output.\n         */\n\n    }, {\n        key: \"escapeForHtml\",\n        value: function escapeForHtml(txt) {\n            return txt.replace(/[&<>\\\"]/gm, function (str) {\n                return str == \"&\" ? \"&amp;\" : str == '\"' ? \"&quot;\" : str == \"<\" ? \"&lt;\" : str == \">\" ? \"&gt;\" : \"\";\n            });\n        }\n\n        /**\n         * linkify\n         * Adds HTML link elements.\n         *\n         * @name linkify\n         * @function\n         * @param {String} txt The input text.\n         * @returns {String} The HTML output containing link elements.\n         */\n\n    }, {\n        key: \"linkify\",\n        value: function linkify(txt) {\n            return txt.replace(linkRegex, function (str) {\n                return \"<a href=\\\"\" + str + \"\\\">\" + str + \"</a>\";\n            });\n        }\n\n        /**\n         * ansiToHtml\n         * Converts ANSI input into HTML output.\n         *\n         * @name ansiToHtml\n         * @function\n         * @param {String} txt The input text.\n         * @param {Object} options The options passed ot the `process` method.\n         * @returns {String} The HTML output.\n         */\n\n    }, {\n        key: \"ansiToHtml\",\n        value: function ansiToHtml(txt, options) {\n            return this.process(txt, options, true);\n        }\n\n        /**\n         * ansiToJson\n         * Converts ANSI input into HTML output.\n         *\n         * @name ansiToJson\n         * @function\n         * @param {String} txt The input text.\n         * @param {Object} options The options passed ot the `process` method.\n         * @returns {String} The JSON output.\n         */\n\n    }, {\n        key: \"ansiToJson\",\n        value: function ansiToJson(txt, options) {\n            options = options || {};\n            options.json = true;\n            options.clearLine = false;\n            return this.process(txt, options, true);\n        }\n\n        /**\n         * ansiToText\n         * Converts ANSI input into HTML output.\n         *\n         * @name ansiToText\n         * @function\n         * @param {String} txt The input text.\n         * @returns {String} The text output.\n         */\n\n    }, {\n        key: \"ansiToText\",\n        value: function ansiToText(txt) {\n            return this.process(txt, {}, false);\n        }\n\n        /**\n         * process\n         * Processes the input.\n         *\n         * @name process\n         * @function\n         * @param {String} txt The input text.\n         * @param {Object} options An object passed to `processChunk` method, extended with:\n         *\n         *  - `json` (Boolean): If `true`, the result will be an object.\n         *  - `use_classes` (Boolean): If `true`, HTML classes will be appended to the HTML output.\n         *\n         * @param {Boolean} markup\n         */\n\n    }, {\n        key: \"process\",\n        value: function process(txt, options, markup) {\n            var _this = this;\n\n            var self = this;\n            var raw_text_chunks = txt.split(/\\033\\[/);\n            var first_chunk = raw_text_chunks.shift(); // the first chunk is not the result of the split\n\n            if (options === undefined || options === null) {\n                options = {};\n            }\n            options.clearLine = /\\r/.test(txt); // check for Carriage Return\n            var color_chunks = raw_text_chunks.map(function (chunk) {\n                return _this.processChunk(chunk, options, markup);\n            });\n\n            if (options && options.json) {\n                var first = self.processChunkJson(\"\");\n                first.content = first_chunk;\n                first.clearLine = options.clearLine;\n                color_chunks.unshift(first);\n                if (options.remove_empty) {\n                    color_chunks = color_chunks.filter(function (c) {\n                        return !c.isEmpty();\n                    });\n                }\n                return color_chunks;\n            } else {\n                color_chunks.unshift(first_chunk);\n            }\n\n            return color_chunks.join(\"\");\n        }\n\n        /**\n         * processChunkJson\n         * Processes the current chunk into json output.\n         *\n         * @name processChunkJson\n         * @function\n         * @param {String} text The input text.\n         * @param {Object} options An object containing the following fields:\n         *\n         *  - `json` (Boolean): If `true`, the result will be an object.\n         *  - `use_classes` (Boolean): If `true`, HTML classes will be appended to the HTML output.\n         *\n         * @param {Boolean} markup If false, the colors will not be parsed.\n         * @return {Object} The result object:\n         *\n         *  - `content` (String): The text.\n         *  - `fg` (String|null): The foreground color.\n         *  - `bg` (String|null): The background color.\n         *  - `fg_truecolor` (String|null): The foreground true color (if 16m color is enabled).\n         *  - `bg_truecolor` (String|null): The background true color (if 16m color is enabled).\n         *  - `clearLine` (Boolean): `true` if a carriageReturn \\r was fount at end of line.\n         *  - `was_processed` (Bolean): `true` if the colors were processed, `false` otherwise.\n         *  - `isEmpty` (Function): A function returning `true` if the content is empty, or `false` otherwise.\n         *\n         */\n\n    }, {\n        key: \"processChunkJson\",\n        value: function processChunkJson(text, options, markup) {\n\n            // Are we using classes or styles?\n            options = typeof options == \"undefined\" ? {} : options;\n            var use_classes = options.use_classes = typeof options.use_classes != \"undefined\" && options.use_classes;\n            var key = options.key = use_classes ? \"class\" : \"color\";\n\n            var result = {\n                content: text,\n                fg: null,\n                bg: null,\n                fg_truecolor: null,\n                bg_truecolor: null,\n                isInverted: false,\n                clearLine: options.clearLine,\n                decoration: null,\n                decorations: [],\n                was_processed: false,\n                isEmpty: function isEmpty() {\n                    return !result.content;\n                }\n            };\n\n            // Each \"chunk\" is the text after the CSI (ESC + \"[\") and before the next CSI/EOF.\n            //\n            // This regex matches four groups within a chunk.\n            //\n            // The first and third groups match code type.\n            // We supported only SGR command. It has empty first group and \"m\" in third.\n            //\n            // The second group matches all of the number+semicolon command sequences\n            // before the \"m\" (or other trailing) character.\n            // These are the graphics or SGR commands.\n            //\n            // The last group is the text (including newlines) that is colored by\n            // the other group\"s commands.\n            var matches = text.match(/^([!\\x3c-\\x3f]*)([\\d;]*)([\\x20-\\x2c]*[\\x40-\\x7e])([\\s\\S]*)/m);\n\n            if (!matches) return result;\n\n            var orig_txt = result.content = matches[4];\n            var nums = matches[2].split(\";\");\n\n            // We currently support only \"SGR\" (Select Graphic Rendition)\n            // Simply ignore if not a SGR command.\n            if (matches[1] !== \"\" || matches[3] !== \"m\") {\n                return result;\n            }\n\n            if (!markup) {\n                return result;\n            }\n\n            var self = this;\n\n            while (nums.length > 0) {\n                var num_str = nums.shift();\n                var num = parseInt(num_str);\n\n                if (isNaN(num) || num === 0) {\n                    self.fg = self.bg = null;\n                    self.decorations = [];\n                } else if (num === 1) {\n                    self.decorations.push(\"bold\");\n                } else if (num === 2) {\n                    self.decorations.push(\"dim\");\n                    // Enable code 2 to get string\n                } else if (num === 3) {\n                    self.decorations.push(\"italic\");\n                } else if (num === 4) {\n                    self.decorations.push(\"underline\");\n                } else if (num === 5) {\n                    self.decorations.push(\"blink\");\n                } else if (num === 7) {\n                    self.decorations.push(\"reverse\");\n                } else if (num === 8) {\n                    self.decorations.push(\"hidden\");\n                    // Enable code 9 to get strikethrough\n                } else if (num === 9) {\n                    self.decorations.push(\"strikethrough\");\n                    /**\n                     * Add several widely used style codes\n                     * @see https://en.wikipedia.org/wiki/ANSI_escape_code#SGR_(Select_Graphic_Rendition)_parameters\n                     */\n                } else if (num === 21) {\n                    self.removeDecoration(\"bold\");\n                } else if (num === 22) {\n                    self.removeDecoration(\"bold\");\n                    self.removeDecoration(\"dim\");\n                } else if (num === 23) {\n                    self.removeDecoration(\"italic\");\n                } else if (num === 24) {\n                    self.removeDecoration(\"underline\");\n                } else if (num === 25) {\n                    self.removeDecoration(\"blink\");\n                } else if (num === 27) {\n                    self.removeDecoration(\"reverse\");\n                } else if (num === 28) {\n                    self.removeDecoration(\"hidden\");\n                } else if (num === 29) {\n                    self.removeDecoration(\"strikethrough\");\n                } else if (num === 39) {\n                    self.fg = null;\n                } else if (num === 49) {\n                    self.bg = null;\n                    // Foreground color\n                } else if (num >= 30 && num < 38) {\n                    self.fg = ANSI_COLORS[0][num % 10][key];\n                    // Foreground bright color\n                } else if (num >= 90 && num < 98) {\n                    self.fg = ANSI_COLORS[1][num % 10][key];\n                    // Background color\n                } else if (num >= 40 && num < 48) {\n                    self.bg = ANSI_COLORS[0][num % 10][key];\n                    // Background bright color\n                } else if (num >= 100 && num < 108) {\n                    self.bg = ANSI_COLORS[1][num % 10][key];\n                } else if (num === 38 || num === 48) {\n                    // extend color (38=fg, 48=bg)\n                    var is_foreground = num === 38;\n                    if (nums.length >= 1) {\n                        var mode = nums.shift();\n                        if (mode === \"5\" && nums.length >= 1) {\n                            // palette color\n                            var palette_index = parseInt(nums.shift());\n                            if (palette_index >= 0 && palette_index <= 255) {\n                                if (!use_classes) {\n                                    if (!this.PALETTE_COLORS) {\n                                        self.setupPalette();\n                                    }\n                                    if (is_foreground) {\n                                        self.fg = this.PALETTE_COLORS[palette_index];\n                                    } else {\n                                        self.bg = this.PALETTE_COLORS[palette_index];\n                                    }\n                                } else {\n                                    var klass = palette_index >= 16 ? \"ansi-palette-\" + palette_index : ANSI_COLORS[palette_index > 7 ? 1 : 0][palette_index % 8][\"class\"];\n                                    if (is_foreground) {\n                                        self.fg = klass;\n                                    } else {\n                                        self.bg = klass;\n                                    }\n                                }\n                            }\n                        } else if (mode === \"2\" && nums.length >= 3) {\n                            // true color\n                            var r = parseInt(nums.shift());\n                            var g = parseInt(nums.shift());\n                            var b = parseInt(nums.shift());\n                            if (r >= 0 && r <= 255 && g >= 0 && g <= 255 && b >= 0 && b <= 255) {\n                                var color = r + \", \" + g + \", \" + b;\n                                if (!use_classes) {\n                                    if (is_foreground) {\n                                        self.fg = color;\n                                    } else {\n                                        self.bg = color;\n                                    }\n                                } else {\n                                    if (is_foreground) {\n                                        self.fg = \"ansi-truecolor\";\n                                        self.fg_truecolor = color;\n                                    } else {\n                                        self.bg = \"ansi-truecolor\";\n                                        self.bg_truecolor = color;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n\n            if (self.fg === null && self.bg === null && self.decorations.length === 0) {\n                return result;\n            } else {\n                var styles = [];\n                var classes = [];\n                var data = {};\n\n                result.fg = self.fg;\n                result.bg = self.bg;\n                result.fg_truecolor = self.fg_truecolor;\n                result.bg_truecolor = self.bg_truecolor;\n                result.decorations = self.decorations;\n                result.decoration = self.decorations.slice(-1).pop() || null;\n                result.was_processed = true;\n\n                return result;\n            }\n        }\n\n        /**\n         * processChunk\n         * Processes the current chunk of text.\n         *\n         * @name processChunk\n         * @function\n         * @param {String} text The input text.\n         * @param {Object} options An object containing the following fields:\n         *\n         *  - `json` (Boolean): If `true`, the result will be an object.\n         *  - `use_classes` (Boolean): If `true`, HTML classes will be appended to the HTML output.\n         *\n         * @param {Boolean} markup If false, the colors will not be parsed.\n         * @return {Object|String} The result (object if `json` is wanted back or string otherwise).\n         */\n\n    }, {\n        key: \"processChunk\",\n        value: function processChunk(text, options, markup) {\n            var _this2 = this;\n\n            options = options || {};\n            var jsonChunk = this.processChunkJson(text, options, markup);\n            var use_classes = options.use_classes;\n\n            // \"reverse\" decoration reverses foreground and background colors\n            jsonChunk.decorations = jsonChunk.decorations.filter(function (decoration) {\n                if (decoration === \"reverse\") {\n                    // when reversing, missing colors are defaulted to black (bg) and white (fg)\n                    if (!jsonChunk.fg) {\n                        jsonChunk.fg = ANSI_COLORS[0][7][use_classes ? \"class\" : \"color\"];\n                    }\n                    if (!jsonChunk.bg) {\n                        jsonChunk.bg = ANSI_COLORS[0][0][use_classes ? \"class\" : \"color\"];\n                    }\n                    var tmpFg = jsonChunk.fg;\n                    jsonChunk.fg = jsonChunk.bg;\n                    jsonChunk.bg = tmpFg;\n                    var tmpFgTrue = jsonChunk.fg_truecolor;\n                    jsonChunk.fg_truecolor = jsonChunk.bg_truecolor;\n                    jsonChunk.bg_truecolor = tmpFgTrue;\n                    jsonChunk.isInverted = true;\n                    return false;\n                }\n                return true;\n            });\n\n            if (options.json) {\n                return jsonChunk;\n            }\n            if (jsonChunk.isEmpty()) {\n                return \"\";\n            }\n            if (!jsonChunk.was_processed) {\n                return jsonChunk.content;\n            }\n\n            var colors = [];\n            var decorations = [];\n            var textDecorations = [];\n            var data = {};\n\n            var render_data = function render_data(data) {\n                var fragments = [];\n                var key = void 0;\n                for (key in data) {\n                    if (data.hasOwnProperty(key)) {\n                        fragments.push(\"data-\" + key + \"=\\\"\" + _this2.escapeForHtml(data[key]) + \"\\\"\");\n                    }\n                }\n                return fragments.length > 0 ? \" \" + fragments.join(\" \") : \"\";\n            };\n\n            if (jsonChunk.isInverted) {\n                data[\"ansi-is-inverted\"] = \"true\";\n            }\n\n            if (jsonChunk.fg) {\n                if (use_classes) {\n                    colors.push(jsonChunk.fg + \"-fg\");\n                    if (jsonChunk.fg_truecolor !== null) {\n                        data[\"ansi-truecolor-fg\"] = jsonChunk.fg_truecolor;\n                        jsonChunk.fg_truecolor = null;\n                    }\n                } else {\n                    colors.push(\"color:rgb(\" + jsonChunk.fg + \")\");\n                }\n            }\n\n            if (jsonChunk.bg) {\n                if (use_classes) {\n                    colors.push(jsonChunk.bg + \"-bg\");\n                    if (jsonChunk.bg_truecolor !== null) {\n                        data[\"ansi-truecolor-bg\"] = jsonChunk.bg_truecolor;\n                        jsonChunk.bg_truecolor = null;\n                    }\n                } else {\n                    colors.push(\"background-color:rgb(\" + jsonChunk.bg + \")\");\n                }\n            }\n\n            jsonChunk.decorations.forEach(function (decoration) {\n                // use classes\n                if (use_classes) {\n                    decorations.push(\"ansi-\" + decoration);\n                    return;\n                }\n                // use styles\n                if (decoration === \"bold\") {\n                    decorations.push(\"font-weight:bold\");\n                } else if (decoration === \"dim\") {\n                    decorations.push(\"opacity:0.5\");\n                } else if (decoration === \"italic\") {\n                    decorations.push(\"font-style:italic\");\n                } else if (decoration === \"hidden\") {\n                    decorations.push(\"visibility:hidden\");\n                } else if (decoration === \"strikethrough\") {\n                    textDecorations.push(\"line-through\");\n                } else {\n                    // underline and blink are treated here\n                    textDecorations.push(decoration);\n                }\n            });\n\n            if (textDecorations.length) {\n                decorations.push(\"text-decoration:\" + textDecorations.join(\" \"));\n            }\n\n            if (use_classes) {\n                return \"<span class=\\\"\" + colors.concat(decorations).join(\" \") + \"\\\"\" + render_data(data) + \">\" + jsonChunk.content + \"</span>\";\n            } else {\n                return \"<span style=\\\"\" + colors.concat(decorations).join(\";\") + \"\\\"\" + render_data(data) + \">\" + jsonChunk.content + \"</span>\";\n            }\n        }\n    }, {\n        key: \"removeDecoration\",\n        value: function removeDecoration(decoration) {\n            var index = this.decorations.indexOf(decoration);\n\n            if (index >= 0) {\n                this.decorations.splice(index, 1);\n            }\n        }\n    }]);\n\n    return Anser;\n}();\n\nmodule.exports = Anser;"],"names":[],"sourceRoot":""}